diff --git a/dist/static/js/main.bundle.js b/dist/static/js/main.bundle.js
index 298bc9b..d97ef59 100644
--- a/dist/static/js/main.bundle.js
+++ b/dist/static/js/main.bundle.js
@@ -1 +1 @@
-!function(e){function t(t){for(var a,o,s=t[0],l=t[1],c=t[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(t);d.length;)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/console";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([850,1]),n()}({100:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(2),l=n.n(s),c=function(){function e(){r()(this,e)}return o()(e,null,[{key:"on",value:function(e,t,n){this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push([t,n])}},{key:"trigger",value:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),a=this.events[e];a&&_.each(a,(function(e){var a=e[0],r=void 0===e[1]?t:e[1];a.apply(r,n)}))}},{key:"off",value:function(e,t){var n=this.events[e];n&&_.remove(n,(function(e){return e[0]===t}))}}]),e}();l()(c,"events",{})},101:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a=n(2),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(32),f=n(19);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var E=function(t){function n(e){return o()(this,n),u()(this,d()(n).call(this,e))}return m()(n,t),l()(n,[{key:"getIp",value:function(){return _.get(this,"_data.ip",null)}},{key:"getCurrentUsername",value:function(){return _.get(this,"_data.username",null)}},{key:"getCurrentUserRole",value:function(){return _.get(this,"_data.auth.role",null)}},{key:"getDistributionName",value:function(){return _.get(this,"_data.version.distribution",null)}},{key:"getDistributionRelease",value:function(){return _.get(this,"_data.version.distro_release",null)}},{key:"getManagerUrl",value:function(e,t){return this._buildActualUrl(e,t)}},{key:"getSelectedTenant",value:function(){return _.get(this,"_data.tenants.selected",null)}},{key:"getSystemRoles",value:function(){var e=_.get(this,"_data.roles",null);return _.filter(e,(function(e){return"system_role"===e.type}))}},{key:"_buildActualUrl",value:function(t,n){var a=t.indexOf("[manager]");if(a>=0){var i=t.substring(a+"[manager]".length),o=encodeURIComponent(i);t=t.substring(0,a),n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{su:o});var s=(t.indexOf("?")>0?_.endsWith(t,"?")?"":"&":"?")+e.param(n,!0);return t+s}s=n?(t.indexOf("?")>0?"&":"?")+e.param(n,!0):"",o=encodeURIComponent(t+s);return f.a.Url.url("/sp/?su=".concat(o))}},{key:"doGetFull",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{items:[]},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;n._size=1e3,n._offset=i;var o=this.doGet(e,n,a);return o.then((function(o){return i+=o.items.length,r.items=_.concat(r.items,o.items),_.get(o,"metadata.pagination.total")>i?t.doGetFull(e,n,a,r,i):r}))}}]),n}(g.a)}).call(this,n(43))},102:function(e,t,n){"use strict";var a=n(13),r=n(5),i=n.n(r),o=n(6),s=n.n(o),l=n(32),c=n(117),u=function(){function e(){i()(this,e)}return s()(e,null,[{key:"load",value:function(e){console.log("Load templates");var t={},n={},a=new l.a(e);return Promise.all([a.doGet("/templates"),a.doGet("/templates/pages")]).then((function(e){var a=e[0],r=e[1],i=[];return a.forEach((function(e){i.push(c.a.fetchResource("templates/".concat(e.id,".json"),e.custom).then((function(n){return t[e.id]=n})).catch((function(t){throw new Error("Error loading template ".concat(e.id),t)})))})),r.forEach((function(e){i.push(c.a.fetchResource("templates/pages/".concat(e.id,".json"),e.custom).then((function(t){return n[e.id]=t})).catch((function(t){throw new Error("Error loading page template ".concat(e.id),t)})))})),Promise.all(i)})).then((function(){return{templatesDef:t,pagesDef:n}})).catch((function(e){console.error(e)}))}}]),e}();function p(){return function(e,t){return u.load(t().manager).then((function(t){return e((n=t,{type:a.ib,templates:n}));var n}))}}function d(e,t){return{type:a.c,templateId:e,pages:t}}function h(e,t){return{type:a.l,templateId:e,pages:t}}function m(e){return{type:a.H,templateId:e}}function g(e,t,n){return{type:a.d,pageId:e,name:t,widgets:n}}function f(e){return{type:a.I,pageId:e}}n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return f}))},1030:function(e,t,n){var a=n(1031);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(79)(a,r);a.locals&&(e.exports=a.locals)},1031:function(e,t,n){(e.exports=n(78)(!1)).push([e.i,'a:hover {\n  text-decoration: underline !important;\n  cursor: pointer; }\n\n.loadingSegment {\n  height: 100%;\n  z-index: 5 !important; }\n\n.ui.top.menu .right.menu .ui.dropdown.item {\n  padding: 5px 10px;\n  border-left: none;\n  height: 55px; }\n\n.dropDownText, .compactBlock {\n  display: inline-block; }\n\n.sidebar-button {\n  color: #FFFFFF;\n  padding: 15px; }\n\n@media (min-width: 992px) {\n  .show-on-small-screen {\n    display: none !important; } }\n\n@media (max-width: 800px) {\n  .hide-on-small-screen {\n    display: none !important; } }\n\n.main {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 55px;\n  overflow: auto; }\n  .main .sidebar.ui.left.menu {\n    z-index: 100;\n    top: 55px;\n    height: calc(100% - 55px) !important;\n    transition: all 500ms cubic-bezier(0.55, 0, 0.1, 1);\n    left: -200px; }\n    @media (min-width: 992px) {\n      .main .sidebar.ui.left.menu {\n        left: 0; } }\n    .main .sidebar.ui.left.menu.open {\n      left: 0 !important; }\n    .main .sidebar.ui.left.menu .item:before {\n      background-color: #C1C1C6; }\n  .main .ui.left.menu.sidebar.editSideBar {\n    height: calc(100% - 109px) !important; }\n  @media (min-width: 992px) {\n    .main .page {\n      margin-left: 13rem; } }\n  .main .page div.addWidget .ui.labeled.icon.button.addWidgetBtn {\n    position: absolute;\n    top: 2rem;\n    right: 15px; }\n  .main .ui.breadcrumb .section:not(.active) {\n    cursor: pointer; }\n\n.ui.segment.addPageContainer {\n  position: fixed;\n  left: 0px;\n  bottom: 0px;\n  width: 13rem;\n  z-index: 1;\n  transition: all 500ms cubic-bezier(0.55, 0, 0.1, 1);\n  left: -200px; }\n  @media (min-width: 992px) {\n    .ui.segment.addPageContainer {\n      left: 0px; } }\n  .ui.segment.addPageContainer.open {\n    left: 0px !important; }\n\n.grid-stack > .grid-stack-item.widget > .grid-stack-item-content {\n  overflow-x: initial;\n  overflow-y: initial; }\n\n.gridStackBottomSpace {\n  height: 150px; }\n\n.react-grid-item.widget {\n  z-index: auto !important; }\n\n.maximizeWidget .widget {\n  display: none; }\n  .maximizeWidget .widget.maximize {\n    display: block;\n    width: auto !important;\n    height: auto !important;\n    transform: translate(0px, 0px) !important;\n    position: fixed !important;\n    top: 8rem !important;\n    bottom: 1rem !important;\n    left: 14rem !important;\n    right: 1rem !important;\n    outline: 0; }\n    .maximizeWidget .widget.maximize .widget {\n      display: block; }\n\n.pageRemoveButton {\n  position: absolute;\n  right: 5px;\n  display: none;\n  visibility: hidden;\n  top: 40%; }\n\n.pageMenuItem:hover .pageRemoveButton {\n  display: block;\n  visibility: visible; }\n\n.pageDescription {\n  opacity: 0.6;\n  font-size: 12px; }\n  .pageDescription.editPlaceholder {\n    font-style: italic; }\n\n.pageTitle {\n  clear: both;\n  line-height: 1.5; }\n\n.pages .ui-sortable-helper {\n  background-color: rgba(255, 255, 255, 0.4) !important; }\n\n.pages .ui-sortable-placeholder {\n  height: 40px !important; }\n\n.react-grid-placeholder {\n  background-color: #ccc !important;\n  border: 2px dotted #777;\n  border-radius: 2px; }\n\n.layout.isEditMode {\n  background-color: #fafafa;\n  border: 1px solid #eee;\n  border-radius: 5px; }\n\n.layout > .react-draggable {\n  background-color: rgba(0, 0, 0, 0.04);\n  border-radius: 2px; }\n\n.layout > .react-draggable-dragging {\n  opacity: 0.3;\n  filter: blur(1px); }\n\n.layout .widgetItem {\n  height: 100%; }\n\n.layout .widgetWithoutContent {\n  overflow: auto; }\n\n.widget .widgetEditButtons, .widget .widgetViewButtons {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  display: none;\n  z-index: 5; }\n  .widget .widgetEditButtons a, .widget .widgetViewButtons a {\n    color: inherit !important; }\n  .widget .widgetEditButtons a:hover, .widget .widgetViewButtons a:hover {\n    text-decoration: none !important; }\n\n.widget .widgetViewButtons.alwaysOnTop {\n  display: block; }\n\n.widget:hover .widgetEditButtons, .widget:hover .widgetViewButtons {\n  display: block; }\n\n.widget:hover .ui.basic.segment.borderOnHover {\n  border: 1px solid rgba(34, 36, 38, 0.15); }\n\n.widget .row {\n  cursor: pointer; }\n  .widget .row .rowActions {\n    white-space: nowrap; }\n\n.widget .ui.segment.widgetItem {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; }\n\n.widget .widgetContent {\n  position: absolute;\n  top: 35px;\n  bottom: 15px;\n  left: 0px;\n  right: 0px;\n  overflow: auto;\n  padding: 15px; }\n  .widget .widgetContent.noHeader {\n    top: 0px; }\n  .widget .widgetContent.noBorder {\n    overflow: initial;\n    padding: 0px !important; }\n\n.uploadSnapshot {\n  float: right; }\n\n.createSnapshot {\n  float: right; }\n\n.snapshotsButtons {\n  position: relative;\n  bottom: 5px; }\n\n.editWidgetModal {\n  max-height: none; }\n\n.addWidgetModal {\n  max-height: 600px; }\n  .addWidgetModal .widgetsList {\n    height: 435px;\n    overflow: auto;\n    padding-top: 5px; }\n    .addWidgetModal .widgetsList .item {\n      padding: 30px 10px;\n      cursor: pointer;\n      align-items: center; }\n      .addWidgetModal .widgetsList .item:hover {\n        background-color: #eee;\n        border-radius: 5px; }\n      .addWidgetModal .widgetsList .item .image > img {\n        object-fit: contain;\n        height: 80px !important;\n        border-radius: 5px;\n        background: #fff;\n        border: 1px dotted #eee;\n        transition: all 500ms ease-in-out; }\n        .addWidgetModal .widgetsList .item .image > img:hover {\n          transform: scale(1.3);\n          box-shadow: 0px 8px 20px -6px rgba(0, 0, 0, 0.75); }\n  .addWidgetModal .widgetsList .selectWidgetButton {\n    margin-right: 10px !important; }\n  .addWidgetModal .addWidgetCheckbox {\n    margin-left: 10px;\n    margin-right: 20px;\n    margin-top: auto;\n    margin-bottom: auto;\n    height: 20px; }\n\n.logoPage.ui.segment {\n  margin: 0 !important;\n  padding: 0 !important;\n  overflow: auto;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  border: none !important;\n  border-radius: 0 !important; }\n  .logoPage.ui.segment .loginContainer {\n    margin: auto;\n    width: 350px;\n    height: 170px;\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0; }\n    .logoPage.ui.segment .loginContainer input,\n    .logoPage.ui.segment .loginContainer input:placeholder-shown {\n      margin: 0 50px;\n      color: #FFFFFF !important;\n      background: rgba(255, 255, 255, 0.3) !important; }\n    .logoPage.ui.segment .loginContainer input:focus,\n    .logoPage.ui.segment .loginContainer input:placeholder-shown:focus {\n      background: rgba(255, 255, 255, 0.6); }\n    .logoPage.ui.segment .loginContainer input::placeholder {\n      color: #FFFFFF;\n      opacity: 1 !important;\n      /* Firefox */ }\n    .logoPage.ui.segment .loginContainer button {\n      display: block;\n      margin: 30px auto;\n      width: 50%;\n      border-radius: 25px;\n      color: #FFFFFF; }\n  .logoPage.ui.segment .loginContainerExtended {\n    height: 400px; }\n\n.keyIndicator {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n.keyIndicator > div {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  white-space: nowrap; }\n\n.manager .icon.statusIcon {\n  line-height: 18px;\n  margin-right: 0px;\n  margin-left: 7px; }\n\n.tenantsMenu .menu {\n  minWidth: 190px;\n  left: auto !important;\n  right: 0; }\n\n.tenantsMenu .configure.icon {\n  margin: 0 0 0 0.5em !important;\n  opacity: 0.5 !important; }\n\n.usersMenu .dropdown.icon {\n  margin: 0 0 0 0.4em !important; }\n\n.usersMenu > span {\n  margin-top: 1px; }\n\n.tenantsMenu .dropdown.icon, .helpMenu .dropdown.icon {\n  margin: 0 0 0 0.4em !important;\n  vertical-align: middle; }\n\n.tenantsMenu i + span, .helpMenu i + span {\n  vertical-align: middle; }\n\ntable.servicesData {\n  margin-left: auto !important;\n  margin-right: auto !important; }\n\ntable.servicesData button.refreshButton {\n  width: auto !important; }\n\n.helpMenu .help.icon {\n  margin: 0 !important; }\n\n.helpMenu a {\n  color: inherit !important; }\n\n.helpMenu a:hover {\n  text-decoration: none !important; }\n\n.managerVersion {\n  font-size: 0.8em; }\n\n.ui.menu:not(.vertical) .item.configPanel {\n  flex-direction: row;\n  align-items: flex-end; }\n\n.ui.inline.loader.widgetLoader {\n  position: absolute;\n  left: auto;\n  bottom: auto;\n  display: none;\n  right: 50px;\n  z-index: 5; }\n  .ui.inline.loader.widgetLoader.header {\n    top: 4px; }\n  .ui.inline.loader.widgetLoader.noheader {\n    top: 5px; }\n\n/* Grid table */\n.gridTable .noDataRow {\n  height: 50px; }\n\n.actionField {\n  margin-left: auto !important;\n  padding-right: 0px !important; }\n  .actionField > button {\n    margin-right: 1em; }\n  .actionField > button:last-child, .actionField > div:last-child button {\n    margin-right: 0 !important; }\n  .actionField > div {\n    display: inline-block; }\n\n.actionIcons > i.icon {\n  margin-right: 2px !important; }\n\n.dataExpandable-appear {\n  opacity: 0.01; }\n\n.dataExpandable-appear.dataExpandable-appear-active {\n  opacity: 1;\n  transition: opacity .5s ease-in; }\n\n.dataExpandable-enter {\n  opacity: 0.01; }\n\n.dataExpandable-enter.dataExpandable-enter-active {\n  opacity: 1;\n  transition: opacity 500ms ease-in; }\n\n/* Pagination */\n.gridPagination .pagination.menu .item {\n  padding-top: 0.78571429em !important;\n  padding-bottom: 0.78571429em !important; }\n\n.gridPagination .compact.dropdown {\n  min-width: 50px !important; }\n\n/* Segment list */\n.segmentList .segments {\n  border: none !important; }\n\n.segmentList .segment {\n  box-shadow: none !important; }\n  .segmentList .segment .nodeState .segment {\n    padding: 2px 0px !important; }\n  .segmentList .segment .ui.inverted.darkyellow {\n    background-color: #ffa000 !important;\n    color: #FFFFFF !important; }\n  .segmentList .segment .nodeState .icon {\n    margin-right: 0px; }\n\n.segmentList .segment:hover {\n  background-color: #f3f4f5; }\n\n.segmentList .menuAction {\n  position: absolute;\n  right: 10px; }\n\n.segmentList .ui.icon.header {\n  color: inherit; }\n  .segmentList .ui.icon.header .content {\n    margin-bottom: 5px; }\n  .segmentList .ui.icon.header .icon {\n    font-size: 2em;\n    margin-bottom: 0px; }\n\n.segmentList .ui.header a {\n  color: inherit; }\n\n.segmentList .row.bottomDivider img {\n  width: auto;\n  max-width: 150px !important;\n  height: 70px;\n  display: inline-block; }\n\n.segmentList .row.bottomDivider .ui.header {\n  margin-left: 2rem;\n  margin-top: auto !important;\n  vertical-align: middle !important;\n  display: inline-block;\n  max-width: calc(100% - 150px); }\n\n.ui.grid .rightDivider {\n  position: relative; }\n\n.ui.grid .rightDivider::after {\n  content: "";\n  border-left: 1px solid rgba(34, 36, 38, 0.15);\n  border-right: 1px solid rgba(255, 255, 255, 0.1);\n  height: calc(100% - 2rem);\n  position: absolute;\n  right: 0;\n  top: 1rem;\n  width: 0px; }\n\n.ui.grid .bottomDivider {\n  position: relative; }\n\n.ui.grid .bottomDivider::after {\n  content: "";\n  border-top: 1px solid rgba(34, 36, 38, 0.15);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  width: calc(100% - 2rem);\n  position: absolute;\n  left: 1rem;\n  bottom: 0px;\n  height: 0px; }\n\n.breakWord {\n  display: block !important;\n  word-wrap: break-word; }\n\n/* Popup Menu */\n.popupMenu {\n  padding: 0 !important; }\n  .popupMenu .ui.menu {\n    border: none !important;\n    width: inherit !important;\n    min-width: 12rem; }\n  .popupMenu .ui.menu a:hover {\n    text-decoration: none !important; }\n  .popupMenu .ui.vertical.menu .menu .item {\n    color: #000000; }\n  .popupMenu .ui.vertical.menu .menu .item:hover {\n    background: rgba(0, 0, 0, 0.03); }\n\n/* Modal */\n.ui.modal.readmeModal img {\n  max-width: 100% !important; }\n\n.ui.modal.unlimited > .content {\n  max-height: none;\n  overflow: inherit; }\n\n.confirmModal.ui.modal > .content, .setVisibilityModal.ui.modal > .content {\n  font-size: 1.3em;\n  line-height: 1.28571429em;\n  font-weight: 700; }\n\n.ui.modal.tiny {\n  width: 500px !important;\n  margin-left: -222px !important; }\n\n.ui.tiny.modal > .header:not(.ui) {\n  font-size: 1.3em; }\n\n/* Center vertically */\n.rightFloated {\n  float: right; }\n\n.leftFloated {\n  float: left; }\n\n.verticalCenter {\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%); }\n\n.alignCenter {\n  text-align: center !important; }\n\n.noWrap {\n  white-space: nowrap !important; }\n\n.fullHeight {\n  height: 100%; }\n\n.noPadded {\n  padding: 0px !important; }\n\n.ui.dropdown .menu > .item.indent {\n  padding-left: 30px !important; }\n\n.ui.dropdown > a.label {\n  text-decoration: none !important; }\n\n.ui.dropdown.multiple[role=combobox][aria-expanded=false] {\n  overflow-y: auto;\n  max-height: 35px; }\n\n.ui.form .inline.fields {\n  align-items: unset !important; }\n\n.ui.divided.light.list > .item {\n  border-top: 1px solid #F0F0F0; }\n\n.ui.divided.light.list > .item:first-child {\n  border-top: none; }\n\n.ui.fullscreen.scrolling.modal.readmeModal,\n.ui.fullscreen.modal.readmeModal {\n  left: auto !important; }\n\n/* A href underscore */\na.underline {\n  text-decoration: none !important;\n  color: inherit; }\n  a.underline:hover {\n    color: inherit; }\n  a.underline::before {\n    backface-visibility: hidden;\n    background-color: inherit;\n    bottom: 1px;\n    content: "";\n    height: 1px;\n    left: 0;\n    position: absolute;\n    top: auto;\n    transform: scaleX(0);\n    transition: all 0.2s ease 0s;\n    width: 100%; }\n  a.underline:hover::before {\n    background-color: #000000;\n    transform: scaleX(1); }\n\n.clickable {\n  cursor: pointer; }\n\n.superscripted {\n  vertical-align: super; }\n\n.gaugeContainer {\n  width: 100%;\n  height: 100%; }\n  .gaugeContainer svg {\n    width: 100%;\n    height: 100%; }\n  .gaugeContainer .backgroundColor {\n    fill: #A4A4A4; }\n  .gaugeContainer .okColor {\n    fill: #269FA9; }\n  .gaugeContainer .lowColor {\n    fill: #FF2832; }\n  .gaugeContainer .highColor {\n    fill: #23804D; }\n\n/* NodesTree */\n.nodes-tree li .rc-tree-node-content-wrapper {\n  display: inline !important;\n  padding: 1px 3px 3px 0  !important; }\n\n.typesHierarchy .rc-tree-switcher_open {\n  display: none !important; }\n\n/* Splitter */\n.widgetContent .splitter-layout {\n  top: 1rem;\n  bottom: 0;\n  left: 1rem;\n  right: 1rem;\n  width: inherit;\n  height: inherit; }\n  .widgetContent .splitter-layout > .layout-splitter {\n    background-color: #eee; }\n\n.ui.sidebar.editModeSidebar {\n  box-shadow: none !important;\n  background-color: transparent !important;\n  max-width: 500px !important;\n  margin: 0 calc(50% - 250px) !important;\n  display: block; }\n  @media (min-width: 992px) {\n    .ui.sidebar.editModeSidebar {\n      left: 6.5rem !important; } }\n  .ui.sidebar.editModeSidebar .content {\n    margin-top: 10px;\n    display: inline-block;\n    width: 100%; }\n  .ui.sidebar.editModeSidebar .button {\n    margin-left: 5px;\n    margin-right: 5px; }\n\n.emptyPage {\n  padding-top: 10rem; }\n\n.forceMaxWidth {\n  white-space: pre-wrap;\n  /* Since CSS 2.1 */\n  white-space: -moz-pre-wrap;\n  /* Mozilla, since 1999 */\n  white-space: -o-pre-wrap;\n  /* Opera 7 */\n  word-wrap: break-word;\n  /* Internet Explorer 5.5+ */\n  max-width: 500px;\n  margin: 1px; }\n\n.topRightCorner {\n  position: absolute;\n  top: 1rem;\n  right: 1rem; }\n\n.setVisibility {\n  margin-top: 10px;\n  text-align: center; }\n\n.hopscotch-close {\n  cursor: pointer; }\n\n.ui.ordered.list .list > .item:before, .ui.ordered.list > .item:before, ol.ui.list li:before {\n  position: relative !important;\n  margin-right: 0.25rem !important;\n  content: counters(ordered, ".") "." !important;\n  vertical-align: inherit !important; }\n\n.widgetButton {\n  width: 100%; }\n',""])},1111:function(e,t){},1113:function(e,t){},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(7),r=n.n(a),i=n(24),o=n.n(i),s=n(5),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(6),m=n.n(h),g=n(10),f=n.n(g),v=n(2),E=n.n(v),y=n(0),b=n.n(y),w=n(1),C=n.n(w),O=n(3),P=n(151);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var S=function(e){function t(e,n){var a;return l()(this,t),(a=u()(this,d()(t).call(this,e,n))).toolbox=Object(P.b)((function(){}),(function(){}),null),a.state=t.isListType(e.type)?{options:[]}:{},a}return f()(t,e),m()(t,null,[{key:"isListType",value:function(e){return e===t.LIST_TYPE||e===t.NUMBER_LIST_TYPE||e===t.MULTI_SELECT_LIST_TYPE||e===t.BOOLEAN_LIST_TYPE||e===t.EDITABLE_LIST_TYPE||e===t.NUMBER_EDITABLE_LIST_TYPE}}]),m()(t,[{key:"_initOptions",value:function(e){if(e.type===t.BOOLEAN_LIST_TYPE)this.setState({options:[{text:"false",value:!1},{text:"true",value:!0}]});else if(t.isListType(e.type)&&e.items){var n=!1,a=_.map(e.items,(function(t){return _.isObject(t)||(t={name:t,value:t}),t.value===e.value&&(n=!0),{text:t.name,value:t.value}}));e.type===t.MULTI_SELECT_LIST_TYPE||n||a.push({text:e.value,value:e.value}),this.setState({options:a})}}},{key:"_storeValueInContext",value:function(e,t){this.toolbox.getContext().setValue([e],t),this.toolbox.getEventBus().trigger("".concat(e,":change"))}},{key:"_handleInputChange",value:function(e,t){this.props.storeValueInContext&&this._storeValueInContext(t.name,t.value),this.props.onChange(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{genericType:this.props.type}))}},{key:"componentDidMount",value:function(){this.props.storeValueInContext&&this._storeValueInContext(this.props.name,this.props.value),this._initOptions(this.props)}},{key:"componentDidUpdate",value:function(e){this.props.items!==e.items&&this._initOptions(this.props)}},{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(JSON.stringify(this.props),JSON.stringify(e))||!_.isEqual(JSON.stringify(this.state),JSON.stringify(t))}},{key:"render",value:function(){var e,n=this;if(this.props.type===t.STRING_TYPE||this.props.type===t.NUMBER_TYPE||this.props.type===t.PASSWORD_TYPE)e=C.a.createElement(O.Input,{icon:this.props.icon,name:this.props.name,type:this.props.type===t.STRING_TYPE?"text":this.props.type,placeholder:this.props.placeholder,value:null===this.props.value?"":this.props.value,onChange:this._handleInputChange.bind(this),max:this.props.type===t.NUMBER_TYPE?this.props.max:null,min:this.props.type===t.NUMBER_TYPE?this.props.min:null});else if(this.props.type===t.BOOLEAN_TYPE)e=C.a.createElement(O.Checkbox,{name:this.props.name,toggle:!0,checked:_.isBoolean(this.props.value)&&this.props.value||_.isString(this.props.value)&&"true"===this.props.value,onChange:this._handleInputChange.bind(this)});else if(t.isListType(this.props.type))e=C.a.createElement(O.Dropdown,{fluid:!0,selection:!0,value:this.props.value,name:this.props.name,multiple:this.props.type===t.MULTI_SELECT_LIST_TYPE,allowAdditions:this.props.type===t.EDITABLE_LIST_TYPE||this.props.type===t.NUMBER_EDITABLE_LIST_TYPE,search:this.props.type===t.EDITABLE_LIST_TYPE||this.props.type===t.NUMBER_EDITABLE_LIST_TYPE,placeholder:this.props.placeholder||"Please select",options:this.state.options,onAddItem:function(e,t){var a=t.value;n.setState({options:[{text:a,value:a}].concat(o()(n.state.options))})},onChange:this._handleInputChange.bind(this),clearable:!1});else if(this.props.type===t.CUSTOM_TYPE){var a=_.keys(t.defaultProps),i=_.omit(this.props,[].concat(o()(a),["name","label","component"])),s=this.props.component;if(_.isUndefined(s))return new Error("For `".concat(this.props.type,"` type `component` prop have to be supplied."));e=C.a.createElement(s,r()({name:this.props.name,value:_.isUndefined(this.props.value)?this.props.default:this.props.value,onChange:this._handleInputChange.bind(this)},i))}return C.a.createElement(O.Form.Field,{className:this.props.name,help:this.props.description,label:this.props.label,required:this.props.required,error:this.props.error},e)}}],[{key:"formatValue",value:function(e,n){return e===t.MULTI_SELECT_LIST_TYPE?n=_.split(n,","):e===t.BOOLEAN_TYPE?n=_.isBoolean(n)&&n||_.isString(n)&&"true"===n:e!==t.NUMBER_TYPE&&e!==t.NUMBER_LIST_TYPE&&e!==t.NUMBER_EDITABLE_LIST_TYPE||(n=parseInt(n)||0),n}}]),t}(w.Component);E()(S,"STRING_TYPE","string"),E()(S,"PASSWORD_TYPE","password"),E()(S,"NUMBER_TYPE","number"),E()(S,"BOOLEAN_TYPE","boolean"),E()(S,"BOOLEAN_LIST_TYPE","booleanList"),E()(S,"LIST_TYPE","list"),E()(S,"NUMBER_LIST_TYPE","numberList"),E()(S,"MULTI_SELECT_LIST_TYPE","multiSelectList"),E()(S,"EDITABLE_LIST_TYPE","editableList"),E()(S,"NUMBER_EDITABLE_LIST_TYPE","numberEditableList"),E()(S,"CUSTOM_TYPE","custom"),E()(S,"propTypes",{label:b.a.string.isRequired,name:b.a.string.isRequired,placeholder:b.a.string,error:b.a.bool,type:b.a.string,icon:b.a.string,description:b.a.oneOfType([b.a.string,b.a.element]),value:b.a.any,required:b.a.bool,onChange:b.a.func,storeValueInContext:b.a.bool,items:b.a.array,max:b.a.number,min:b.a.number}),E()(S,"defaultProps",{placeholder:"",error:!1,type:S.STRING_TYPE,icon:null,description:"",value:"",onChange:function(){},storeValueInContext:!1,items:[],max:null,min:null})},1148:function(e,t,n){var a={"./af":551,"./af.js":551,"./ar":552,"./ar-dz":553,"./ar-dz.js":553,"./ar-kw":554,"./ar-kw.js":554,"./ar-ly":555,"./ar-ly.js":555,"./ar-ma":556,"./ar-ma.js":556,"./ar-sa":557,"./ar-sa.js":557,"./ar-tn":558,"./ar-tn.js":558,"./ar.js":552,"./az":559,"./az.js":559,"./be":560,"./be.js":560,"./bg":561,"./bg.js":561,"./bm":562,"./bm.js":562,"./bn":563,"./bn.js":563,"./bo":564,"./bo.js":564,"./br":565,"./br.js":565,"./bs":566,"./bs.js":566,"./ca":567,"./ca.js":567,"./cs":568,"./cs.js":568,"./cv":569,"./cv.js":569,"./cy":570,"./cy.js":570,"./da":571,"./da.js":571,"./de":572,"./de-at":573,"./de-at.js":573,"./de-ch":574,"./de-ch.js":574,"./de.js":572,"./dv":575,"./dv.js":575,"./el":576,"./el.js":576,"./en-SG":577,"./en-SG.js":577,"./en-au":578,"./en-au.js":578,"./en-ca":579,"./en-ca.js":579,"./en-gb":580,"./en-gb.js":580,"./en-ie":581,"./en-ie.js":581,"./en-il":582,"./en-il.js":582,"./en-nz":583,"./en-nz.js":583,"./eo":584,"./eo.js":584,"./es":585,"./es-do":586,"./es-do.js":586,"./es-us":587,"./es-us.js":587,"./es.js":585,"./et":588,"./et.js":588,"./eu":589,"./eu.js":589,"./fa":590,"./fa.js":590,"./fi":591,"./fi.js":591,"./fo":592,"./fo.js":592,"./fr":593,"./fr-ca":594,"./fr-ca.js":594,"./fr-ch":595,"./fr-ch.js":595,"./fr.js":593,"./fy":596,"./fy.js":596,"./ga":597,"./ga.js":597,"./gd":598,"./gd.js":598,"./gl":599,"./gl.js":599,"./gom-latn":600,"./gom-latn.js":600,"./gu":601,"./gu.js":601,"./he":602,"./he.js":602,"./hi":603,"./hi.js":603,"./hr":604,"./hr.js":604,"./hu":605,"./hu.js":605,"./hy-am":606,"./hy-am.js":606,"./id":607,"./id.js":607,"./is":608,"./is.js":608,"./it":609,"./it-ch":610,"./it-ch.js":610,"./it.js":609,"./ja":611,"./ja.js":611,"./jv":612,"./jv.js":612,"./ka":613,"./ka.js":613,"./kk":614,"./kk.js":614,"./km":615,"./km.js":615,"./kn":616,"./kn.js":616,"./ko":617,"./ko.js":617,"./ku":618,"./ku.js":618,"./ky":619,"./ky.js":619,"./lb":620,"./lb.js":620,"./lo":621,"./lo.js":621,"./lt":622,"./lt.js":622,"./lv":623,"./lv.js":623,"./me":624,"./me.js":624,"./mi":625,"./mi.js":625,"./mk":626,"./mk.js":626,"./ml":627,"./ml.js":627,"./mn":628,"./mn.js":628,"./mr":629,"./mr.js":629,"./ms":630,"./ms-my":631,"./ms-my.js":631,"./ms.js":630,"./mt":632,"./mt.js":632,"./my":633,"./my.js":633,"./nb":634,"./nb.js":634,"./ne":635,"./ne.js":635,"./nl":636,"./nl-be":637,"./nl-be.js":637,"./nl.js":636,"./nn":638,"./nn.js":638,"./pa-in":639,"./pa-in.js":639,"./pl":640,"./pl.js":640,"./pt":641,"./pt-br":642,"./pt-br.js":642,"./pt.js":641,"./ro":643,"./ro.js":643,"./ru":644,"./ru.js":644,"./sd":645,"./sd.js":645,"./se":646,"./se.js":646,"./si":647,"./si.js":647,"./sk":648,"./sk.js":648,"./sl":649,"./sl.js":649,"./sq":650,"./sq.js":650,"./sr":651,"./sr-cyrl":652,"./sr-cyrl.js":652,"./sr.js":651,"./ss":653,"./ss.js":653,"./sv":654,"./sv.js":654,"./sw":655,"./sw.js":655,"./ta":656,"./ta.js":656,"./te":657,"./te.js":657,"./tet":658,"./tet.js":658,"./tg":659,"./tg.js":659,"./th":660,"./th.js":660,"./tl-ph":661,"./tl-ph.js":661,"./tlh":662,"./tlh.js":662,"./tr":663,"./tr.js":663,"./tzl":664,"./tzl.js":664,"./tzm":665,"./tzm-latn":666,"./tzm-latn.js":666,"./tzm.js":665,"./ug-cn":667,"./ug-cn.js":667,"./uk":668,"./uk.js":668,"./ur":669,"./ur.js":669,"./uz":670,"./uz-latn":671,"./uz-latn.js":671,"./uz.js":670,"./vi":672,"./vi.js":672,"./x-pseudo":673,"./x-pseudo.js":673,"./yo":674,"./yo.js":674,"./zh-cn":675,"./zh-cn.js":675,"./zh-hk":676,"./zh-hk.js":676,"./zh-tw":677,"./zh-tw.js":677};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1148},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(319),l=n.n(s),c=n(14),u=n(19),p=n(215),d=n(32),h=function(){function e(){r()(this,e)}return o()(e,null,[{key:"login",value:function(e,t){return new p.a({basicAuth:btoa("".concat(e,":").concat(t))}).doPost(u.a.Url.url("/auth/login"),null,null,!0,null,!0)}},{key:"getUserData",value:function(e){return new d.a(e).doGet("/auth/user",null,!0)}},{key:"logout",value:function(e){return new d.a(e).doPost("/auth/logout",null,null,!0,null,!0)}},{key:"isLoggedIn",value:function(){return!!l.a.get(c.a.TOKEN_COOKIE_NAME)}},{key:"isProductOperational",value:function(e){var t=_.get(e,"isRequired",!1),n=_.get(e,"data.trial",!1),a=_.get(e,"status",c.a.LICENSE.EMPTY);return!t||(n?_.isEqual(a,c.a.LICENSE.ACTIVE):!_.isEqual(a,c.a.LICENSE.EMPTY))}},{key:"getLicenseStatus",value:function(e){return _.isEmpty(e)?c.a.LICENSE.EMPTY:e.expired?c.a.LICENSE.EXPIRED:c.a.LICENSE.ACTIVE}}]),e}()},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(256),l=n.n(s),c=n(14),u=n(19),p=function(){function e(){r()(this,e)}return o()(e,null,[{key:"getResourceUrl",value:function(e,t){return"".concat(t?c.a.USER_DATA_PATH:c.a.APP_DATA_PATH,"/").concat(e)}},{key:"fetchResource",value:function(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return l()(u.a.Url.url(e.getResourceUrl(t,n)),{credentials:"same-origin"}).then((function(e){if(!(e.status>=400))return a?_.toLower(e.headers.get("content-type")).indexOf("application/json")>=0?e.json():e.text():e;console.error(e.statusText)}))}}]),e}()},1296:function(e,t,n){var a=n(1297);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(79)(a,r);a.locals&&(e.exports=a.locals)},1297:function(e,t,n){(e.exports=n(78)(!1)).push([e.i,".servicesData a:hover {\n    text-decoration: none !important;\n}\n",""])},13:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"eb",(function(){return r})),n.d(t,"k",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"q",(function(){return s})),n.d(t,"qb",(function(){return l})),n.d(t,"rb",(function(){return c})),n.d(t,"kb",(function(){return u})),n.d(t,"ib",(function(){return p})),n.d(t,"jb",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"l",(function(){return m})),n.d(t,"H",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"I",(function(){return v})),n.d(t,"ob",(function(){return E})),n.d(t,"nb",(function(){return y})),n.d(t,"mb",(function(){return b})),n.d(t,"pb",(function(){return _})),n.d(t,"lb",(function(){return w})),n.d(t,"D",(function(){return C})),n.d(t,"E",(function(){return O})),n.d(t,"v",(function(){return P})),n.d(t,"u",(function(){return T})),n.d(t,"C",(function(){return S})),n.d(t,"B",(function(){return k})),n.d(t,"w",(function(){return I})),n.d(t,"z",(function(){return D})),n.d(t,"A",(function(){return A})),n.d(t,"x",(function(){return j})),n.d(t,"y",(function(){return R})),n.d(t,"Z",(function(){return N})),n.d(t,"j",(function(){return x})),n.d(t,"K",(function(){return M})),n.d(t,"L",(function(){return L})),n.d(t,"J",(function(){return U})),n.d(t,"s",(function(){return F})),n.d(t,"t",(function(){return q})),n.d(t,"i",(function(){return z})),n.d(t,"m",(function(){return G})),n.d(t,"G",(function(){return B})),n.d(t,"h",(function(){return W})),n.d(t,"M",(function(){return H})),n.d(t,"gb",(function(){return V})),n.d(t,"hb",(function(){return Y})),n.d(t,"a",(function(){return X})),n.d(t,"Y",(function(){return K})),n.d(t,"O",(function(){return J})),n.d(t,"Q",(function(){return Z})),n.d(t,"o",(function(){return Q})),n.d(t,"r",(function(){return $})),n.d(t,"fb",(function(){return ee})),n.d(t,"P",(function(){return te})),n.d(t,"R",(function(){return ne})),n.d(t,"p",(function(){return ae})),n.d(t,"N",(function(){return re})),n.d(t,"X",(function(){return ie})),n.d(t,"n",(function(){return oe})),n.d(t,"db",(function(){return se})),n.d(t,"cb",(function(){return le})),n.d(t,"bb",(function(){return ce})),n.d(t,"S",(function(){return ue})),n.d(t,"T",(function(){return pe})),n.d(t,"g",(function(){return de})),n.d(t,"W",(function(){return he})),n.d(t,"V",(function(){return me})),n.d(t,"U",(function(){return ge})),n.d(t,"f",(function(){return fe})),n.d(t,"vb",(function(){return ve})),n.d(t,"ub",(function(){return Ee})),n.d(t,"wb",(function(){return ye})),n.d(t,"tb",(function(){return be})),n.d(t,"sb",(function(){return _e})),n.d(t,"ab",(function(){return we})),n.d(t,"F",(function(){return Ce}));var a="ADD_PAGE",r="SET_PAGES",i="CREATE_DRILLDOWN_PAGE",o="ADD_WIDGET",s="INSTALL_WIDGET",l="UNINSTALL_WIDGET",c="UPDATE_WIDGET",u="STORE_WIDGETS",p="STORE_TEMPLATES",d="STORE_TOURS",h="ADD_TEMPLATE",m="EDIT_TEMPLATE",g="REMOVE_TEMPLATE",f="ADD_TEMPLATE_PAGE",v="REMOVE_TEMPLATE_PAGE",E="TEMPLATE_MANAGEMENT_LOADING",y="TEMPLATE_MANAGEMENT_FETCH",b="TEMPLATE_MANAGEMENT_ERROR",_="TEMPLATE_MANAGEMENT_SELECT",w="TEMPLATE_MANAGEMENT_CLEAR",C="PAGE_MANAGEMENT_SELECT",O="PAGE_MANAGEMENT_SHOW",P="PAGE_MANAGEMENT_CHANGE_NAME",T="PAGE_MANAGEMENT_ADD_WIDGET",S="PAGE_MANAGEMENT_RENAME_WIDGET",k="PAGE_MANAGEMENT_REMOVE_WIDGET",I="PAGE_MANAGEMENT_CHANGE_WIDGET",D="PAGE_MANAGEMENT_EDIT_WIDGET",A="PAGE_MANAGEMENT_MAXIMIZE_WIDGET",j="PAGE_MANAGEMENT_CLEAR",R="PAGE_MANAGEMENT_DRILLDOWN_WARN",N="SET_CONTEXT_VALUE",x="CLEAR_CONTEXT",M="RENAME_PAGE",L="RENAME_WIDGET",U="REMOVE_WIDGET",F="MAXIMIZE_WIDGET",q="MINIMIZE_WIDGETS",z="CHANGE_WIDGET_GRID_DATA",G="EDIT_WIDGET",B="REMOVE_PAGE",W="CHANGE_PAGE_DESCRIPTION",H="REORDER_PAGE",V="STORE_CURRENT_PAGE",Y="STORE_RBAC",X="ADD_DRILLDOWN_PAGE",K="SET_CONFIG_EDIT_MODE",J="REQ_LOGIN",Z="RES_LOGIN",Q="ERR_LOGIN",$="LOGOUT",ee="SET_USER_DATA",te="REQ_TENANTS",ne="RES_TENANTS",ae="ERR_TENANTS",re="REQ_CLUSTER_STATUS",ie="SET_CLUSTER_STATUS",oe="ERR_CLUSTER_STATUS",se="SET_MANAGER_VERSION",le="SET_MANAGER_LICENSE",ce="SET_MAINTENANCE_STATUS",ue="SELECT_TENANT",pe="SET_ACTIVE_EXECUTIONS",de="CANCEL_EXECUTION",he="SET_CLIENT_CONFIG",me="SET_APP_LOADING",ge="SET_APP_ERROR",fe="APP_SIDEBAR_TOOGLE",ve="WIDGET_FETCH_LOADING",Ee="WIDGET_FETCH_ERROR",ye="WIDGET_FETCH_RES",be="WIDGET_FETCH_CANCELED",_e="WIDGET_DATA_CLEAR",we="SET_DRILLDOWN_CONTEXT",Ce="POP_DRILLDOWN_CONTEXT"},1303:function(e,t,n){(e.exports=n(78)(!1)).push([e.i,"/* FormGroup.js */\n.ui.form .inline.fields .field:last-child{\n    padding-right: 0;\n}\n/* InputDate.js */\n.input-time-filter {\n    font-family: inherit;\n    font-size: inherit;\n    background-color: #fff;\n    color: #000;\n    border: 0 none #aeaeae;\n    border-radius: 0.3rem;\n    min-width: 300px;\n}\n\n.react-datepicker__month-container {\n    float: left;\n    width: 240px;\n}\n\n.react-datepicker__time-container {\n    width: 90px;\n}\n\n.react-datepicker__day--outside-month {\n    color: #c0c0c0;\n}\n\n.react-datepicker__day, .react-datepicker__day-name {\n    width: 2rem;\n    padding: 1px 0 0 0;\n}\n\n.react-datepicker__day:hover {\n    color: white;\n    background-color: grey;\n}\n\n.react-datepicker__header {\n    border-bottom: 0 none #aeaeae;\n}\n\n.react-datepicker__day--in-range {\n    background: lightgrey;\n    color: black;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list {\n    padding-right: unset;\n    padding-left: unset;\n    width: 100%;\n}\n\n.react-datepicker__day--range-end, .react-datepicker__day--range-start {\n    border: 1px solid grey;\n    padding: 0;\n    border-radius: 0.3rem;\n}\n\n.react-datepicker__day--selected,\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--selected,\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--selected:hover{\n    background-color: #c0c1c2;\n    color: black;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box {\n    width: 100%;\n    display: inline-block;\n}\n\n.react-datepicker__navigation--next--with-time:not(.react-datepicker__navigation--next--with-today-button) {\n    right: 105px;\n}\n\n/*Handle smaller viewports*/\n@media only screen and (max-width: 1400px) {\n    .ui.flowing.popup {\n        left: 0 !important;\n    }\n}\n\n.fixed-width {\n    width: 1090px !important;\n}\n\n.top-padded-10 {\n    margin-top: 10px;\n}\n\n/* InputJson - react-json-view */\n.react-json-view .key-modal-request {\n    top: -7px !important;\n}\n\n.react-json-view .key-modal-request > div {\n    padding: 5px !important;\n    margin-top: 0px !important;\n    background-color: #e0e1e2 !important;\n    width: 270px !important;\n}\n\n.react-json-view .key-modal-request > div > div:first-child {\n    color: inherit !important;\n    padding-right: 5px;\n}\n\n.react-json-view .key-modal-request > div > div {\n    display: inline-block !important;\n}\n\n.react-json-view .key-modal-request > div > span {\n    background-color: inherit !important;\n    line-height: 14px !important;\n}\n\n.react-json-view .key-modal-request > div > span > .key-modal-cancel > svg {\n    color: inherit !important;\n}\n\n.react-json-view .key-modal-request input {\n    font-size: 14px !important;\n}",""])},134:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=e("div.splashPage"),l=function(){function e(){r()(this,e)}return o()(e,null,[{key:"turnOn",value:function(){s.hasClass("active")||(s.show(),s.addClass("active"))}},{key:"turnOff",value:function(){s.hasClass("active")&&(s.fadeOut("slow"),s.removeClass("active"))}}]),e}()}).call(this,n(43))},14:function(e,t,n){"use strict";t.a={CONTEXT_PATH:"/console",ERROR_404_PAGE_PATH:"/404",ERROR_NO_TENANTS_PAGE_PATH:"/noTenants",ERROR_PAGE_PATH:"/error",HOME_PAGE_PATH:"/",LOGIN_PAGE_PATH:"/login",LOGOUT_PAGE_PATH:"/logout",MAINTENANCE_PAGE_PATH:"/maintenance",LICENSE_PAGE_PATH:"/license",USER_DATA_PATH:"/userData",APP_DATA_PATH:"/appData",TOKEN_COOKIE_NAME:"XSRF-TOKEN",EDITION:{PREMIUM:"premium",COMMUNITY:"community"},LICENSE:{EMPTY:"no_license",EXPIRED:"expired_license",ACTIVE:"active_license"},NO_LICENSE_ERROR_CODE:"missing_cloudify_license",EXPIRED_LICENSE_ERROR_CODE:"expired_cloudify_license",DEFAULT_TENANT:"default_tenant",MODE_MAIN:"main",MODE_CUSTOMER:"customer",permissions:{STAGE_SERVICES_STATUS:"stage_services_status",STAGE_EDIT_MODE:"stage_edit_mode",STAGE_INSTALL_WIDGETS:"stage_install_widgets",STAGE_MAINTENANCE_MODE:"stage_maintenance_mode",STAGE_CONFIGURE:"stage_configure",STAGE_TEMPLATE_MANAGEMENT:"stage_template_management",CREATE_GLOBAL_RESOURCE:"create_global_resource",LICENSE_LIST:"license_list",LICENSE_UPLOAD:"license_upload"},visibility:{PRIVATE:{name:"private",icon:"lock",color:"red",title:"Private resource"},TENANT:{name:"tenant",icon:"user",color:"green",title:"Tenant resource"},GLOBAL:{name:"global",icon:"globe",color:"blue",title:"Global resource"},UNKNOWN:{name:"unknown",icon:"question",color:"grey",title:"Unknown resource visibility"}},MAINTENANCE_ACTIVATING:"activating",MAINTENANCE_ACTIVATED:"activated",MAINTENANCE_DEACTIVATED:"deactivated",DEFAULT_ALL:"*",PAGE_MANAGEMENT_VIEW:"view",PAGE_MANAGEMENT_EDIT:"edit",PRIVATE_RESOURCE:"private",WIDGET_ID_HEADER:"widget-id"}},1435:function(e,t,n){var a=n(1436);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(79)(a,r);a.locals&&(e.exports=a.locals)},1436:function(e,t,n){(e.exports=n(78)(!1)).push([e.i,"a.step:hover {\n    text-decoration: none !important;\n}\n\n.step.completed:before {\n    font-size: 1.5em !important;\n}",""])},147:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f}));var a=n(26),r=n(13),i=n(39),o=n(58),s=n(32),l=n(14),c=n(184),u=4;function p(e){return{type:r.eb,pages:e,receivedAt:Date.now()}}function d(e){return function(t,n){var a=n().manager;if(_.get(a,"tenants.selected",l.a.DEFAULT_ALL)!==e)return new s.a(n().manager).doGet("ua/clear-pages",{tenant:e});t(m())}}function h(){return function(e,t){var n={appData:_.pick(t(),"pages"),version:u};return new s.a(t().manager).doPost("/ua",null,n)}}function m(){return function(e){var t=c.a.getAutoSaver();return t.stop(),e(Object(o.c)(!0)),e(p([])),e(Object(i.e)()).then((function(){e(h()).then((function(){e(Object(o.c)(!1)),e(Object(a.push)(l.a.HOME_PAGE_PATH))}))})).catch((function(t){throw e(Object(o.b)(t.message)),e(Object(a.push)(l.a.ERROR_PAGE_PATH)),t})).finally((function(){t.initFromStore(),t.start()}))}}function g(){return function(e,t){var n=t().manager;return new s.a(n).doGet("/ua").then((function(t){return t&&t.appDataVersion===u&&t.appData.pages&&t.appData.pages.length>0?e(p(t.appData.pages)):e(m())}))}}function f(){return function(e,t){return e(Object(o.c)(!0)),e(g()).then((function(){var n=function(e,t){return _.find(e,{id:t})},r=t(),i=r.app.currentPageId,s=r.pages,c=n(s,i);if(c){if(c.isDrillDown){var u=n(s,c.parent);e(u?Object(a.push)("/page/".concat(u.id)):Object(a.push)(l.a.HOME_PAGE_PATH))}}else e(Object(a.push)(l.a.HOME_PAGE_PATH));e(Object(o.c)(!1))}))}}},151:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=(n(1096),n(53)),l=n(39),c=n(100),u=n(66),p=function(){function e(t){r()(this,e),this.store=t,this.context=t.getState().context}return o()(e,[{key:"setValue",value:function(e,t){this.store.dispatch(Object(u.b)(e,t))}},{key:"getValue",value:function(e){return this.context[e]}}]),e}(),d=n(101),h=n(215),m=n(32),g=n(9),f=n.n(g),v=n(8),E=n.n(v),y=n(183),b=n.n(y),w=n(10),C=n.n(w),O=n(14),P=function(e){function t(e,n){var a;return r()(this,t),(a=f()(this,E()(t).call(this,n))).widgetId=e,a}return C()(t,e),o()(t,[{key:"_buildHeaders",value:function(){var e=b()(E()(t.prototype),"_buildHeaders",this).call(this);return e[O.a.WIDGET_ID_HEADER]=this.widgetId,e}},{key:"_buildActualUrl",value:function(e,n){return b()(E()(t.prototype),"_buildActualUrl",this).call(this,"/wb/".concat(e),n)}}]),t}(m.a);n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return I}));var T=function(){function e(t){var n=this;r()(this,e),this.store=t,this._initFromStore(),this.unsubscribe=t.subscribe((function(){n._initFromStore()}))}return o()(e,[{key:"_initFromStore",value:function(){var e=this.store.getState();this.templates=e.templates||{templatesDef:{}},this._Manager=new d.a(e.manager||{}),this._Internal=new m.a(e.manager||{}),this._Context=new p(this.store),this.widgetDefinitions=e.widgetDefinitions||[]}},{key:"drillDown",value:function(e,t,n,a){this.store.dispatch(Object(s.d)(e,this.templates.pagesDef[t],this.widgetDefinitions,n,a))}},{key:"goToHomePage",value:function(){this.store.dispatch(Object(l.i)())}},{key:"goToParentPage",value:function(){this.store.dispatch(Object(l.l)())}},{key:"goToPage",value:function(e){this.store.dispatch(Object(l.k)(e))}},{key:"getEventBus",value:function(){return c.a}},{key:"getManager",value:function(){return this._Manager}},{key:"getInternal",value:function(){return this._Internal}},{key:"getWidgetBackend",value:function(){var e=this.store.getState(),t=this.getWidget();return new P(_.get(t,"definition.id",""),e.manager||{})}},{key:"getExternal",value:function(e){return new h.a(e)}},{key:"getNewManager",value:function(){return new d.a}},{key:"getContext",value:function(){return this._Context}},{key:"refresh",value:function(){}},{key:"loading",value:function(e){}},{key:"getWidget",value:function(){}}]),e}(),S=null,k=function(e){S=new T(e)},I=function(e,t,n){return new Proxy(S,{get:function(a,r){return"refresh"===r?e:"loading"===r?t:"getWidget"===r?function(){return n}:a[r]}})}},152:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a="NO_TENANTS_ERR",r="UNAUTHORIZED_ERR",i="LICENSE_ERR"},154:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(73),l=n(99),c=n(19),u=null,p=function(){function e(t){r()(this,e),this.store=t,this.pollerTimer=null,this.fetchMaintenanceStatusPromise=null,this.fetchClusterStatusPromise=null,this.isActive=!1,this.interval=t.getState().config.app.maintenancePollingInterval}return o()(e,[{key:"getManagerIp",value:function(){return _.get(this.store.getState(),"config.manager.ip")}},{key:"start",value:function(){this.isActive||(console.log("Starting status polling for manager ".concat(this.getManagerIp())),this.isActive=!0,this.fetchStatus().then(this.startPolling.bind(this)))}},{key:"stop",value:function(){this.isActive&&(console.log("Stopping status polling for manager ".concat(this.getManagerIp())),this.isActive=!1,this.stopPolling())}},{key:"stopPolling",value:function(){clearTimeout(this.pollerTimer),this.fetchMaintenanceStatusPromise&&this.fetchMaintenanceStatusPromise.cancel(),this.fetchClusterStatusPromise&&this.fetchClusterStatusPromise.cancel()}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),console.log("Polling status for manager ".concat(this.getManagerIp()," - time interval: ").concat(this.interval," sec")),this.pollerTimer=setTimeout((function(){e.fetchStatus().then(e.startPolling.bind(e))}),this.interval)}},{key:"fetchStatus",value:function(){var e=this.store.dispatch(Object(s.c)(this.store.getState().manager));this.fetchMaintenanceStatusPromise=c.a.makeCancelable(e);var t=this.store.dispatch(Object(l.a)(!0));return this.fetchClusterStatusPromise=c.a.makeCancelable(t),Promise.all([this.fetchMaintenanceStatusPromise.promise,this.fetchClusterStatusPromise.promise])}}],[{key:"create",value:function(t){u=new e(t)}},{key:"getPoller",value:function(){return u}}]),e}()},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n(781),y=n(156),b=n(92),_=function(e){function t(e,n){return r()(this,t),l()(this,u()(t).call(this,e,n))}return d()(t,e),o()(t,[{key:"render",value:function(){return React.createElement(E.CopyToClipboard,{text:this.props.text},this.props.content?React.createElement(y.a,{animated:"vertical",basic:!0,className:this.props.className,onClick:function(e){return e.stopPropagation()}},React.createElement(y.a.Content,{visible:!0},this.props.content),React.createElement(y.a.Content,{hidden:!0},React.createElement(b.a,{name:"copy"}))):React.createElement(y.a,{basic:!0,compact:!0,icon:"copy",className:this.props.className,onClick:function(e){return e.stopPropagation()}}))}}]),t}(v.Component);m()(_,"propTypes",{text:f.a.string,content:f.a.string,className:f.a.string}),m()(_,"defaultProps",{text:"",content:"",className:""})},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(147),l=null,c=function(){function e(t){var n=this;r()(this,e),this._store=t,this._isActive=!1,this.initFromStore(),this.unsubscribe=t.subscribe((function(){var e=n._store.getState();n._isActive&&n._hasDataChanged(e)&&n._validData(e)&&(n.initFromStore(),n._store.dispatch(Object(s.d)()))}))}return o()(e,[{key:"initFromStore",value:function(){var e=this._store.getState();this._pages=e.pages,this._username=_.get(e,"manager.username"),this._role=_.get(e,"manager.auth.role")}},{key:"_validData",value:function(e){return _.get(e,"manager.username")&&_.get(e,"manager.auth.role")}},{key:"_hasDataChanged",value:function(e){return this._username!==e.manager.username||this._role!==e.manager.auth.role||!_.isEqual(this._pages,e.pages)}},{key:"start",value:function(){this._isActive||(console.log("Starting UserAppDataAutoSaver for user ".concat(this._username," role ").concat(this._role)),this._isActive=!0)}},{key:"stop",value:function(){this._isActive&&(console.log("Stopping UserAppDataAutoSaver for user ".concat(this._username," role ").concat(this._role)),this._isActive=!1)}}],[{key:"create",value:function(t){l=new e(t)}},{key:"getAutoSaver",value:function(){return l}}]),e}()},187:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(32),u=n(19),p=function(){function e(t){o()(this,e),this.path=u.a.Url.url(t),this.loaded=!1}return l()(e,[{key:"load",value:function(e,t){var n=this;console.log("Loading javascript from ".concat(this.path,"..."));var a=this;return new Promise((function(r,i){var o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",a.path),e&&o.setAttribute("id",e),o.onload=function(){console.log(n.path,"loaded"),a.loaded=!0,r()},o.onerror=function(){t?i("Error loading ".concat(n.path)):(console.error("Error loading ".concat(n.path)),r({error:"Error loading ".concat(n.path)}))},document.getElementsByTagName("head")[0].appendChild(o)}))}}]),e}(),d=function(){function e(t){o()(this,e),this.path=u.a.Url.url(t),this.loaded=!1}return l()(e,[{key:"load",value:function(){var e=this;return new Promise((function(t,n){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",e.path),a.onload=function(){e.loaded=!0,t()},document.getElementsByTagName("head")[0].appendChild(a)}))}}]),e}(),h=(n(550),n(15)),m=n.n(h),g=n(770),f=n.n(g),v=n(3),E=n(117),y=n(91),b=function e(t){o()(this,e),this.color="blue",this.categories=[y.a.CATEGORY.OTHERS],this.hasReadme=!1,this.hasStyle=!1,this.hasTemplate=!1,this.initialConfiguration=[],this.initialHeight=12,this.initialWidth=3,this.isReact=!0,this.permission=y.a.CUSTOM_WIDGET_PERMISSIONS.CUSTOM_ALL,this.showBorder=!0,this.showHeader=!0,this.supportedEditions=[],Object.assign(this,t),this.name||console.error("Missing widget name. Widget data is :",t),this.id||console.error("Missing widget id. Widget data is :",t)};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n.d(t,"a",(function(){return P}));var C=n(1439),O=[],P=function(){function e(){o()(this,e)}return l()(e,null,[{key:"init",value:function(){window.Stage={defineWidget:function(e){O.push(new b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{id:document.currentScript.id})))},Basic:v,ComponentToHtmlString:function(e){return C.renderToString(e)},GenericConfig:y.a,Common:[],defineCommon:function(e){Stage.Common[e.name]=e.common},Utils:u.a},window.moment=m.a,window.markdown=f.a}},{key:"_loadWidgets",value:function(t){console.log("Load widgets");var n=new c.a(t);return Promise.all([new p(E.a.getResourceUrl("widgets/common/common.js",!1)).load(),n.doGet("/widgets/list")]).then((function(t){var n=t[1],a=[];n.forEach((function(t){a.push(e._loadWidget(t,!1))}));var r=_.keyBy(n,"id");return Promise.all(a).then((function(){return r}))}))}},{key:"_loadWidget",value:function(e,t){var n="".concat(E.a.getResourceUrl("widgets",e.isCustom),"/").concat(e.id,"/widget.js");return new p(n).load(e.id,t)}},{key:"_loadWidgetsResources",value:function(e){console.log("Load widgets resources");var t=[];return O.forEach((function(n){n.isCustom=e[n.id].isCustom,n.hasTemplate&&t.push(E.a.fetchResource("widgets/".concat(n.id,"/widget.html"),n.isCustom).then((function(e){e&&(n.template=e)}))),n.hasStyle&&t.push(new d(E.a.getResourceUrl("widgets/".concat(n.id,"/widget.css"),n.isCustom)).load()),n.hasReadme&&t.push(E.a.fetchResource("widgets/".concat(n.id,"/README.md"),n.isCustom).then((function(e){e&&(n.readme=e)})))})),Promise.all(t)}},{key:"_initWidgets",value:function(){console.log("Init widgets"),_.each(O,(function(e){e.init&&"function"==typeof e.init&&e.init()}));var e=_.sortBy(O,["name"]);return O=[],Promise.resolve(e)}},{key:"load",value:function(t){return e._loadWidgets(t).then((function(t){return e._loadWidgetsResources(t)})).then((function(){return e._initWidgets()})).catch((function(e){console.error(e),O=[]}))}},{key:"_installWidget",value:function(e,t,n){var a=new c.a(n);return t?(console.log("Install widget from url",t),a.doPut("/widgets/install",{url:t})):(console.log("Install widget from file"),a.doUpload("/widgets/install",{},{widget:e}))}},{key:"_updateWidget",value:function(e,t,n,a){var r=new c.a(a);return n?(console.log("Update widget ".concat(e," from url"),n),r.doPut("/widgets/update",{url:n,id:e})):(console.log("Update widget ".concat(e," from file")),r.doUpload("/widgets/update",{id:e},{widget:t}))}},{key:"_validateWidget",value:function(t,n){var a=[];if(_.isEmpty(O))a.push("Widget not properly initialized. Please check if widget.js is correctly defined.");else if(O.length>1)a.push("Only single widget should be defined within widget.js");else{var r=O[0];_.includes(_.keys(n.permissions),r.permission)||a.push("Specified widget permission ('".concat(r.permission,"') not found in available permissions list.")),_.isEmpty(r.id)&&a.push("Mandatory field - 'id' - not specified in widget definition."),_.isEmpty(r.name)&&a.push("Mandatory field - 'name' - not specified in widget definition.")}if(!_.isEmpty(a)){var i=a.length>1?"Multiple errors occured: ".concat(_.join(a," ")):a[0];return e.uninstall(t,n).then((function(){throw new Error(i)}))}return Promise.resolve()}},{key:"install",value:function(t,n,a){var r={};return e._installWidget(t,n,a).then((function(t){return r=t,e._loadWidget(t,!0)})).then((function(){return e._validateWidget(r.id,a)})).then((function(){return e._loadWidgetsResources(_.keyBy([r],"id"))})).then((function(){return e._initWidgets()})).catch((function(e){throw O=[],console.error(e),e}))}},{key:"update",value:function(t,n,a,r){var i={};return e._updateWidget(t,n,a,r).then((function(t){return i=t,e._loadWidget(t,!0)})).then((function(){return e._validateWidget(i.id,r)})).then((function(){return e._loadWidgetsResources(_.keyBy([i],"id"))})).then((function(){return e._initWidgets()})).catch((function(e){throw O=[],console.error(e),e}))}},{key:"uninstall",value:function(e,t){return new c.a(t).doDelete("/widgets/".concat(e))}}]),e}()},19:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(2),l=n.n(s),c=n(767),u=n.n(c),p=n(33),d=n.n(p),h=n(151),m=n(114),g=n(74),f=n(325),v=function(){function e(){r()(this,e)}return o()(e,null,[{key:"formatTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD HH:mm:ss",a=moment.utc(e,n).local();return a.isValid()?a.format(t):""}},{key:"formatLocalTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=moment(e,n);return a.isValid()?a.format(t):""}}]),e}(),E=n(14),y=function(){function e(){r()(this,e)}return o()(e,null,[{key:"url",value:function(e){return e===E.a.HOME_PAGE_PATH?E.a.CONTEXT_PATH:E.a.CONTEXT_PATH+(d.a.startsWith(e,"/")?"":"/")+e}},{key:"isUrl",value:function(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e)}},{key:"redirectToPage",value:function(e){window.open(e,"_blank")}},{key:"widgetResourceUrl",value:function(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r?e.url("".concat(a?E.a.USER_DATA_PATH:E.a.APP_DATA_PATH,"/widgets/").concat(t).concat(d.a.startsWith(n,"/")?"":"/").concat(n)):"".concat(a?E.a.USER_DATA_PATH:E.a.APP_DATA_PATH,"/widgets/").concat(t).concat(d.a.startsWith(n,"/")?"":"/").concat(n)}}]),e}();n.d(t,"a",(function(){return b}));var b=function(){function e(){r()(this,e)}return o()(e,null,[{key:"makeCancelable",value:function(e){var t=!1;return{promise:new Promise((function(n,a){e.then((function(e){return t?a({isCanceled:!0}):n(e)})),e.catch((function(e){return a(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}}},{key:"formatTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD HH:mm:ss";return v.formatTimestamp(e,t,n)}},{key:"formatLocalTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return v.formatLocalTimestamp(e,t,n)}},{key:"resolveMessage",value:function(e){for(var t,n,a=/<(\w+)[^<]*>/,r=/[',",`]([^',^",^`]+)[',",`]/,i=/(\w+)=[',",`]([^',^",^`]+)[',",`]/g,o="";t=a.exec(e);){for(var s=t[0],l=(o=t[1].toLowerCase(),[]);n=i.exec(s);)l.push({key:n[1],value:n[2]});l.length>0?l.length>1?(o+=" with",d.a.each(l,(function(e,t){o+=" ".concat(e.key,"=").concat(e.value," ").concat(t<l.length-1?" and":"")}))):o+=" ".concat(l[0].value):(n=r.exec(s))&&(o+=" ".concat(n[1])),e=e.replace(s,o)}return e}},{key:"getMD5",value:function(e){return u()(e)}},{key:"url",value:function(e){return y.url(e)}},{key:"isUrl",value:function(e){return y.isUrl(e)}},{key:"redirectToPage",value:function(e){return y.redirectToPage(e)}},{key:"widgetResourceUrl",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return y.widgetResourceUrl(e,t,n,a)}},{key:"buildConfig",value:function(e){var t={};return d.a.each(e.initialConfiguration,(function(n){if(n.id){var a=n.default&&!n.value?n.default:d.a.isUndefined(n.value)?null:n.value;t[n.id]=m.a.formatValue(n.type,a)}else console.log('Cannot process config for widget :"'.concat(e.name,'" , because it missing an Id '),n)})),t}},{key:"getToolbox",value:function(e,t,n){return Object(h.b)(e,t,n)}},{key:"isUserAuthorized",value:function(e,t){var n=t.permissions[e],a=t.auth.role,r=d.a.keys(t.auth.groupSystemRoles),i=t.auth.tenantsRoles[t.tenants.selected],o=i?i.roles:[],s=d.a.uniq(o.concat(a,r));return d.a.intersection(n,s).length>0}},{key:"isWidgetPermitted",value:function(e,t){if(d.a.isEmpty(e))return!0;var n=d.a.get(t,"license.data.license_edition","");return d.a.includes(e,n)}}]),e}();l()(b,"Execution",g.a),l()(b,"Json",f.a),l()(b,"Time",v),l()(b,"Url",y)},210:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(7),r=n.n(a),i=n(2),o=n.n(i),s=n(5),l=n.n(s),c=n(6),u=n.n(c),p=n(9),d=n.n(p),h=n(8),m=n.n(h),g=n(10),f=n.n(g),v=n(1),E=n.n(v),y=n(341);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e,t=w({},this.props);return t.options&&(t.options=(e=t.options,_.map(e,(function(e){return w({},e,{"option-value":String(e.value)||"empty-option"})})))),E.a.createElement(y.a,r()({clearable:!0},t))}}]),t}(y.a)},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(230),b=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).state={hidden:!1},a.visibilityTimeout=null,a}return d()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e){this.props.error&&!_.isEqual(this.props.error,e.error)&&(this.setState({hidden:!1}),this.props.error&&this._setVisibilityTimeout(t.MESSAGE_VISIBLE_TIMEOUT))}},{key:"componentDidMount",value:function(){this._setVisibilityTimeout(t.MESSAGE_VISIBLE_TIMEOUT)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.visibilityTimeout)}},{key:"_setVisibilityTimeout",value:function(e){var t=this;this.props.autoHide&&(clearTimeout(this.visibilityTimeout),this.visibilityTimeout=setTimeout((function(){t._handleDismiss()}),e))}},{key:"_handleDismiss",value:function(){this.setState({hidden:!0}),this.props.onDismiss()}},{key:"render",value:function(){if(!this.props.error)return null;var e=this.props.error,t=this.props.header;return _.isString(e)||_.isArray(e)||(e=this.props.error.message,t||(t=this.props.error.header)),E.a.createElement(y.a,{error:!0,className:this.props.className,hidden:this.state.hidden,onDismiss:this._handleDismiss.bind(this)},E.a.createElement(y.a.Header,null,t),_.isArray(e)&&!_.isEmpty(e)?E.a.createElement(y.a.List,{items:e}):E.a.createElement(y.a.Content,null,e))}}]),t}(v.Component);m()(b,"propTypes",{autoHide:f.a.bool,className:f.a.string,error:f.a.any,header:f.a.string,onDismiss:f.a.func}),m()(b,"defaultProps",{autoHide:!1,className:"",error:null,header:"Error Occured",onDismiss:function(){}}),m()(b,"MESSAGE_VISIBLE_TIMEOUT",1e4)},214:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(13);function r(e){return{type:a.ab,drilldownContext:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:a.F,count:e}}},215:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=(n(256),n(768)),l=n(769),c=n.n(l),u=n(19),p=n(260),d=n(152),h=c.a.getLogger("External"),m=function(){function t(e){r()(this,t),this._data=e}return o()(t,[{key:"doGet",value:function(e,t,n,a){return this._ajaxCall(e,"get",t,null,n,a)}},{key:"doPost",value:function(e,t,n,a,r,i){return this._ajaxCall(e,"post",t,n,a,r,null,i)}},{key:"doDelete",value:function(e,t,n,a,r){return this._ajaxCall(e,"delete",t,n,a,r)}},{key:"doPut",value:function(e,t,n,a,r){return this._ajaxCall(e,"put",t,n,a,r)}},{key:"doPatch",value:function(e,t,n,a,r){return this._ajaxCall(e,"PATCH",t,n,a,r)}},{key:"doDownload",value:function(e,t){return this._ajaxCall(e,"get",null,null,null,null,t)}},{key:"isReachable",value:function(e){return fetch(e).then((function(e){return 200===e.status})).catch((function(){return!1}))}},{key:"doUpload",value:function(e,t,a,r){var i=this,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=this._buildActualUrl(e,t);return h.debug("Uploading file for url: ".concat(e)),new Promise((function(e,t){var c=new XMLHttpRequest;(c.upload||c).addEventListener("progress",(function(e){var t=e.position||e.loaded,n=e.totalSize||e.total;h.debug("xhr progress: ".concat(Math.round(t/n*100),"%"))})),c.addEventListener("error",(function(e){h.error("xhr upload error",e,c.responseText);try{var n=JSON.parse(c.responseText);n.message?t({message:u.a.resolveMessage(n.message)}):t({message:e.message})}catch(e){h.error("Cannot parse upload error",e,c.responseText),t({message:c.responseText||e.message})}})),c.addEventListener("load",(function(n){h.debug("xhr upload complete",n,c.responseText);var a=c.status>=200&&c.status<300;try{var r=o||!a?JSON.parse(c.responseText):c.responseText;if(r.message)return h.error("xhr upload error",n,c.responseText),void t({message:u.a.resolveMessage(r.message)})}catch(e){h.error("Cannot parse upload response",e,c.responseText),t({message:c.responseText||e.message})}e(r)})),c.open(r||"put",l);var p=i._buildHeaders();_.forIn(p,(function(e,t){c.setRequestHeader(t,e)}));var d=new FormData;if(a)if(a instanceof File)if(s){var m=n(1106),g=new FileReader,f=new m;g.onload=function(e){var n=e.target.result;f.folder(a.name).file(a.name,n),f.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}}).then((function(e){d=new File([e],"".concat(a.name,".zip")),c.send(d)}),(function(e){var n="Cannot compress file. Error: ".concat(e);h.error(n),t({message:n})}))},g.onerror=function(e){var n="Cannot read file. Error code: ".concat(e.target.error.code);h.error(n),t({message:n})},g.readAsText(a)}else d=a,c.send(d);else _.forEach(a,(function(e,t){d.append(t,e)})),c.send(d);else c.send(d)}))}},{key:"_ajaxCall",value:function(e,t,n,a){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7?arguments[7]:void 0,c=this._buildActualUrl(e,n);h.debug("".concat(t," data. URL: ").concat(e));var u=Object.assign(this._buildHeaders(),this._contentType(),i),p={method:t,headers:u};if(a)try{_.isString(a)?(p.body=a,_.merge(p.headers,this._contentType("text/plain"))):p.body=JSON.stringify(a)}catch(e){h.error("Error stringifying data. URL: ".concat(c," data "),a)}return l&&(p.credentials="include"),o?fetch(c,p).then(this._checkStatus.bind(this)).then((function(e){return e.blob()})).then((function(e){return Object(s.saveAs)(e,o)})):fetch(c,p).then(this._checkStatus.bind(this)).then((function(e){return r?_.toLower(e.headers.get("content-type")).indexOf("application/json")>=0?e.json():e.text():e}))}},{key:"_isUnauthorized",value:function(e){return!1}},{key:"_isLicenseError",value:function(e,t){return!1}},{key:"_checkStatus",value:function(e){var t=this;return e.ok?e:this._isUnauthorized(e)?(p.a.getInterceptor().handle401(),Promise.reject(d.c)):e.text().then((function(n){try{var a=JSON.parse(n),r=u.a.resolveMessage(a.message);return t._isLicenseError(e,a)?(p.a.getInterceptor().handleLicenseError(a.error_code),Promise.reject(d.a)):Promise.reject({message:r||e.statusText,status:e.status})}catch(t){return h.error(t),Promise.reject({message:e.statusText,status:e.status})}}))}},{key:"_buildActualUrl",value:function(t,n){var a=n?(t.indexOf("?")>0?"&":"?")+e.param(n,!0):"";return"".concat(t).concat(a)}},{key:"_contentType",value:function(e){return{"content-type":e||"application/json"}}},{key:"_buildHeaders",value:function(){if(!this._data)return{};var e={};return this._data.basicAuth&&(e.Authorization="Basic ".concat(this._data.basicAuth)),e}}]),t}()}).call(this,n(43))},216:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return v}));var a=n(103),r=n.n(a),i=n(26),o=n(13),s=n(433),l=n(14);function c(e){_.includes(e.target.className,"hopscotch")||g(!1)}function u(e){"Escape"===e.key&&g(!1)}function p(){document.addEventListener("click",c),document.addEventListener("keydown",u)}function d(){document.removeEventListener("click",c),document.removeEventListener("keydown",u)}function h(t){r.a.registerHelper("redirectTo",(function(n,a,o,s,c){var u=function(e){return new Promise((function(t){return setTimeout(t,e)}))},p=function(){return new Promise((function(e){return requestAnimationFrame(e)}))},d=!1,h=setTimeout((function(){return d=!0}),5e3);return new Promise((function(t){return e("button.hopscotch-cta").addClass("ui button loading")&&t()})).then(t(Object(i.push)(n))).then((function(){return function(e,t){return _.isEqual(window.location.pathname,"".concat(l.a.CONTEXT_PATH).concat(e))?Promise.resolve("Page ".concat(t," found.")):(r.a.getCalloutManager().createCallout({id:"error",target:"div.logo",placement:"bottom",title:"No page",content:"Cannot find <strong>".concat(t||e,"</strong> page. Tours are intended to work only on default templates. Reset templates to finish this tour.")}),Promise.reject("Page ".concat(t," not found.")))}(n,a)})).then((function(){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.querySelector(t),i=null!==a&&"none"!==window.getComputedStyle(a).display;return i?n?(clearTimeout(h),Promise.resolve("Element for selector ".concat(t," found."))):u(500).then((function(){return e(t,!0)})):d?(r.a.getCalloutManager().createCallout({id:"error",target:"button#toursButton",placement:"top",xOffset:-270,arrowOffset:270,title:s||"No element",content:c||"Cannot find element for the next tour step on the screen."}),Promise.reject("Element for selector ".concat(t," not found."))):p().then((function(){return e(t)}))}(o)})).then((function(){return r.a.nextStep()})).catch((function(e){console.error(e),g(!0)}))})),r.a.registerHelper("onTourStart",p),r.a.registerHelper("onTourClose",d),r.a.registerHelper("showError",(function(e){r.a.getCalloutManager().createCallout({id:"error",target:"button#toursButton",placement:"top",xOffset:-270,arrowOffset:270,title:"No target element for next step",content:e||"Cannot find target element. Tours are intended to work only on default templates. Reset templates to finish this tour."})}))}function m(e){g(!1),r.a.startTour(s.a.parseTour(e))}function g(t){var n;r.a.endTour(),t?(n=null,n=setTimeout((function t(){e(".hopscotch-bubble").length>0?n=setTimeout(t,1e3):(clearTimeout(n),d())}),1e3)):(r.a.getCalloutManager().removeAllCallouts(),d())}function f(){return function(e,t){return h(e),s.a.load(t().manager).then((function(t){return e((n=t,{type:o.jb,tours:n}));var n}))}}function v(e){return function(t,n){var a=n().router.location.pathname;if(!_.isNil(e.startAt)&&e.startAt!==a)return sessionStorage.setItem("startedTour",e.id),Promise.resolve(t(Object(i.push)(e.startAt))).then((function(){return m(e)}));m(e)}}}).call(this,n(43))},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(13);function r(e){return{type:a.Y,isEditMode:e}}},226:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(230),b=n(92),w=n(210),C=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_handleChange",value:function(e,t){var n=t.value;this.props.onPageSizeChange(n)}},{key:"render",value:function(){if(this.props.totalSize<=0&&this.props.fetchSize<=0&&1===this.props.currentPage)return null;var e=(this.props.currentPage-1)*this.props.pageSize+1,n=this.props.totalSize>0?Math.min(e+this.props.pageSize-1,this.props.totalSize):e+this.props.fetchSize-1;e>n&&(e=n);var a=t.pageSizes(this.props.sizeMultiplier),r=_.map(a,(function(e){return{text:e,value:e}}));return _.indexOf(a,this.props.pageSize)<0&&r.unshift({text:this.props.pageSize,value:this.props.pageSize}),E.a.createElement("div",{className:"ui small form"},"Page size:",E.a.createElement(w.a,{compact:!0,upward:!0,search:!0,selection:!0,allowAdditions:!0,value:this.props.pageSize,additionLabel:"Set ",options:r,clearable:!1,onChange:this._handleChange.bind(this),id:"pageSizeField"}),"",e," to ",n,this.props.totalSize>0&&E.a.createElement("span",null,"of ",this.props.totalSize," entries"))}}]),t}(v.Component);m()(C,"propTypes",{currentPage:f.a.number.isRequired,pageSize:f.a.number.isRequired,totalSize:f.a.number,onPageSizeChange:f.a.func.isRequired,fetchSize:f.a.number,sizeMultiplier:f.a.number}),m()(C,"defaultProps",{currentPage:1,totalSize:-1,fetchSize:-1,sizeMultiplier:5}),m()(C,"pageSizes",(function(e){return[1,2,3,5,10].map((function(t){return e*t}))}));var O=n(1482),P=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e=this,t=Math.ceil(this.props.totalSize/this.props.pageSize);if(t<=1)return null;var n=1==this.props.currentPage,a=this.props.currentPage==t,r=t<=5?1:Math.max(this.props.currentPage-Math.floor(2.5),1);this.props.currentPage>5&&this.props.currentPage>t-Math.floor(2.5)&&(r=t-5+1);for(var i=Math.min(r+5-1,t),o=[],s=r;s<=i;s++)r>1&&t>5&&s==r?(o.push(E.a.createElement(O.a.Item,{key:s,content:"1",onClick:function(){return e.props.onPageChange(1)}})),r>2?o.push(E.a.createElement(O.a.Item,{key:s+1,content:"...",className:"disabled"})):o.push(E.a.createElement(O.a.Item,{key:s+1,content:"2",onClick:function(){return e.props.onPageChange(2)}}))):i<t&&s==i?(i<t-1?o.push(E.a.createElement(O.a.Item,{key:s+1,content:"...",className:"disabled"})):o.push(E.a.createElement(O.a.Item,{key:s+1,content:t-1,onClick:function(){return e.props.onPageChange(t-1)}})),o.push(E.a.createElement(O.a.Item,{key:s+2,content:t,onClick:function(){return e.props.onPageChange(t)}}))):function(e,t){o.push(E.a.createElement(O.a.Item,{key:e+1,active:t.props.currentPage==e,content:e,onClick:function(){return t.props.onPageChange(e)}}))}(s,this);return E.a.createElement(O.a,{pagination:!0,floated:"right",size:"small"},E.a.createElement(O.a.Item,{icon:"angle left",link:!0,className:n?"disabled":"",onClick:function(){n||e.props.onPageChange(e.props.currentPage-1)}}),o,E.a.createElement(O.a.Item,{icon:"angle right",link:!0,className:a?"disabled":"",onClick:function(){a||e.props.onPageChange(e.props.currentPage+1)}}))}}]),t}(v.Component);m()(P,"propTypes",{currentPage:f.a.number.isRequired,pageSize:f.a.number.isRequired,totalSize:f.a.number.isRequired,onPageChange:f.a.func.isRequired});var T=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e=this;if(this.props.currentPage<=1&&this.props.fetchSize<this.props.pageSize)return null;var t=1==this.props.currentPage,n=this.props.fetchSize<this.props.pageSize,a=this.props.currentPage<=4?1:Math.max(this.props.currentPage-Math.floor(2),1);this.props.currentPage>4&&this.props.currentPage>this.props.currentPage-Math.floor(2)&&(a=this.props.currentPage-4+1);for(var r=[],i=a;i<=this.props.currentPage;i++)a>1&&this.props.currentPage>4&&i==a?(r.push(E.a.createElement(O.a.Item,{key:i,content:"1",onClick:function(){return e.props.onPageChange(1)}})),a>2?r.push(E.a.createElement(O.a.Item,{key:i+1,content:"...",className:"disabled"})):r.push(E.a.createElement(O.a.Item,{key:i+1,content:"2",onClick:function(){return e.props.onPageChange(2)}}))):function(e,t){r.push(E.a.createElement(O.a.Item,{key:e+1,active:t.props.currentPage==e,content:e,onClick:function(){return t.props.onPageChange(e)}}))}(i,this);return E.a.createElement(O.a,{pagination:!0,floated:"right",size:"small"},E.a.createElement(O.a.Item,{icon:"angle left",link:!0,className:t?"disabled":"",onClick:function(){t||e.props.onPageChange(e.props.currentPage-1)}}),r,E.a.createElement(O.a.Item,{icon:"angle right",link:!0,className:n?"disabled":"",onClick:function(){n||e.props.onPageChange(e.props.currentPage+1)}}))}}]),t}(v.Component);m()(T,"propTypes",{currentPage:f.a.number.isRequired,pageSize:f.a.number.isRequired,fetchSize:f.a.number.isRequired,onPageChange:f.a.func.isRequired});var S=n(35);n.d(t,"a",(function(){return k}));var k=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).state={pageSize:e.pageSize,currentPage:1,showWarningPopup:!1},a.disableStateUpdate=!1,a}return d()(t,e),o()(t,[{key:"_changePageSize",value:function(e){var n=this,a=parseInt(e),r=!1;(_.isNaN(a)||a<1||a>500)&&(a=t.PAGE_SIZE_LIST(this.props.sizeMultiplier)[0],r=!0),this.setState({pageSize:a,currentPage:1,showWarningPopup:r},(function(){return r&&setTimeout((function(){return n.setState({showWarningPopup:!1})}),3e3),n.props.fetchData()}))}},{key:"_changePage",value:function(e,t){var n=this;this.setState({currentPage:e,pageSize:t||this.state.pageSize},(function(){n.props.fetchData()}))}},{key:"reset",value:function(e){this.setState({currentPage:1},e)}},{key:"componentDidUpdate",value:function(e){var t={};if(e.pageSize!==this.props.pageSize&&(t.pageSize=this.props.pageSize),this.props.totalSize>=0&&1!==this.state.currentPage){var n=Math.ceil(this.props.totalSize/this.props.pageSize);this.state.currentPage>n&&(t.currentPage=1)}_.isEmpty(t)||this._changePage(t.currentPage||this.state.currentPage,t.pageSize)}},{key:"render",value:function(){return E.a.createElement("div",null,this.props.children,(this.props.totalSize>t.PAGE_SIZE_LIST(this.props.sizeMultiplier)[0]||this.props.fetchSize>0||this.state.currentPage>1)&&E.a.createElement("div",{className:"ui two column grid gridPagination"},E.a.createElement("div",{className:"column"},E.a.createElement(S.a,{open:this.state.showWarningPopup,wide:"very"},E.a.createElement(S.a.Trigger,null,E.a.createElement(C,{currentPage:this.state.currentPage,pageSize:this.state.pageSize,totalSize:this.props.totalSize,fetchSize:this.props.fetchSize,onPageSizeChange:this._changePageSize.bind(this),sizeMultiplier:this.props.sizeMultiplier})),E.a.createElement(S.a.Content,null,E.a.createElement(y.a,{warning:!0},E.a.createElement(b.a,{name:"warning sign"}),"Only integer values between 1 and 500 are allowed.")))),E.a.createElement("div",{className:"right aligned column"},this.props.totalSize>0?E.a.createElement(P,{currentPage:this.state.currentPage,pageSize:this.state.pageSize,totalSize:this.props.totalSize,onPageChange:this._changePage.bind(this)}):E.a.createElement(T,{currentPage:this.state.currentPage,pageSize:this.state.pageSize,fetchSize:this.props.fetchSize,onPageChange:this._changePage.bind(this)}))))}}]),t}(v.Component);m()(k,"PAGE_SIZE_LIST",C.pageSizes),m()(k,"propTypes",{children:f.a.any.isRequired,fetchData:f.a.func.isRequired,pageSize:f.a.number.isRequired,totalSize:f.a.number,fetchSize:f.a.number,sizeMultiplier:f.a.number}),m()(k,"defaultProps",{totalSize:0,fetchSize:0,sizeMultiplier:5,pageSize:k.PAGE_SIZE_LIST(5)[0]})},257:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var a=n(13),r=n(101),i=n(58),o=n(217),s=n(66),l=n(147),c=n(216);function u(e){var t=new r.a(e);return function(e){return e({type:a.P}),t.doGet("/tenants",{_include:"name",_get_all_results:!0}).then((function(t){e(function(e){return{type:a.R,tenants:e,receivedAt:Date.now()}}(t))})).catch((function(t){return console.error(t),e(function(e){return{type:a.p,error:e,receivedAt:Date.now()}}(t.message)),Promise.reject(t)}))}}function p(e){return function(t){t(Object(i.c)(!0)),t(Object(o.a)(!1)),t(Object(s.a)()),t(function(e){return{type:a.S,tenant:e}}(e)),t(Object(l.b)()),t(Object(c.a)())}}},259:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(2),r=n.n(a),i=n(1),o=n.n(i),s=n(0),l=n.n(s),c=n(1456),u=n(92),p=n(188),d=n(28);function h(e){var t,n=e.name,a=e.isExternal,i=(t={},r()(t,d.d.manager,"settings"),r()(t,d.d.db,"database"),r()(t,d.d.broker,"comments"),t)[n];return o.a.createElement("div",{style:{verticalAlign:"middle",padding:10,overflow:"auto"}},o.a.createElement(c.a,{floated:"left",style:{margin:0}},o.a.createElement(u.a,{name:i,size:"large"})," ",d.e[n]),a&&o.a.createElement(p.a,{color:"black",style:{marginLeft:10,float:"right"}},"External"))}h.propTypes={name:l.a.oneOf(d.h).isRequired,isExternal:l.a.bool.isRequired}},260:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(26),l=n(66),c=n(58),u=n(14);function p(e){return function(t){t(Object(l.a)()),t(Object(c.b)(e)),t(Object(s.push)(u.a.ERROR_PAGE_PATH))}}n.d(t,"a",(function(){return h}));var d=null,h=function(){function e(t){r()(this,e),this._store=t}return o()(e,[{key:"handle401",value:function(){this._store.dispatch(Object(l.a)()),this._store.dispatch(Object(s.push)(u.a.LOGIN_PAGE_PATH))}},{key:"handleLicenseError",value:function(e){e===u.a.NO_LICENSE_ERROR_CODE?this._store.dispatch(p("No active license")):e===u.a.EXPIRED_LICENSE_ERROR_CODE&&this._store.dispatch(p("License has expired"))}}],[{key:"create",value:function(t){d=new e(t)}},{key:"getInterceptor",value:function(){return d}}]),e}()},28:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return h}));var a=Object.freeze({OK:"OK",Fail:"Fail",Degraded:"Degraded",Unknown:"Unknown"}),r=Object.freeze({manager:"Manager",db:"Database",broker:"Message Broker"}),i=Object.freeze({manager:"manager",db:"db",broker:"broker"}),o=_.keys(i),s=Object.freeze({OK:"OK",Fail:"Fail",Degraded:"Degraded",Unknown:"Unknown"}),l=_.keys(s),c=function(e){switch(e){case s.OK:return"#21ba45";case s.Degraded:return"#fbbd08";case s.Fail:return"#db2828";default:return"#aaaaaa"}},u=Object.freeze({OK:"OK",Fail:"Fail"}),p=_.keys(u),d=Object.freeze({Active:"Active",Inactive:"Inactive"}),h=_.keys(d)},3:function(e,t,n){"use strict";n.r(t);var a=n(1481),r=n(1488),i=n(156),o=n(1479),s=n(827),l=n(1471),c=n(1472),u=n(1489),p=n(1456),d=n(92),h=n(826),m=n(1452),g=n(1477),f=n(188),v=n(1478),E=n(1469),y=n(230),b=n(340),w=n(1491),C=n(1473),O=n(1451),P=n(1485),T=n(1487),S=n(1480),k=n(59),I=n(1454),D=n(678),A=n.n(D),j=n(5),R=n.n(j),N=n(6),x=n.n(N),M=n(9),L=n.n(M),U=n(8),F=n.n(U),q=n(10),z=n.n(q),G=n(2),B=n.n(G),W=n(0),H=n.n(W),V=n(1),Y=n.n(V),X=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(i.a,this.props)}}]),t}(V.Component);B()(X,"propTypes",{content:H.a.string,icon:H.a.string,className:H.a.string}),B()(X,"defaultProps",{content:"Save",icon:"checkmark",className:"ok"});var K=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(i.a,this.props)}}]),t}(V.Component);B()(K,"propTypes",{content:H.a.string,icon:H.a.string,className:H.a.string}),B()(K,"defaultProps",{content:"Cancel",icon:"remove",className:"basic cancel"});var J=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(b.a,{open:this.props.open,size:"small"},Y.a.createElement(b.a.Header,null,this.props.content),Y.a.createElement(b.a.Actions,null,Y.a.createElement(X,{onClick:this.props.onDismiss,content:"Ok",color:"green"})))}}]),t}(V.Component);B()(J,"propTypes",{open:H.a.bool,content:H.a.string,onDismiss:H.a.func}),B()(J,"defaultProps",{onDismiss:function(){}});var Z=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(d.a,{title:this.props.value?"Yes":"No",name:this.props.value?"checkmark box":"square outline"})}}]),t}(V.Component);B()(Z,"propTypes",{value:H.a.bool}),B()(Z,"defaultProps",{});var Q=n(181),$=n(7),ee=n.n($),te=n(113),ne=n.n(te),ae=n(1468),re=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this.props,t=e.confirmButton,n=e.cancelButton,a=e.className,r=ne()(e,["confirmButton","cancelButton","className"]);return Y.a.createElement(ae.a,ee()({},r,{confirmButton:t||"Yes",cancelButton:n||"No",className:"confirmModal ".concat(a)}))}}]),t}(V.Component);B()(re,"defaultProps",{className:""});var ie=n(335),oe=n(326),se=n(327),le={ClusterServicesList:ie.a,ClusterServicesOverview:oe.a,ClusterStatusIcon:se.a},ce=n(62),ue=n(191),pe=n(324),de=n(226),he=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(ue.a.Field,{className:"actionField"},this.props.children)}}]),t}(V.Component);B()(he,"propTypes",{children:H.a.any.isRequired});var me=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this.props.className+(_.isFunction(this.props.onClick)?" clickable":"");return Y.a.createElement(P.a,{secondary:this.props.selected,className:e,onClick:this.props.onClick},this.props.children)}}]),t}(V.Component);B()(me,"propTypes",{children:H.a.any.isRequired,selected:H.a.bool,onClick:H.a.func,className:H.a.string}),B()(me,"defaultProps",{selected:!1,className:""});var ge=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).paginationRef=Y.a.createRef(),a.state={searchText:"",searching:!1},a.debouncedSearch=_.debounce((function(){a.paginationRef.current.reset((function(){return Promise.resolve(a._fetchData()).then((function(){return a.setState({searching:!1})}))}))}),300,{maxWait:2e3}),a}return z()(t,e),x()(t,[{key:"_fetchData",value:function(){return this.props.fetchData({gridParams:{_search:this.state.searchText,currentPage:this.paginationRef.current.state.currentPage,pageSize:this.paginationRef.current.state.pageSize}})}},{key:"render",value:function(){var e=this,t=null,n=[];return Y.a.Children.forEach(this.props.children,(function(e){e&&e.type&&(e.type===he?t=e:n.push(e))})),Y.a.createElement("div",{className:"segmentList ".concat(this.props.className)},(t||this.props.searchable)&&Y.a.createElement(ue.a,{size:"small",as:"div"},Y.a.createElement(ue.a.Group,{inline:!0},this.props.searchable&&Y.a.createElement(pe.a,{search:this.state.searchText,searching:this.state.searching,onSearch:function(t){return e.setState({searchText:t,searching:!0},e.debouncedSearch)}}),t)),Y.a.createElement(de.a,{totalSize:this.props.totalSize,pageSize:this.props.pageSize,sizeMultiplier:this.props.sizeMultiplier,fetchData:this._fetchData.bind(this),fetchSize:this.props.fetchSize,ref:this.paginationRef},this.props.totalSize<=0&&this.props.fetchSize<=0&&(0===this.props.totalSize||0===this.props.fetchSize)?Y.a.createElement(y.a,{icon:!0},Y.a.createElement(d.a,{name:"ban"}),0===this.props.fetchSize&&this.paginationRef.current&&this.paginationRef.current.state.currentPage>1?Y.a.createElement("span",null,"No more data available"):Y.a.createElement("span",null,this.props.noDataMessage)):n))}}]),t}(V.Component);B()(ge,"Item",me),B()(ge,"Action",he),B()(ge,"propTypes",{children:H.a.any.isRequired,fetchData:H.a.func.isRequired,totalSize:H.a.number,fetchSize:H.a.number,pageSize:H.a.number,className:H.a.string,sizeMultiplier:H.a.number,searchable:H.a.bool,noDataMessage:H.a.string}),B()(ge,"defaultProps",{className:"",fetchData:function(){},totalSize:-1,fetchSize:-1,pageSize:0,sizeMultiplier:3,searchable:!1,noDataMessage:"No data available"});var fe=n(210),ve=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState(e),a}return z()(t,e),x()(t,[{key:"labelClicked",value:function(){this.props.isEditEnable&&this.setState({editing:!0})}},{key:"textChanged",value:function(e){this.setState({text:e.target.value})}},{key:"inputLostFocus",value:function(){this.props.isEditEnable&&(this.props.onEditDone(this.state.text),this.setState({editing:!1}))}},{key:"keyPressed",value:function(e){"Enter"===e.key&&this.inputLostFocus()}},{key:"render",value:function(){var e=this,t="".concat(this.props.className," ").concat(_.isEmpty(this.props.text)?"editPlaceholder":"");if(this.state.editing)return Y.a.createElement("input",{type:"text",value:this.state.text,autoFocus:!0,onClick:function(t){t.stopPropagation(),e.labelClicked()},onChange:this.textChanged.bind(this),onBlur:this.inputLostFocus.bind(this),onKeyPress:this.keyPressed.bind(this),className:t});var n=this.props.isEditEnable?this.props.text||this.props.placeholder:this.props.text;return Y.a.createElement("label",{onClick:function(t){t.stopPropagation(),e.labelClicked()},className:t},n)}}]),t}(V.Component);B()(ve,"propTypes",{text:H.a.string,placeholder:H.a.string,className:H.a.string,isEditEnable:H.a.bool,onEditDone:H.a.func}),B()(ve,"defaultProps",{text:"",placeholder:"",className:"",isEditEnable:!0,onEditDone:function(){}}),B()(ve,"initialState",(function(e){return{editing:!1,text:e.text}}));var Ee=n(212),ye=n(74),be=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this.props.execution,t=e.status_display||e.status,n=this.props.allowShowingPopup&&ye.a.isWaitingExecution(e)&&!_.isEmpty(e.scheduled_for);return this.props.showLabel?Y.a.createElement(_t.a,{on:n?"hover":[]},Y.a.createElement(_t.a.Trigger,null,Y.a.createElement(f.a,ee()({},this.props.labelProps,{onClick:function(e){return e.stopPropagation()}}),Y.a.createElement(d.a,ee()({},ye.a.getExecutionStatusIconParams(e),this.props.iconProps)),this.props.showWorkflowId&&e.workflow_id,this.props.showWorkflowId&&" ",t)),n?Y.a.createElement("span",null,"Scheduled for: ",Y.a.createElement("strong",null,e.scheduled_for)):null):Y.a.createElement(d.a,ee()({},ye.a.getExecutionStatusIconParams(e),this.props.iconProps,{onClick:function(e){return e.stopPropagation()}}))}}]),t}(V.Component);B()(be,"propTypes",{execution:H.a.object.isRequired,allowShowingPopup:H.a.bool,iconProps:H.a.object,labelProps:H.a.object,showLabel:H.a.bool,showWorkflowId:H.a.bool}),B()(be,"defaultProps",{allowShowingPopup:!0,iconProps:{},labelProps:{},showLabel:!0,showWorkflowId:!1});var _e=n(54),we=n(114),Ce=n(803),Oe=n(48),Pe=n(118),Te=n(19),Se=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e,n,a=this,r=(e={},B()(e,t.LINE_CHART_TYPE,Oe.j),B()(e,t.BAR_CHART_TYPE,Oe.d),B()(e,t.AREA_CHART_TYPE,Oe.b),e),i=(n={},B()(n,t.LINE_CHART_TYPE,Oe.i),B()(n,t.BAR_CHART_TYPE,Oe.c),B()(n,t.AREA_CHART_TYPE,Oe.a),n),o=["#000069","#28aae1","#f4773c","#21ba45","#af41f4"],s=Object(Pe.a)(".3s"),l=this.props.xDataKey===t.DEFAULT_X_DATA_KEY,c=function(e){var t=e.vertical,n=e.x,a=e.y,r=e.width,i=e.height,o=e.children,s=e.fill,l=t?n+20:n+r/2+10,c=t?i/2:a+i+20,u=t?"270 ".concat(l," ").concat(c):0,p={fill:s,stroke:s};return Y.a.createElement("text",{x:l,y:c,transform:"rotate(".concat(u,")"),textAnchor:"middle",style:p},o)},u=r[this.props.type],p=i[this.props.type],d=[],h=0;_.each(_.slice(this.props.charts,0,t.MAX_NUMBER_OF_CHARTS),(function(e){if(e.fieldNames)a.props.showYAxis&&d.push(Y.a.createElement(Oe.p,{key:"yaxis".concat(e.name),padding:{top:10},width:e.axisLabel?50:25,tickFormatter:s,tick:a.props.yAxisTick,label:Y.a.createElement(c,{vertical:!0},e.axisLabel)})),_.each(e.fieldNames,(function(e){var t=o[h++];d.push(Y.a.createElement(p,{key:e,isAnimationActive:!1,name:e,type:"monotone",dataKey:e,stroke:t,fill:t,fillOpacity:.3,dot:!1}))}));else{var t=o[h++],n={stroke:t},r=l?Y.a.createElement(Oe.p,{key:"yaxis".concat(e.name),dataKey:e.name,yAxisId:e.name,width:50,axisLine:n,tick:n,tickLine:n,tickFormatter:s,label:Y.a.createElement(c,{vertical:!0,fill:t},e.axisLabel)}):Y.a.createElement(Oe.p,{key:"yaxis".concat(e.name),dataKey:e.name,yAxisId:e.name,axisLine:n,width:30,allowDecimals:a.props.yAxisAllowDecimals,tickFormatter:a.props.yAxisDataFormatter});d.push(r),d.push(Y.a.createElement(p,{key:e.name,isAnimationActive:!1,name:e.label,type:"monotone",dataKey:e.name,stroke:t,fillOpacity:.3,fill:t,yAxisId:e.name}))}}));var m=function(e){return Te.a.Time.formatLocalTimestamp(e,a.props.xAxisTimeFormat,a.props.dataTimeFormat)};return Y.a.createElement(Oe.m,{width:"100%",height:"100%"},Y.a.createElement(u,{data:this.props.data,margin:{top:5,right:30,left:20,bottom:5},syncId:this.props.syncId,onClick:this.props.onClick},d,Y.a.createElement(Oe.f,{strokeDasharray:"3 3"}),this.props.showXAxis&&l?Y.a.createElement(Oe.o,{dataKey:this.props.xDataKey,tickFormatter:m,tick:this.props.xAxisTick}):Y.a.createElement(Oe.o,{dataKey:this.props.xDataKey}),this.props.showTooltip&&l?Y.a.createElement(Oe.n,{isAnimationActive:!1,formatter:s,labelFormatter:m,cursor:!1}):Y.a.createElement(Oe.n,{isAnimationActive:!1,formatter:this.props.tooltipFormatter,cursor:!1}),this.props.showLegend&&Y.a.createElement(Oe.h,null),this.props.showBrush&&Y.a.createElement(Oe.e,null)))}}]),t}(V.Component);B()(Se,"DEFAULT_X_DATA_KEY","time"),B()(Se,"LINE_CHART_TYPE","line"),B()(Se,"BAR_CHART_TYPE","bar"),B()(Se,"AREA_CHART_TYPE","area"),B()(Se,"MAX_NUMBER_OF_CHARTS",5),B()(Se,"propTypes",{data:H.a.array.isRequired,type:H.a.string.isRequired,charts:H.a.array.isRequired,xDataKey:H.a.string}),B()(Se,"defaultProps",{xDataKey:Se.DEFAULT_X_DATA_KEY,showXAxis:!0,showYAxis:!0,showBrush:!1,showTooltip:!0,showLegend:!0,dataTimeFormat:void 0,xAxisTimeFormat:"DD-MM-YYYY HH:mm",xAxisTick:{fontSize:"10px"},yAxisTick:{fontSize:"10px"},tooltipFormatter:void 0,yAxisAllowDecimals:!0,yAxisDataFormatter:void 0});var ke=function(e){function t(e){return R()(this,t),L()(this,F()(t).call(this,e))}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props.widget,e.widget)||!_.isEqual(this.state,t)||!_.isEqual(this.props.data,e.data)}},{key:"render",value:function(){var e=this.props.data;return Y.a.createElement(Oe.m,{width:"100%",height:"100%"},Y.a.createElement(Oe.l,null,Y.a.createElement(Oe.k,{dataKey:"value",data:e,labelLine:!0,label:!0,isAnimationActive:!1,cx:"40%"},e.map((function(e,t){return Y.a.createElement(Oe.g,{key:t,fill:e.color})}))),Y.a.createElement(Oe.h,{layout:"vertical",verticalAlign:"middle",align:"right"})))}}]),t}(V.Component);B()(ke,"propTypes",{widget:H.a.object.isRequired,data:H.a.array.isRequired,toolbox:H.a.object.isRequired});var Ie={Gauge:Ce.a,Graph:Se,PieGraph:ke},De=n(189),Ae=n.n(De),je=n(807),Re=n.n(je),Ne=(n(1396),n(808)),xe=n.n(Ne),Me=n(809),Le=n.n(Me),Ue=n(438),Fe=n.n(Ue),qe=n(810),ze=n.n(qe);Object(De.registerLanguage)("bash",Fe.a),Object(De.registerLanguage)("javascript",xe.a),Object(De.registerLanguage)("json",Le.a),Object(De.registerLanguage)("python",Fe.a),Object(De.registerLanguage)("yaml",ze.a);var Ge=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(Ae.a,{language:this.props.className,style:Re.a,codeTagProps:{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}}},this.props.children)}}]),t}(V.Component);B()(Ge,"propTypes",{children:H.a.any,className:H.a.string}),B()(Ge,"defaultProps",{className:"json"});var Be=n(315),We=n(1483),He=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement("div",{className:"keyIndicator"},Y.a.createElement(We.a,null,Y.a.createElement(We.a.Value,null,Y.a.createElement(d.a,{name:this.props.icon})," ",this.props.number),Y.a.createElement(We.a.Label,null,this.props.title)))}}]),t}(V.Component);B()(He,"propTypes",{title:H.a.string.isRequired,icon:H.a.string.isRequired,number:H.a.number.isRequired}),B()(He,"defaultProps",{});var Ve=n(1484),Ye=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(P.a,{basic:!0,className:"loadingSegment"},Y.a.createElement(Ve.a,{active:!0,inverted:!0},Y.a.createElement(E.a,null,this.props.message)))}}]),t}(V.Component);B()(Ye,"propTypes",{message:H.a.string}),B()(Ye,"defaultProps",{message:"Loading"});var Xe=n(1486),Ke=n(1490),Je=n(1470),Ze=n(1492),Qe={Map:Xe.a,TileLayer:Ke.a,Marker:Je.a,Popup:Ze.a},$e=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this.props.activate?"Activate Maintenance Mode":"Dectivate Maintenance Mode";return React.createElement(i.a,{color:"orange",icon:"doctor",content:e,className:"widgetButton",labelPosition:"left",onClick:this.props.onClick})}}]),t}(V.Component);B()($e,"props",{activate:H.a.bool.isRequired,onClick:H.a.func.isRequired});var et=n(24),tt=n.n(et),nt=n(21),at=n(14),rt=n(73);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ot=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState,a.pollingTimeout=null,a}return z()(t,e),x()(t,[{key:"componentDidUpdate",value:function(e){!e.show&&this.props.show?(this.setState(t.initialState),this._loadPendingExecutions()):e.show&&!this.props.show&&(this._stopPolling(),this._stopFetchingData(),this.props.onClose())}},{key:"componentWillUnmount",value:function(){this._stopPolling()}},{key:"_loadPendingExecutions",value:function(){var e=this;this.props.manager.maintenance===at.a.MAINTENANCE_DEACTIVATED&&(this.fetchDataPromise=Te.a.makeCancelable(this.props.onFetchActiveExecutions()),this.fetchDataPromise.promise.then((function(t){console.log("Maintenance data fetched"),e._startPolling()})).catch((function(t){e.setState({error:t.message}),e._startPolling()})))}},{key:"_stopPolling",value:function(){console.log("Stop polling maintenance data"),clearTimeout(this.pollingTimeout)}},{key:"_stopFetchingData",value:function(){this.fetchDataPromise&&this.fetchDataPromise.cancel()}},{key:"_startPolling",value:function(){var e=this;this._stopPolling(),this._stopFetchingData(),this.props.show&&(console.log("Polling maintenance data - time interval: ".concat(2," sec")),this.pollingTimeout=setTimeout((function(){e._loadPendingExecutions()}),2e3))}},{key:"onApprove",value:function(){return this.setState({loading:!0}),this.props.manager.maintenance===at.a.MAINTENANCE_DEACTIVATED?this._activate():this._deactivate(),!1}},{key:"onDeny",value:function(){return this.props.onHide(),!0}},{key:"_activate",value:function(){var e=this;this.props.onMaintenanceActivate().then((function(){e.setState({error:"",loading:!1}),e.props.onHide()})).catch((function(t){e.setState({error:t.message,loading:!1})}))}},{key:"_deactivate",value:function(){var e=this;this.props.onMaintenanceDeactivate().then((function(){e.setState({error:"",loading:!1}),e.props.onHide()})).catch((function(t){e.setState({error:t.message,loading:!1})}))}},{key:"_cancelExecution",value:function(e,t){var n=this;this.setState({cancelling:[].concat(tt()(this.state.cancelling),[e.id])},(function(){return n.props.onCancelExecution(e,t).then((function(){n._loadPendingExecutions(),n.setState({error:"",cancelling:_.without(n.state.cancelling,e.id)})})).catch((function(e){n.setState({error:e.message})}))}))}},{key:"render",value:function(){var e=this;return Y.a.createElement(b.a,{open:this.props.show,onClose:function(){return e.props.onHide()}},Y.a.createElement(b.a.Header,null,Y.a.createElement(d.a,{name:"doctor"}),this.props.manager.maintenance===at.a.MAINTENANCE_DEACTIVATED?"Are you sure you want to enter maintenance mode?":"Are you sure you want to exit maintenance mode?"),this.state.error||!_.isEmpty(this.props.activeExecutions.items)?Y.a.createElement(b.a.Content,null,Y.a.createElement(Ee.a,{error:this.state.error}),!_.isEmpty(this.props.activeExecutions.items)&&Y.a.createElement(ce.a,null,Y.a.createElement(ce.a.Column,{label:"Blueprint",width:"15%"}),Y.a.createElement(ce.a.Column,{label:"Deployment",width:"15%"}),Y.a.createElement(ce.a.Column,{label:"Workflow",width:"15%"}),Y.a.createElement(ce.a.Column,{label:"Id",width:"20%"}),Y.a.createElement(ce.a.Column,{label:"System",width:"5%"}),Y.a.createElement(ce.a.Column,{label:"Status",width:"15%"}),Y.a.createElement(ce.a.Column,{label:"Action"}),this.props.activeExecutions.items.map((function(t){return Y.a.createElement(ce.a.Row,{key:t.id},Y.a.createElement(ce.a.Data,null,t.blueprint_id),Y.a.createElement(ce.a.Data,null,t.deployment_id),Y.a.createElement(ce.a.Data,null,t.workflow_id),Y.a.createElement(ce.a.Data,null,t.id),Y.a.createElement(ce.a.Data,null,Y.a.createElement(Z,{value:t.is_system_workflow})),Y.a.createElement(ce.a.Data,null,Y.a.createElement(be,{execution:t})),Y.a.createElement(ce.a.Data,{className:"center aligned"},Y.a.createElement(Pt,{className:"menuAction"},Y.a.createElement(ut,{pointing:!0,vertical:!0},Y.a.createElement(ut.Item,{content:"Cancel",icon:"cancel",name:ye.a.CANCEL_ACTION,onClick:function(){return e._cancelExecution(t,ye.a.CANCEL_ACTION)}}),Y.a.createElement(ut.Item,{content:"Force Cancel",icon:Y.a.createElement(d.a,{name:"cancel",color:"red"}),name:ye.a.FORCE_CANCEL_ACTION,onClick:function(){return e._cancelExecution(t,ye.a.FORCE_CANCEL_ACTION)}}),Y.a.createElement(ut.Item,{content:"Kill Cancel",icon:Y.a.createElement(d.a,{name:"stop",color:"red"}),name:ye.a.KILL_CANCEL_EXECUTION,onClick:function(){return e._cancelExecution(t,ye.a.KILL_CANCEL_EXECUTION)}})))))})))):"",Y.a.createElement(b.a.Actions,null,Y.a.createElement(K,{onClick:this.onDeny.bind(this),content:"No",disabled:this.state.loading}),Y.a.createElement(X,{onClick:this.onApprove.bind(this),content:"Yes",icon:"doctor",color:"green",disabled:this.state.loading})))}}]),t}(V.Component);B()(ot,"initialState",{cancelling:[],loading:!1,error:""}),B()(ot,"propTypes",{show:H.a.bool.isRequired,manager:H.a.object.isRequired,activeExecutions:H.a.object,onHide:H.a.func.isRequired,onMaintenanceActivate:H.a.func.isRequired,onMaintenanceDeactivate:H.a.func.isRequired,onFetchActiveExecutions:H.a.func.isRequired}),B()(ot,"defaultProps",{activeExecutions:{}});var st=Object(nt.connect)((function(e,t){return{manager:e.manager,show:t.show,onHide:t.onHide,activeExecutions:e.manager.activeExecutions}}),(function(e,t){return{onMaintenanceActivate:function(t){return e(Object(rt.h)(t,!0))},onMaintenanceDeactivate:function(t){return e(Object(rt.h)(t,!1))},onFetchActiveExecutions:function(t){return e(Object(rt.b)(t))},onCancelExecution:function(t,n,a){return e(Object(rt.a)(t,n,a))},onClose:function(){return e(Object(rt.g)({}))}}}),(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},n,{},t,{onMaintenanceActivate:function(){return t.onMaintenanceActivate(e.manager)},onMaintenanceDeactivate:function(){return t.onMaintenanceDeactivate(e.manager)},onFetchActiveExecutions:function(){return t.onFetchActiveExecutions(e.manager)},onCancelExecution:function(n,a){return t.onCancelExecution(e.manager,n,a)}})}))(ot),lt=n(1482),ct=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(lt.a.Item,ee()({},this.props,{"option-value":this.props.name}))}}]),t}(lt.a.Item),ut=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),t}(lt.a);B()(ut,"Item",ct);var pt=n(134),dt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){pt.a.turnOff();var e={margin:this.props.margin,textAlign:this.props.textAlign},t=this.props.wide?{mobile:14,tablet:14,computer:12}:{mobile:12,tablet:8,computer:6};return Y.a.createElement(u.a,{centered:!0,container:!0,columns:1},Y.a.createElement(u.a.Column,t,Y.a.createElement(P.a,{size:this.props.size,padded:!0,raised:!0,style:e,loading:this.props.loading},this.props.children)))}}]),t}(V.Component);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}B()(dt,"propTypes",{children:H.a.any.isRequired,textAlign:H.a.string,loading:H.a.bool,size:H.a.string,wide:H.a.bool,margin:H.a.string}),B()(dt,"defaultProps",{textAlign:"center",loading:!1,size:"big",wide:!1,margin:"80px auto"});var gt=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState(e),a.toolbox=Te.a.getToolbox((function(){}),(function(){}),null),a}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props,e)||!_.isEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e,n){n.blueprintId===this.props.value.blueprintId&&n.deploymentId===this.props.value.deploymentId&&n.nodeId===this.props.value.nodeId&&n.nodeInstanceId===this.props.value.nodeInstanceId||(this.setState(mt({},t.initialState(this.props))),this._fetchBlueprints(),this._fetchDeployments(),this._fetchNodes(),this._fetchNodeInstances())}},{key:"componentDidMount",value:function(){this._fetchBlueprints(),this._fetchDeployments(),this._fetchNodes(),this._fetchNodeInstances()}},{key:"_fetchData",value:function(e,t,n){var a,r=this,i="".concat(n,"Loading"),o=mt({},this.state.errors);o[n]=null,this.setState((a={},B()(a,i,!0),B()(a,n,[]),B()(a,"errors",o),a)),this.toolbox.getManager().doGet(e,t).then((function(e){var t,a=_.chain(e.items||[]).map((function(e){return e.id})).uniqWith(_.isEqual).value();r._isFilteringSetFor(n)&&(a=_.intersection(a,r._getAllowedOptionsFor(n)));var o=_.map(a,(function(e){return{text:e,value:e,key:e}}));r._isMultipleSetFor(n)||o.unshift({text:"",value:"",key:""}),r.setState((t={},B()(t,i,!1),B()(t,n,o),t))})).catch((function(e){var t;o[n]="Data fetching error: ".concat(e.message),r.setState((t={},B()(t,i,!1),B()(t,n,[]),B()(t,"errors",o),t))}))}},{key:"_fetchBlueprints",value:function(){var e=mt({},t.BASIC_PARAMS);this._fetchData("/blueprints",e,"blueprints")}},{key:"_fetchDeployments",value:function(){var e=mt({},t.BASIC_PARAMS);_.isEmpty(this.state.blueprintId)||(e.blueprint_id=this.state.blueprintId),this._fetchData("/deployments",e,"deployments")}},{key:"_fetchNodes",value:function(){var e=mt({},t.BASIC_PARAMS);_.isEmpty(this.state.blueprintId)||(e.blueprint_id=this.state.blueprintId),_.isEmpty(this.state.deploymentId)||(e.deployment_id=this.state.deploymentId),this._fetchData("/nodes",e,"nodes")}},{key:"_fetchNodeInstances",value:function(){var e=mt({},t.BASIC_PARAMS);_.isEmpty(this.state.deploymentId)||(e.deployment_id=this.state.deploymentId),_.isEmpty(this.state.nodeId)||(e.node_id=this.state.nodeId),this._fetchData("/node-instances",e,"nodeInstances")}},{key:"_handleInputChange",value:function(e,t,n,a){var r=this;this.setState(mt({},e,B()({},n.name,n.value)),(function(){_.isFunction(a)&&a(),r.props.onChange(t,{name:r.props.name,value:{blueprintId:r.state.blueprintId,deploymentId:r.state.deploymentId,nodeId:r.state.nodeId,nodeInstanceId:r.state.nodeInstanceId}})}))}},{key:"_isMultipleSetFor",value:function(e){return this.props.allowMultiple||this.props["allowMultiple".concat(_.upperFirst(e))]}},{key:"_getEmptyValueFor",value:function(e){return this._isMultipleSetFor(e)?[]:""}},{key:"_isFilteringSetFor",value:function(e){return!_.isEmpty(this.props["allowed".concat(_.upperFirst(e))])}},{key:"_getAllowedOptionsFor",value:function(e){return this.props["allowed".concat(_.upperFirst(e))]}},{key:"_selectBlueprint",value:function(e,t){var n=this;this._handleInputChange({deploymentId:this._getEmptyValueFor("deployments"),nodeId:this._getEmptyValueFor("nodes"),nodeInstanceId:this._getEmptyValueFor("nodeInstances")},e,t,(function(){n._fetchDeployments(),n._fetchNodes(),n._fetchNodeInstances()}))}},{key:"_selectDeployment",value:function(e,t){var n=this;this._handleInputChange({nodeId:this._getEmptyValueFor("nodes"),nodeInstanceId:this._getEmptyValueFor("nodeInstances")},e,t,(function(){n._fetchNodes(),n._fetchNodeInstances()}))}},{key:"_selectNode",value:function(e,t){var n=this;this._handleInputChange({nodeInstanceId:this._getEmptyValueFor("nodeInstances")},e,t,(function(){n._fetchNodeInstances()}))}},{key:"_selectNodeInstance",value:function(e,t){this._handleInputChange({},e,t)}},{key:"render",value:function(){var e=this.state.errors;return Y.a.createElement(_e.a.Group,{widths:"equal"},this.props.showBlueprints&&Y.a.createElement(_e.a.Field,{error:this.state.errors.blueprints},Y.a.createElement(_e.a.Dropdown,{search:!0,selection:!0,value:e.blueprints?this._getEmptyValueFor("blueprints"):this.state.blueprintId,multiple:this._isMultipleSetFor("blueprints"),placeholder:e.blueprints||"Blueprint",options:this.state.blueprints,onChange:this._selectBlueprint.bind(this),name:"blueprintId",loading:this.state.blueprintsLoading})),this.props.showDeployments&&Y.a.createElement(_e.a.Field,{error:this.state.errors.deployments},Y.a.createElement(_e.a.Dropdown,{search:!0,selection:!0,value:e.deployments?this._getEmptyValueFor("deployments"):this.state.deploymentId,multiple:this._isMultipleSetFor("deployments"),placeholder:e.deployments||"Deployment",options:this.state.deployments,onChange:this._selectDeployment.bind(this),name:"deploymentId",loading:this.state.deploymentsLoading})),this.props.showNodes&&Y.a.createElement(_e.a.Field,{error:this.state.errors.nodes},Y.a.createElement(_e.a.Dropdown,{search:!0,selection:!0,value:e.nodes?this._getEmptyValueFor("nodes"):this.state.nodeId,multiple:this._isMultipleSetFor("nodes"),placeholder:e.nodes||"Node",options:this.state.nodes,onChange:this._selectNode.bind(this),name:"nodeId",loading:this.state.nodesLoading})),this.props.showNodeInstances&&Y.a.createElement(_e.a.Field,{error:this.state.errors.nodeInstances},Y.a.createElement(_e.a.Dropdown,{search:!0,selection:!0,value:e.nodeInstances?this._getEmptyValueFor("nodeInstances"):this.state.nodeInstanceId,multiple:this._isMultipleSetFor("nodeInstances"),placeholder:e.nodeInstances||"Node Instance",options:this.state.nodeInstances,onChange:this._selectNodeInstance.bind(this),name:"nodeInstanceId",loading:this.state.nodeInstancesLoading})))}}]),t}(Y.a.Component);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}B()(gt,"EMPTY_VALUE",{blueprintId:"",deploymentId:"",nodeId:"",nodeInstanceId:""}),B()(gt,"propTypes",{name:H.a.string.isRequired,value:H.a.shape({blueprintId:H.a.oneOfType([H.a.string,H.a.array]).isRequired,deploymentId:H.a.oneOfType([H.a.string,H.a.array]).isRequired,nodeId:H.a.oneOfType([H.a.string,H.a.array]).isRequired,nodeInstanceId:H.a.oneOfType([H.a.string,H.a.array]).isRequired}).isRequired,onChange:H.a.func,allowMultiple:H.a.bool,allowMultipleBlueprints:H.a.bool,allowMultipleDeployments:H.a.bool,allowMultipleNodes:H.a.bool,allowMultipleNodeInstances:H.a.bool,allowedBlueprints:H.a.array,allowedDeployments:H.a.array,allowedNodes:H.a.array,allowedNodeInstances:H.a.array,showBlueprints:H.a.bool,showDeployments:H.a.bool,showNodes:H.a.bool,showNodeInstances:H.a.bool}),B()(gt,"defaultProps",{onChange:_.noop,allowMultiple:!1,allowMultipleBlueprints:!1,allowMultipleDeployments:!1,allowMultipleNode:!1,allowMultipleNodes:!1,allowedBlueprints:null,allowedDeployments:null,allowedNode:null,allowedNodes:null,showBlueprints:!0,showDeployments:!0,showNodes:!0,showNodeInstances:!0}),B()(gt,"initialState",(function(e){return{blueprints:[],deployments:[],nodes:[],nodeInstances:[],blueprintId:e.value.blueprintId,deploymentId:e.value.deploymentId,nodeId:e.value.nodeId,nodeInstanceId:e.value.nodeInstanceId,errors:{}}})),B()(gt,"BASIC_PARAMS",{_include:"id"});var Et=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState(e),a.toolbox=Te.a.getToolbox((function(){}),(function(){}),null),a}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props,e)||!_.isEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e){e.deploymentId!==this.props.deploymentId&&(this.setState(vt({},t.initialState(this.props))),this._fetchData())}},{key:"componentDidMount",value:function(){this._fetchData()}},{key:"_fetchData",value:function(){var e=this;if(!_.isEmpty(this.props.deploymentId)){var t={_include:"id",deployment_id:this.props.deploymentId},n=vt({},this.state.errors);n.nodeInstanceIds=null,this.setState({loading:!0,nodeInstances:[],errors:n}),this.toolbox.getManager().doGet("/node-instances",t).then((function(t){var n=_.chain(t.items||{}).map((function(e){return{text:e.id,value:e.id,key:e.id}})).unshift({text:"",value:"",key:""}).uniqWith(_.isEqual).value();e.setState({loading:!1,nodeInstances:n})})).catch((function(t){n.nodeInstanceIds="Data fetching error: ".concat(t.message),e.setState({loading:!1,nodeInstances:[],errors:n})}))}}},{key:"_handleInputChange",value:function(e,t){var n=this;this.setState({value:t.value},(function(){n.props.onChange(e,{name:n.props.name,value:n.state.value})}))}},{key:"render",value:function(){var e=this.state.errors;return Y.a.createElement(_e.a.Field,{error:this.state.errors.nodeInstanceIds,label:this.props.label,help:this.props.help},Y.a.createElement(_e.a.Dropdown,{search:!0,selection:!0,multiple:!0,value:e.nodeInstanceIds?"":this.state.value,placeholder:e.nodeInstanceIds||this.props.placeholder,options:this.state.nodeInstances,onChange:this._handleInputChange.bind(this),name:"nodeInstanceIds",loading:this.state.loading,upward:this.props.upward}))}}]),t}(Y.a.Component);B()(Et,"propTypes",{name:H.a.string.isRequired,value:H.a.array.isRequired,onChange:H.a.func.isRequired,deploymentId:H.a.string,label:H.a.string,placeholder:H.a.string,help:H.a.string,upward:H.a.bool}),B()(Et,"defaultProps",{label:"",placeholder:"",help:"",upward:!1}),B()(Et,"initialState",(function(e){return{value:e.value,nodeInstances:[],loading:!1,errors:{}}}));n(1402);var yt=n(190),bt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){if(!_.isEmpty(this.props.children))return Y.a.createElement(yt.b,ee()({},this.props,{className:"nodes-tree ".concat(this.props.className)}),_.compact(_.castArray(this.props.children)));return this.props.treeData.length?Y.a.createElement(yt.b,ee()({},this.props,{className:"nodes-tree ".concat(this.props.className)}),function e(t){return _.compact(t).map((function(t){return t.children?Y.a.createElement(yt.a,{key:t.key,title:t.title},e(t.children)):Y.a.createElement(yt.a,{key:t.key,title:t.title})}))}(this.props.treeData)):Y.a.createElement(Ye,null)}}]),t}(V.Component);B()(bt,"Node",yt.a),B()(bt,"propTypes",yt.b.propTypes),B()(bt,"defaultProps",{treeData:[],selectable:!1,showIcon:!1,showLine:!0});var _t=n(35),wt=n(441),Ct=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state={showPopup:!1,canConfirm:""},a}return z()(t,e),x()(t,[{key:"openPopup",value:function(){this.setState({canConfirm:this.props.onCanConfirm(),showPopup:!0})}},{key:"closePopup",value:function(){this.setState({showPopup:!1})}},{key:"handleCancel",value:function(){this.closePopup(),this.props.onCancel()}},{key:"handleConfirm",value:function(){this.closePopup(),this.props.onConfirm()}},{key:"render",value:function(){return Y.a.createElement(wt.a,{trigger:this.props.trigger,on:"click",wide:"very",hideOnScroll:!0,open:this.state.showPopup,onOpen:this.openPopup.bind(this),onClose:this.closePopup.bind(this)},Y.a.createElement(p.a,null,this.state.canConfirm?this.state.canConfirm:this.props.content),this.state.canConfirm?Y.a.createElement("div",{className:"rightFloated"},Y.a.createElement(i.a,{icon:"checkmark",content:"Ok",color:"green",onClick:this.handleCancel.bind(this)})):Y.a.createElement("div",{className:"rightFloated"},Y.a.createElement(i.a,{icon:"remove",content:"Cancel",basic:!0,onClick:this.handleCancel.bind(this)}),Y.a.createElement(i.a,{icon:"checkmark",content:"Ok",color:"green",onClick:this.handleConfirm.bind(this)})))}}]),t}(V.Component);B()(Ct,"propTypes",{trigger:H.a.any,content:H.a.string,onCancel:H.a.func,onConfirm:H.a.func,onCanConfirm:H.a.func}),B()(Ct,"defaultProps",{onCancel:function(){},onConfirm:function(){},onCanConfirm:function(){}});var Ot=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=_.omit(this.props,_.keys(t.propTypes));return Y.a.createElement(_t.a,ee()({on:["hover","focus"],hoverable:!0,wide:"very"},e),!_.isEmpty(this.props.header)&&Y.a.createElement(_t.a.Header,null,this.props.header),Y.a.createElement(_t.a.Trigger,null,this.props.trigger),Y.a.createElement(_t.a.Content,null,this.props.content))}}]),t}(Y.a.Component);B()(Ot,"propTypes",{content:H.a.any.isRequired,header:H.a.any,trigger:H.a.any}),B()(Ot,"defaultProps",{header:"",trigger:Y.a.createElement(d.a,{name:"help circle"})});var Pt=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state={opened:!1},a}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this,t=_.isEmpty(this.props.help)?Y.a.createElement(d.a,{link:!this.props.disabled,disabled:this.props.disabled,name:this.props.icon,bordered:this.props.bordered,className:this.props.className,onClick:function(e){e.stopPropagation()}}):Y.a.createElement("span",{onClick:function(e){e.stopPropagation()}},Y.a.createElement(_t.a,{trigger:Y.a.createElement(d.a,{name:this.props.icon,bordered:this.props.bordered,link:!this.props.disabled,className:this.props.className}),content:this.props.help}));return Y.a.createElement(_t.a,{trigger:t,on:"click",position:this.props.position,className:"popupMenu",offset:this.props.offset,open:!this.props.disabled&&this.state.opened,onClose:function(){return e.setState({opened:!1})},onOpen:function(){return e.setState({opened:!0})},onClick:function(t){t.stopPropagation(),e.setState({opened:!1})}},this.props.children)}}]),t}(V.Component);B()(Pt,"propTypes",{className:H.a.string,children:H.a.any.isRequired,position:H.a.string,offset:H.a.number,icon:H.a.string,disabled:H.a.bool,bordered:H.a.bool,help:H.a.string}),B()(Pt,"defaultProps",{className:"",position:"bottom right",offset:12,icon:"content",disabled:!1,bordered:!1,help:""});var Tt=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState(e),a}return z()(t,e),x()(t,[{key:"_handleInputChange",value:function(e,t){var n=this;this.setState({pageId:t.value},(function(){n.props.onChange(e,{name:n.props.name,value:n.state.pageId})}))}},{key:"_getPageName",value:function(e,t){var n=_.find(e,{id:t});return n.isDrillDown?"".concat(this._getPageName(e,n.parent)," > ").concat(n.name):n.name}},{key:"render",value:function(){var e=this,t=this.props.allowDrillDownPages?this.props.pages:_.filter(this.props.pages,(function(e){return!e.isDrillDown})),n=_.map(t,(function(n){return{text:e._getPageName(t,n.id),value:n.id,key:n.id}}));n.sort((function(e,t){return e.text.localeCompare(t.text)}));var a=n[0].value;return Y.a.createElement(_e.a.Dropdown,{name:"pageId",search:!0,selection:!0,value:this.state.pageId||a,options:n,onChange:this._handleInputChange.bind(this)})}}]),t}(Y.a.Component);B()(Tt,"propTypes",{name:H.a.string.isRequired,value:H.a.string.isRequired,pages:H.a.array.isRequired,onChange:H.a.func,allowDrillDownPages:H.a.bool}),B()(Tt,"initialState",(function(e){return{pageId:e.value,allowDrillDownPages:!1}}));var St=Object(nt.connect)((function(e){return{pages:e.pages}}))(Tt),kt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e){return!_.isEqual(this.props,e)}},{key:"getValueElement",value:function(e){var t=Te.a.Url,n=Te.a.Json,a={padding:"0.5em",whiteSpace:"pre-wrap",wordBreak:"break-word"},r=this.props.value;switch(n.toType(r)){case"array":case"object":return Y.a.createElement(Ge,{className:"json"},e);case"boolean":return Y.a.createElement("code",{style:a,className:"hljs-keyword"},e);case"number":return Y.a.createElement("code",{style:a,className:"hljs-number"},e);case"null":return Y.a.createElement("code",{style:a,className:"hljs-keyword"},e);case"string":return t.isUrl(e)?Y.a.createElement("a",{target:"_blank",href:e},e):Y.a.createElement("code",{style:a,className:"hljs-string"},e);default:return Y.a.createElement("code",{style:a,className:"hljs-literal"},e)}}},{key:"render",value:function(){var e=Te.a.Json,t=_.isObject(this.props.value)?e.stringify(this.props.value,!0):e.getStringValue(this.props.value);return this.props.showCopyButton?Y.a.createElement("div",null,Y.a.createElement(Q.a,{text:t,className:"rightFloated"}),this.getValueElement(t)):this.getValueElement(t)}}]),t}(V.Component);B()(kt,"propTypes",{value:H.a.any,showCopyButton:H.a.bool}),B()(kt,"defaultProps",{value:"",showCopyButton:!0});var It=function(e){function t(e,n){return R()(this,t),L()(this,F()(t).call(this,e,n))}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e){return!_.isEqual(this.props,e)}},{key:"render",value:function(){return Y.a.createElement(Ot,{flowing:!0,header:"Value style",content:Y.a.createElement(v.a,{bulleted:!0},Y.a.createElement(v.a.Item,null,"String:",Y.a.createElement(kt,{value:"centos_core",showCopyButton:!1}),",",Y.a.createElement(kt,{value:"763878b2-67d1-4a8b-9c44-cc3d17625eed",showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Boolean:",Y.a.createElement(kt,{value:!0,showCopyButton:!1}),",",Y.a.createElement(kt,{value:!1,showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Number:",Y.a.createElement(kt,{value:623946,showCopyButton:!1}),",",Y.a.createElement(kt,{value:3.14,showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Object:",Y.a.createElement(kt,{value:{sku:"14.04.5-LTS",publisher:"Canonical",version:"latest",offer:"UbuntuServer"},showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Array:",Y.a.createElement(kt,{value:["node_f73mxd","vm_32jdfg","host_f92mv7"],showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Link:",Y.a.createElement(kt,{value:"https://cloudify.co",showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Null:",Y.a.createElement(kt,{value:null,showCopyButton:!1})))})}}]),t}(V.Component),Dt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"onCancel",value:function(){return this.props.onHide(),!0}},{key:"getContent",value:function(){return{__html:this.props.content}}},{key:"render",value:function(){return Y.a.createElement(b.a,{open:this.props.open,closeOnEscape:!0,closeOnRootNodeClick:!0,onClose:this.onCancel.bind(this),closeIcon:"close",className:"readmeModal unlimited ".concat(this.props.className),size:"fullscreen"},Y.a.createElement(b.a.Content,{style:{padding:"50px"}},Y.a.createElement("div",{dangerouslySetInnerHTML:this.getContent()})))}}]),t}(V.Component);B()(Dt,"propTypes",{content:H.a.string.isRequired,open:H.a.bool.isRequired,onHide:H.a.func.isRequired,className:H.a.string}),B()(Dt,"defaultProps",{className:""});var At=n(33),jt=n.n(At),Rt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=jt.a.find(at.a.visibility,{name:this.props.visibility})||at.a.visibility.UNKNOWN;return this.props.showTitle?Y.a.createElement(_t.a,{trigger:Y.a.createElement(d.a,ee()({name:e.icon,color:e.color},jt.a.omit(this.props,jt.a.keys(t.propTypes)))),content:e.title}):Y.a.createElement(d.a,ee()({name:e.icon,color:e.color},jt.a.omit(this.props,jt.a.keys(t.propTypes))))}}]),t}(V.Component);B()(Rt,"propTypes",{visibility:H.a.oneOf([at.a.visibility.PRIVATE.name,at.a.visibility.TENANT.name,at.a.visibility.GLOBAL.name,at.a.visibility.UNKNOWN.name]),showTitle:H.a.bool}),B()(Rt,"defaultProps",{showTitle:!0,visibility:at.a.visibility.UNKNOWN.name});var Nt=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state={openConfirm:!1,visibility:null,popupOpened:!1},a}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this,t=jt.a.includes(this.props.allowedSettingTo,at.a.visibility.TENANT.name)&&jt.a.isEqual(this.props.visibility,at.a.visibility.PRIVATE.name),n=jt.a.includes(this.props.allowedSettingTo,at.a.visibility.GLOBAL.name)&&!jt.a.isEqual(this.props.visibility,at.a.visibility.GLOBAL.name),a=n||t,r=Y.a.createElement(Rt,{visibility:this.props.visibility,className:this.props.className,link:n,onClick:function(e){return e.stopPropagation()},bordered:!0,disabled:!a,showTitle:!this.state.popupOpened}),o=Y.a.createElement("div",{className:"setVisibility"},Y.a.createElement(y.a,{warning:!0,content:"This operation cannot be reverted"}),t&&Y.a.createElement(i.a,{animated:!0,color:"green",onClick:function(t){t.stopPropagation(),e.setState({openConfirm:!0,visibility:at.a.visibility.TENANT.name,popupOpened:!1})}},Y.a.createElement(i.a.Content,{visible:!0},"Tenant"),Y.a.createElement(i.a.Content,{hidden:!0},Y.a.createElement(d.a,{name:"user"}))),n&&Y.a.createElement(i.a,{animated:!0,color:"blue",onClick:function(t){t.stopPropagation(),e.setState({openConfirm:!0,visibility:at.a.visibility.GLOBAL.name,popupOpened:!1})}},Y.a.createElement(i.a.Content,{visible:!0},"Global"),Y.a.createElement(i.a.Content,{hidden:!0},Y.a.createElement(d.a,{name:"globe"})))),s=Y.a.createElement(wt.a,{flowing:!0,trigger:r,on:"click",header:"Change resource visibility",content:o,open:this.state.popupOpened,onOpen:function(){return e.setState({popupOpened:!0})},onClose:function(){return e.setState({popupOpened:!1})}});return a?Y.a.createElement("span",null,s,(t||n)&&Y.a.createElement(ae.a,{className:"setVisibilityModal",content:"Are you sure you want to change resource visibility to ".concat(this.state.visibility,"?"),open:this.state.openConfirm,onCancel:function(t){t.stopPropagation(),e.setState({openConfirm:!1,visibility:null})},onConfirm:function(t){t.stopPropagation(),e.props.onSetVisibility(e.state.visibility),e.setState({openConfirm:!1,visibility:null})}})):r}}]),t}(V.Component);B()(Nt,"propTypes",{visibility:H.a.oneOf([at.a.visibility.PRIVATE.name,at.a.visibility.TENANT.name,at.a.visibility.GLOBAL.name,at.a.visibility.UNKNOWN.name]),onSetVisibility:H.a.func,allowedSettingTo:H.a.array,className:H.a.string}),B()(Nt,"defaultProps",{visibility:at.a.visibility.UNKNOWN.name,className:""});var xt=Object(nt.connect)((function(e,t){var n=t.allowedSettingTo;return _.includes(t.allowedSettingTo,at.a.visibility.GLOBAL.name)&&!Te.a.isUserAuthorized(at.a.permissions.CREATE_GLOBAL_RESOURCE,e.manager)&&(n=_.without(n,at.a.visibility.GLOBAL.name)),{allowedSettingTo:n}}),(function(e,t){return{}}))(Nt),Mt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return _.isNil(this.props.defaultValue)||_.isEqual(this.props.value,this.props.defaultValue)?null:Y.a.createElement(_t.a,{trigger:Y.a.createElement(d.a,{name:"undo",link:!0,onClick:this.props.onClick})},"Revert to default value")}}]),t}(V.Component);function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}B()(Mt,"propTypes",{value:H.a.any,defaultValue:H.a.any,onClick:H.a.func}),B()(Mt,"defaultProps",{onClick:_.noop});var Ft=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState(e),_.extend(a._getStartDateState(a.state.start),a._getEndDateState(a.state.end)),a}return z()(t,e),x()(t,[{key:"componentDidMount",value:function(){var e=t.initialState(this.props);_.extend(e,this._getStartDateState(e.start),this._getEndDateState(e.end)),this.setState(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props,e)||!_.isEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e,n){var a=!_.isEqual(_.pick(this.state,Object.keys(t.EMPTY_VALUE)),this.props.defaultValue),r=this.props.value,i={};n.dirty!=a&&(i.dirty=a),e.value!=r&&_.extend(i,Ut({},r),this._getStartDateState(r.start),this._getEndDateState(r.end)),_.isEmpty(i)||this.setState(i)}},{key:"_handleInputChange",value:function(e,t,n){this.setState(B()({},t.name,t.value),n)}},{key:"_getStartDateState",value:function(e){var t={startError:!1};if(this._isValidDate(e)){var n=moment(e||{});_.extend(t,{startDate:n})}return t}},{key:"_getEndDateState",value:function(e){var t={endError:!1};if(this._isValidDate(e)){var n=moment(e||{});_.extend(t,{endDate:n})}return t}},{key:"_getStartState",value:function(e){return{startError:!1,start:moment(e).format(t.DATETIME_FORMAT)}}},{key:"_getEndState",value:function(e){return{endError:!1,end:moment(e).format(t.DATETIME_FORMAT)}}},{key:"_handleCustomInputChange",value:function(e,n){var a=this;this._handleInputChange(e,n,(function(){var e={range:t.CUSTOM_RANGE};_.isEqual(n.name,"startDate")?_.extend(e,a._getStartState(n.value)):_.isEqual(n.name,"endDate")?_.extend(e,a._getEndState(n.value)):_.isEqual(n.name,"start")?_.extend(e,a._getStartDateState(n.value)):_.isEqual(n.name,"end")&&_.extend(e,a._getEndDateState(n.value)),a.setState(e)}))}},{key:"_isValidDate",value:function(e){return moment(e||{}).isValid()}},{key:"_getTimeFilterObject",value:function(){var e={range:this.state.range};return _.isEqual(this.state.range,t.CUSTOM_RANGE)?(e.start=this.state.start,e.end=this.state.end):(e.start=_.get(this.props.ranges[this.state.range],"start",""),e.end=_.get(this.props.ranges[this.state.range],"end","")),e}},{key:"_getResetState",value:function(e){var t=e?this.props.defaultValue:this.props.value,n=moment();return Ut({},t,{startDate:n,endDate:n})}},{key:"_isRangeSelected",value:function(e){return _.isEqual(this.state.range,e)}},{key:"_handleRangeButtonClick",value:function(e,t){var n=this.props.ranges[t.name].start,a=this.props.ranges[t.name].end,r=this._getStartDateState(n),i=this._getEndDateState(a);this.setState(Ut({range:t.name,start:n,end:a},r,{},i))}},{key:"_handleCustomRangeButtonClick",value:function(e,t){var n={range:t.name};_.extend(n,this._getStartState(this.state.startDate)),_.extend(n,this._getEndState(this.state.endDate)),this.setState(n)}},{key:"_handleResetButtonClick",value:function(){var e=this._getResetState(!0);this.setState(e)}},{key:"_handleApplyButtonClick",value:function(e,t){var n=this,a=this._isValidDate(this.state.start),r=this._isValidDate(this.state.end),i=a&&r,o={startError:!a,endError:!r,isOpen:!i};this.setState(o,(function(){i&&n.props.onChange(e,{name:n.props.name,value:n._getTimeFilterObject()})}))}},{key:"_handleCancelButtonClick",value:function(e,t){var n=this,a=this._getResetState(!1);this.setState(Ut({},a,{isOpen:!1}),(function(){return n.props.onCancel(e,{name:n.props.name,value:n._getTimeFilterObject()})}))}},{key:"render",value:function(){var e=this,n=this.state.start?"from [".concat(this.state.start,"] "):"",a=this.state.end?" until [".concat(this.state.end,"]"):"",r=this._isRangeSelected(t.CUSTOM_RANGE)?"".concat(n).concat(a):this.state.range,o=Y.a.createElement("div",null,"ISO-8601-compatible date/time expected",Y.a.createElement("br",null),"Example:",Y.a.createElement("br",null),"2017-09-21 10:10");return Y.a.createElement(_t.a,{basic:!0,hoverable:!1,flowing:!0,open:this.state.isOpen},Y.a.createElement(_t.a.Trigger,null,Y.a.createElement(_e.a.Input,{value:r,placeholder:this.props.placeholder,icon:"dropdown",fluid:!0,onChange:function(){},onFocus:function(){return e.setState({isOpen:!0,startError:!1,endError:!1})}})),Y.a.createElement(u.a,{className:"fixed-width"},Y.a.createElement(u.a.Row,{columns:_.isEmpty(this.props.ranges)?2:3},!_.isEmpty(this.props.ranges)&&Y.a.createElement(u.a.Column,{width:4},Y.a.createElement(P.a,{padded:!0},Y.a.createElement(f.a,{attached:"top"},"Range:"),Y.a.createElement(v.a,null,_.map(this.props.ranges,(function(t,n){return Y.a.createElement(v.a.Item,{key:n},Y.a.createElement(i.a,{active:e._isRangeSelected(n),key:n,name:n,fluid:!0,onClick:e._handleRangeButtonClick.bind(e)},n))})),Y.a.createElement(v.a.Item,null,Y.a.createElement(i.a,{active:this._isRangeSelected(t.CUSTOM_RANGE),name:t.CUSTOM_RANGE,fluid:!0,onClick:this._handleCustomRangeButtonClick.bind(this)},t.CUSTOM_RANGE))))),Y.a.createElement(u.a.Column,{width:_.isEmpty(this.props.ranges)?8:6},Y.a.createElement(P.a,{padded:!0},Y.a.createElement(f.a,{attached:"top"},"From:"),Y.a.createElement(v.a,null,Y.a.createElement(v.a.Item,null,Y.a.createElement(_t.a,{wide:!0},Y.a.createElement(_t.a.Trigger,null,Y.a.createElement(_e.a.Input,{fluid:!0,name:"start",type:"text",value:this.state.start,placeholder:"Start date/time",error:this.state.startError,onChange:this._handleCustomInputChange.bind(this)})),o)),Y.a.createElement(v.a.Item,null,Y.a.createElement(_e.a.InputDate,{name:"startDate",value:this.state.startDate,onChange:this._handleCustomInputChange.bind(this),startDate:this.state.startDate,endDate:this.state.endDate,maxDate:moment()}))))),Y.a.createElement(u.a.Column,{width:_.isEmpty(this.props.ranges)?8:6},Y.a.createElement(P.a,{padded:!0},Y.a.createElement(f.a,{attached:"top"},"To:"),Y.a.createElement(v.a,null,Y.a.createElement(v.a.Item,null,Y.a.createElement(_t.a,{wide:!0},Y.a.createElement(_t.a.Trigger,null,Y.a.createElement(_e.a.Input,{fluid:!0,name:"end",type:"text",value:this.state.end,placeholder:"End date/time",error:this.state.endError,onChange:this._handleCustomInputChange.bind(this)})),o)),Y.a.createElement(v.a.Item,null,Y.a.createElement(_e.a.InputDate,{name:"endDate",value:this.state.endDate,onChange:this._handleCustomInputChange.bind(this),startDate:this.state.startDate,endDate:this.state.endDate,maxDate:moment()}))))))),Y.a.createElement("div",{className:"rightFloated top-padded-10"},Y.a.createElement(i.a,{onClick:this._handleResetButtonClick.bind(this),content:"Reset",icon:"undo",disabled:!this.state.dirty}),Y.a.createElement(K,{onClick:this._handleCancelButtonClick.bind(this),className:"cancel"}),Y.a.createElement(X,{onClick:this._handleApplyButtonClick.bind(this),content:"Apply",positive:!0})))}}]),t}(Y.a.Component);function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}B()(Ft,"EMPTY_VALUE",{range:"",start:"",end:""}),B()(Ft,"propTypes",{name:H.a.string.isRequired,defaultValue:H.a.shape({range:H.a.string.isRequired,start:H.a.string.isRequired,end:H.a.string.isRequired}),value:H.a.shape({range:H.a.string.isRequired,start:H.a.string.isRequired,end:H.a.string.isRequired}),ranges:H.a.object,onChange:H.a.func,onCancel:H.a.func}),B()(Ft,"defaultProps",{defaultValue:Ft.EMPTY_VALUE,value:Ft.EMPTY_VALUE,ranges:{},onChange:function(){},onCancel:function(){}}),B()(Ft,"initialState",(function(e){return Ut({},e.defaultValue,{},e.value,{startDate:moment(),endDate:moment(),isOpen:!1,dirty:!1,startError:!1,endError:!1})})),B()(Ft,"TIME_FORMAT","HH:mm"),B()(Ft,"DATE_FORMAT","YYYY-MM-DD"),B()(Ft,"DATETIME_FORMAT","".concat(Ft.DATE_FORMAT," ").concat(Ft.TIME_FORMAT)),B()(Ft,"CUSTOM_RANGE","Custom Range");var zt=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState,a}return z()(t,e),x()(t,[{key:"handleDataPickerChange",value:function(e,n){var a=t.getDateString(n.value);this.setState({dirty:!_.isEqual(a,this.props.defaultValue),dateValue:n.value,dateError:!1}),this.props.onChange(e,{name:this.props.name,value:a})}},{key:"handleInputChange",value:function(e,n){this.props.onChange(e,{name:this.props.name,value:n.value}),this.setState(t.getDateState(this.state.dateValue,n.value))}},{key:"handleResetButtonClick",value:function(e){this.props.onChange(e,{name:this.props.name,value:this.props.defaultValue}),this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dirty:!1},t.getDateState(this.state.dateValue,this.props.defaultValue)))}},{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props,e)||!_.isEqual(this.state,t)}},{key:"render",value:function(){var e=this;return Y.a.createElement(_t.a,{hoverable:!0,flowing:!0,onClose:function(){return e.setState({isOpen:!1})},open:this.state.isOpen,position:"top right"},Y.a.createElement(_t.a.Trigger,null,Y.a.createElement(_e.a.Input,{name:"value",value:this.props.value,placeholder:this.props.placeholder,fluid:!0,action:!0,error:this.state.dateError,onChange:this.handleInputChange.bind(this),onClick:function(){return e.setState({isOpen:!1})}},Y.a.createElement("input",null),Y.a.createElement(i.a,{onClick:function(){return e.setState({isOpen:!0})},icon:"calendar"}),Y.a.createElement(i.a,{onClick:this.handleResetButtonClick.bind(this),icon:"cancel",disabled:!this.state.dirty}))),Y.a.createElement(_e.a.InputDate,{name:"dateValue",value:this.state.dateValue,onChange:this.handleDataPickerChange.bind(this),minDate:this.props.minDate,maxDate:this.props.maxDate,timeIntervals:this.props.timeIntervals}))}}],[{key:"getDateString",value:function(e){return moment(e).format(t.DATETIME_FORMAT)}},{key:"getDerivedStateFromProps",value:function(e,n){return e.value!==t.getDateString(n.dateValue)?t.getDateState(n.dateValue,e.value):null}},{key:"getDateState",value:function(e,t){return _.isEmpty(t)?{dateError:!1,dateValue:void 0}:moment(t).isValid()?{dateError:!1,dateValue:e}:{dateError:!0,dateValue:void 0}}}]),t}(Y.a.Component);B()(zt,"TIME_FORMAT","HH:mm"),B()(zt,"DATE_FORMAT","YYYY-MM-DD"),B()(zt,"DATETIME_FORMAT","".concat(zt.DATE_FORMAT," ").concat(zt.TIME_FORMAT)),B()(zt,"propTypes",{defaultValue:H.a.string.isRequired,name:H.a.string.isRequired,value:H.a.string.isRequired,minDate:H.a.object,maxDate:H.a.object,onChange:H.a.func,placeholder:H.a.string,timeIntervals:H.a.number}),B()(zt,"defaultProps",{minDate:void 0,maxDate:void 0,onChange:_.noop,placeholder:zt.DATETIME_FORMAT,timeIntervals:5}),B()(zt,"initialState",{dateError:!1,dateValue:null,dirty:!1,isOpen:!1});var Gt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"onClick",value:function(){var e=this.props.disallowGlobal?_.dropRight(t.visibilitiesOrder):t.visibilitiesOrder,n=e.indexOf(this.props.visibility);n>=0&&n<e.length-1?this.props.onVisibilityChange(e[n+1]):this.props.onVisibilityChange(e[0])}},{key:"render",value:function(){return Y.a.createElement(_t.a,null,Y.a.createElement(_t.a.Trigger,null,Y.a.createElement(Rt,{visibility:this.props.visibility,link:this.props.allowChange,disabled:!this.props.allowChange,showTitle:!1,title:null,className:this.props.className,onClick:this.onClick.bind(this)})),Y.a.createElement(_t.a.Header,null,"Visibility"),Y.a.createElement(_t.a.Content,null,t.visibilityTitle[this.props.visibility]))}}]),t}(V.Component);B()(Gt,"visibilitiesOrder",[at.a.visibility.TENANT.name,at.a.visibility.PRIVATE.name,at.a.visibility.GLOBAL.name]),B()(Gt,"propTypes",{visibility:H.a.oneOf([at.a.visibility.PRIVATE.name,at.a.visibility.TENANT.name,at.a.visibility.GLOBAL.name,at.a.visibility.UNKNOWN.name]),onVisibilityChange:H.a.func,disallowGlobal:H.a.bool,allowChange:H.a.bool,className:H.a.string}),B()(Gt,"defaultProps",{visibility:at.a.visibility.UNKNOWN.name,onVisibilityChange:function(){},disallowGlobal:!1,allowChange:!0,className:""}),B()(Gt,"visibilityTitle",_.reduce(at.a.visibility,(function(e,t){return e[t.name]=t.title,e}),{}));var Bt=Object(nt.connect)((function(e,t){return{disallowGlobal:t.disallowGlobal||!Te.a.isUserAuthorized(at.a.permissions.CREATE_GLOBAL_RESOURCE,e.manager)}}),(function(e,t){return{}}))(Gt),Wt=function(e){function t(e){return R()(this,t),L()(this,F()(t).call(this,e))}return z()(t,e),x()(t,[{key:"onClose",value:function(){return this.props.onClose()}},{key:"onStartOver",value:function(){return this.props.onStartOver(this.props.resetDataOnStartOver)}},{key:"onPrev",value:function(){return this.props.onPrev(this.props.id)}},{key:"onNext",value:function(){return this.props.onNext(this.props.id)}},{key:"render",value:function(){return Y.a.createElement(Y.a.Fragment,null,this.props.children,this.props.showClose&&Y.a.createElement(i.a,{floated:this.props.closeFloated,icon:this.props.closeIcon,content:this.props.closeLabel,labelPosition:"left",onClick:this.onClose.bind(this)}),this.props.showStartOver&&Y.a.createElement(i.a,{icon:this.props.startOverIcon,content:this.props.startOverLabel,disabled:this.props.disabled,labelPosition:"left",onClick:this.onStartOver.bind(this)}),Y.a.createElement(i.a.Group,null,this.props.showPrev&&Y.a.createElement(i.a,{icon:this.props.prevIcon,content:this.props.prevLabel,disabled:this.props.disabled,labelPosition:"left",onClick:this.onPrev.bind(this)}),this.props.showNext&&Y.a.createElement(i.a,{icon:this.props.nextIcon,content:this.props.nextLabel,disabled:this.props.disabled,labelPosition:"right",onClick:this.onNext.bind(this)})))}}]),t}(V.Component);B()(Wt,"propTypes",{id:H.a.string.isRequired,onClose:H.a.func.isRequired,onStartOver:H.a.func.isRequired,onPrev:H.a.func.isRequired,onNext:H.a.func.isRequired,onError:H.a.func.isRequired,onLoading:H.a.func.isRequired,onReady:H.a.func.isRequired,fetchData:H.a.func.isRequired,wizardData:H.a.object.isRequired,toolbox:H.a.object.isRequired,disabled:H.a.bool,startOverLabel:H.a.string,startOverIcon:H.a.string,showStartOver:H.a.bool,resetDataOnStartOver:H.a.bool,prevLabel:H.a.string,prevIcon:H.a.string,showPrev:H.a.bool,nextLabel:H.a.string,nextIcon:H.a.string,showNext:H.a.bool}),B()(Wt,"defaultProps",{disabled:!1,closeLabel:"Close",closeIcon:"cancel",showClose:!0,closeFloated:"left",startOverLabel:"Start Over",startOverIcon:"undo",showStartOver:!1,resetDataOnStartOver:!1,prevLabel:"Back",prevIcon:"arrow left",showPrev:!0,nextLabel:"Next",nextIcon:"arrow right",showNext:!0});var Ht=function(e){function t(e){return R()(this,t),L()(this,F()(t).call(this,e))}return z()(t,e),x()(t,[{key:"render",value:function(){return this.props.children||null}}]),t}(V.Component);B()(Ht,"propTypes",{id:H.a.string.isRequired,onChange:H.a.func.isRequired,onError:H.a.func.isRequired,onLoading:H.a.func.isRequired,onReady:H.a.func.isRequired,stepData:H.a.object.isRequired,wizardData:H.a.object.isRequired,errors:H.a.object.isRequired,loading:H.a.bool.isRequired,toolbox:H.a.object.isRequired});n(1435);function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xt=function(e){function t(e){var n;return R()(this,t),(n=L()(this,F()(t).call(this,e))).state=t.initialState(e.steps),n}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props.open,e.open)||!_.isEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e){e.open&&!this.props.open&&this.setState(Yt({},t.initialState(this.props.steps)))}},{key:"getStepNameByIndex",value:function(e){return t.getStepNameById(this.props.steps[e].id)}},{key:"showCloseModal",value:function(){this.setState({showCloseModal:!0})}},{key:"hideCloseModal",value:function(){this.setState({showCloseModal:!1})}},{key:"onStartOver",value:function(e){if(e)this.setState(Yt({},t.initialState(this.props.steps)));else{var n=this.getStepNameByIndex(0),a={},r=!0,i=!1,o=void 0;try{for(var s,l=this.props.steps[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=t.getStepNameById(c.id);a[u]=Yt({},this.state[u],{state:t.DISABLED_STATE,errors:{}})}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}a[n].state=t.ACTIVE_STATE,this.setState(Yt({activeStepIndex:0,previousStepIndex:this.state.activeStepIndex},a,{error:null,loading:!1}))}}},{key:"onNext",value:function(e,n){var a;if(this.getStepNameByIndex(this.state.activeStepIndex)===t.getStepNameById(e)){var r=this.state.activeStepIndex+1,i=this.state.activeStepIndex,o=this.getStepNameByIndex(r),s=this.getStepNameByIndex(i),l=Yt({},this.state.wizardData,{},n);this.setState((a={activeStepIndex:r,previousStepIndex:i},B()(a,o,Yt({},this.state[o],{state:t.ACTIVE_STATE})),B()(a,s,Yt({},this.state[s],{state:t.COMPLETED_STATE})),B()(a,"wizardData",l),B()(a,"error",null),B()(a,"loading",!1),a))}}},{key:"onPrev",value:function(e,n){var a;if(this.getStepNameByIndex(this.state.activeStepIndex)===t.getStepNameById(e)){var r=this.state.activeStepIndex-1,i=this.state.activeStepIndex,o=this.getStepNameByIndex(r),s=this.getStepNameByIndex(i),l=Yt({},this.state.wizardData,{},n);this.setState((a={activeStepIndex:r,previousStepIndex:i},B()(a,o,Yt({},this.state[o],{state:t.ACTIVE_STATE})),B()(a,s,Yt({},this.state[s],{state:t.DISABLED_STATE})),B()(a,"wizardData",l),B()(a,"error",null),a))}}},{key:"onError",value:function(e,n,a){var r=this;if(this.getStepNameByIndex(this.state.activeStepIndex)===t.getStepNameById(e)){if(!_.isNil(a)){var i=t.getStepNameById(e),o=this.state[i];return new Promise((function(e){var t;return r.setState((t={},B()(t,i,Yt({},o,{errors:a})),B()(t,"error",n),B()(t,"loading",!1),t),e)}))}return new Promise((function(e){return r.setState({error:n,loading:!1},e)}))}}},{key:"onLoading",value:function(){var e=this;return new Promise((function(t){return e.setState({loading:!0},t)}))}},{key:"onReady",value:function(){var e=this;return new Promise((function(t){return e.setState({loading:!1},t)}))}},{key:"onStepDataChanged",value:function(e,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(a){var r,i=t.getStepNameById(e),o=this.state[i];this.setState((r={},B()(r,i,Yt({},o,{data:n,errors:{}})),B()(r,"error",null),r))}else{var s=Yt({},this.state.wizardData,{},n);this.setState({wizardData:s})}}},{key:"fetchStepData",value:function(e){var n=t.getStepNameById(e),a=this.state[n];return Promise.resolve({stepData:a.data})}},{key:"render",value:function(){var e=this,n=this.props.steps,a=n[this.state.activeStepIndex],r=this.getStepNameByIndex(this.state.activeStepIndex),i=this.state[r],o="wizardModal ".concat(r);return Y.a.createElement(b.a,{open:this.props.open,onClose:this.props.onClose,className:o,closeIcon:!1,closeOnEscape:!1,closeOnDimmerClick:!1},Y.a.createElement(b.a.Header,null,this.props.header),Y.a.createElement(b.a.Description,null,Y.a.createElement(S.a.Group,{ordered:!0,fluid:!0,widths:n.length},_.map(n,(function(n,a){return Y.a.createElement(S.a,{active:e.state[e.getStepNameByIndex(a)].state===t.ACTIVE_STATE,completed:e.state[e.getStepNameByIndex(a)].state===t.COMPLETED_STATE,disabled:e.state[e.getStepNameByIndex(a)].state===t.DISABLED_STATE,id:n.id,key:n.id},Y.a.createElement(S.a.Content,null,Y.a.createElement(S.a.Title,null,n.title),Y.a.createElement(S.a.Description,null,n.description)))}))),Y.a.createElement(Ee.a,{error:this.state.error,onDismiss:function(){var t;return e.setState((t={},B()(t,r,Yt({},i,{errors:{}})),B()(t,"error",null),t))},autoHide:!0})),Y.a.createElement(b.a.Content,null,Y.a.createElement(a.Content,{stepData:i.data,wizardData:this.state.wizardData,onLoading:this.onLoading.bind(this),onReady:this.onReady.bind(this),onError:this.onError.bind(this),onChange:this.onStepDataChanged.bind(this),errors:i.errors,loading:this.state.loading,toolbox:this.props.toolbox})),Y.a.createElement(b.a.Actions,null,Y.a.createElement(a.Actions,{onClose:this.showCloseModal.bind(this),onStartOver:this.onStartOver.bind(this),onPrev:this.onPrev.bind(this),onNext:this.onNext.bind(this),onError:this.onError.bind(this),onLoading:this.onLoading.bind(this),onReady:this.onReady.bind(this),disabled:this.state.loading,showPrev:0!==this.state.activeStepIndex,fetchData:this.fetchStepData.bind(this,a.id),wizardData:this.state.wizardData,toolbox:this.props.toolbox}),Y.a.createElement(re,{content:"Are you sure you want to close the wizard?",open:this.state.showCloseModal,onConfirm:this.props.onClose,onCancel:this.hideCloseModal.bind(this)})))}}],[{key:"getStepNameById",value:function(e){return"".concat(e,"Step")}}]),t}(V.Component);function Kt(e){return e.displayName||e.name||"Component"}function Jt(e,t){var n=function(n){function a(e){return R()(this,a),L()(this,F()(a).call(this,e))}return z()(a,n),x()(a,[{key:"render",value:function(){return Y.a.createElement(e,ee()({id:t},this.props))}}]),a}(V.Component);return B()(n,"propTypes",_.omit(Ht.propTypes,"id")),n.displayName="StepContent(".concat(Kt(e),")"),n}function Zt(e,t){var n=function(n){function a(e){return R()(this,a),L()(this,F()(a).call(this,e))}return z()(a,n),x()(a,[{key:"render",value:function(){return Y.a.createElement(e,ee()({id:t},this.props))}}]),a}(V.Component);return B()(n,"propTypes",_.omit(Wt.propTypes,"id")),n.displayName="StepActions(".concat(Kt(e),")"),n}B()(Xt,"propTypes",{open:H.a.bool.isRequired,onClose:H.a.func.isRequired,steps:H.a.arrayOf(H.a.shape({id:H.a.string.isRequired,title:H.a.string.isRequired,description:H.a.string.isRequired,Content:H.a.func.isRequired,Actions:H.a.func.isRequired})).isRequired,toolbox:H.a.object.isRequired}),B()(Xt,"ACTIVE_STATE","active"),B()(Xt,"COMPLETED_STATE","completed"),B()(Xt,"DISABLED_STATE","disabled"),B()(Xt,"initialState",(function(e){var t=[],n={},a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value,c=Xt.getStepNameById(l.id);t.push(c),n[c]={state:Xt.DISABLED_STATE,data:{},errors:{}}}}catch(e){r=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n[t[0]].state=Xt.ACTIVE_STATE,Yt({activeStepIndex:0,previousStepIndex:-1,steps:t},n,{wizardData:{},loading:!1,error:null,showCloseModal:!1})}));var Qt={Step:{Actions:Wt,Content:Ht},Modal:Xt,Utils:{createWizardStep:function(e,t,n,a,r){return{id:e,title:t,description:n,Content:Jt(a,e),Actions:Zt(r,e)}}}};n.d(t,"Accordion",(function(){return a.a})),n.d(t,"Alert",(function(){return J})),n.d(t,"ApproveButton",(function(){return X})),n.d(t,"Breadcrumb",(function(){return r.a})),n.d(t,"Button",(function(){return i.a})),n.d(t,"CancelButton",(function(){return K})),n.d(t,"Card",(function(){return o.a})),n.d(t,"Checkbox",(function(){return s.a})),n.d(t,"Checkmark",(function(){return Z})),n.d(t,"Cluster",(function(){return le})),n.d(t,"Confirm",(function(){return re})),n.d(t,"Container",(function(){return l.a})),n.d(t,"CopyToClipboardButton",(function(){return Q.a})),n.d(t,"DataSegment",(function(){return ge})),n.d(t,"DataTable",(function(){return ce.a})),n.d(t,"Divider",(function(){return c.a})),n.d(t,"Dropdown",(function(){return fe.a})),n.d(t,"EditableLabel",(function(){return ve})),n.d(t,"ErrorMessage",(function(){return Ee.a})),n.d(t,"ExecutionStatus",(function(){return be})),n.d(t,"Form",(function(){return _e.a})),n.d(t,"GenericField",(function(){return we.a})),n.d(t,"Graphs",(function(){return Ie})),n.d(t,"Grid",(function(){return u.a})),n.d(t,"Header",(function(){return p.a})),n.d(t,"HighlightText",(function(){return Ge})),n.d(t,"Icon",(function(){return d.a})),n.d(t,"IdPopup",(function(){return Be.a})),n.d(t,"Image",(function(){return h.a})),n.d(t,"Input",(function(){return m.a})),n.d(t,"Item",(function(){return g.a})),n.d(t,"KeyIndicator",(function(){return He})),n.d(t,"Label",(function(){return f.a})),n.d(t,"Leaflet",(function(){return Qe})),n.d(t,"List",(function(){return v.a})),n.d(t,"Link",(function(){return I.a})),n.d(t,"Loader",(function(){return E.a})),n.d(t,"Loading",(function(){return Ye})),n.d(t,"MaintenanceModeActivationButton",(function(){return $e})),n.d(t,"MaintenanceModeModal",(function(){return st})),n.d(t,"Menu",(function(){return ut})),n.d(t,"Message",(function(){return y.a})),n.d(t,"MessageContainer",(function(){return dt})),n.d(t,"Modal",(function(){return b.a})),n.d(t,"NodeFilter",(function(){return gt})),n.d(t,"NodeInstancesFilter",(function(){return Et})),n.d(t,"NodesTree",(function(){return bt})),n.d(t,"ParameterValue",(function(){return kt})),n.d(t,"ParameterValueDescription",(function(){return It})),n.d(t,"PageFilter",(function(){return St})),n.d(t,"Popup",(function(){return _t.a})),n.d(t,"PopupConfirm",(function(){return Ct})),n.d(t,"PopupHelp",(function(){return Ot})),n.d(t,"PopupMenu",(function(){return Pt})),n.d(t,"Portal",(function(){return w.a})),n.d(t,"Progress",(function(){return C.a})),n.d(t,"Radio",(function(){return O.a})),n.d(t,"ResourceVisibility",(function(){return xt})),n.d(t,"ReadmeModal",(function(){return Dt})),n.d(t,"RevertToDefaultIcon",(function(){return Mt})),n.d(t,"Segment",(function(){return P.a})),n.d(t,"Sidebar",(function(){return T.a})),n.d(t,"SplitterLayout",(function(){return A.a})),n.d(t,"Step",(function(){return S.a})),n.d(t,"Table",(function(){return k.a})),n.d(t,"TimeFilter",(function(){return Ft})),n.d(t,"TimePicker",(function(){return zt})),n.d(t,"VisibilityIcon",(function(){return Rt})),n.d(t,"VisibilityField",(function(){return Bt})),n.d(t,"Wizard",(function(){return Qt}))},315:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(188),b=n(181),w=n(35),C=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement(w.a,{wide:!0,hoverable:!0,position:"right center"},E.a.createElement(w.a.Trigger,null,E.a.createElement(y.a,{style:{opacity:this.props.selected?"1":"0.2"}},this.props.label)),E.a.createElement(w.a.Content,null,E.a.createElement("div",{className:"noWrap"},this.props.buttonPosition===t.buttonPositions.left?E.a.createElement(E.a.Fragment,null,E.a.createElement(b.a,{content:"Copy ".concat(this.props.label),text:this.props.id}),"",E.a.createElement("strong",null,this.props.id)):E.a.createElement(E.a.Fragment,null,E.a.createElement("strong",null,this.props.id),"",E.a.createElement(b.a,{content:"Copy ".concat(this.props.label),text:this.props.id})))))}}]),t}(E.a.Component);m()(C,"buttonPositions",Object.freeze({right:"right",left:"left"})),m()(C,"propTypes",{label:f.a.string,id:f.a.string,selected:f.a.bool,buttonPosition:f.a.oneOf(_.keys(C.buttonPositions))}),m()(C,"defaultProps",{label:"ID",id:"",selected:!0,buttonPosition:"left"})},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(183),d=n.n(p),h=n(10),m=n.n(h),g=n(319),f=n.n(g),v=n(215),E=n(14),y=n(19),b=function(e){function t(e){return r()(this,t),l()(this,u()(t).call(this,e))}return m()(t,e),o()(t,[{key:"_buildHeaders",value:function(){if(!this._data)return{};var e={tenant:_.get(this._data,"tenants.selected",E.a.DEFAULT_TENANT)},t=f.a.get(E.a.TOKEN_COOKIE_NAME);return t&&(e["Authentication-Token"]=t),e}},{key:"_buildActualUrl",value:function(e,n){return d()(u()(t.prototype),"_buildActualUrl",this).call(this,y.a.Url.url(e),n)}},{key:"_isUnauthorized",value:function(e){return 401===e.status}},{key:"_isLicenseError",value:function(e,t){return 400===e.status&&(t.error_code===E.a.NO_LICENSE_ERROR_CODE||t.error_code===E.a.EXPIRED_LICENSE_ERROR_CODE)}}]),t}(v.a)},320:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(13);function r(e){return{type:a.cb,license:e}}},324:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(191),b=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e=this;return E.a.createElement(y.a.Field,null,E.a.createElement(y.a.Input,{icon:"search",placeholder:"Search...",value:this.props.search,onChange:function(t){e.props.onSearch(t.target.value)},loading:this.props.searching}))}}]),t}(v.Component);m()(b,"propTypes",{search:f.a.string.isRequired,onSearch:f.a.func.isRequired,searching:f.a.bool}),m()(b,"defaultProps",{searching:!1})},325:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=function(){function e(){r()(this,e)}return o()(e,null,[{key:"stringify",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!a&&""===t)return"";var r=t;return"object"!==e.toType(t)&&"array"!==e.toType(t)||(r=JSON.stringify(t,null,n?2:0)),_.trim(r,'"')}},{key:"toType",value:function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}},{key:"toCloudifyType",value:function(t){var n=e.toType(t);switch(n){case"boolean":case"string":return n;case"number":return _.isInteger(t)?"integer":"float";case"array":return"list";case"object":return"dict";default:return}}},{key:"getStringValue",value:function(t){var n=null;switch(e.toType(t)){case"array":case"object":n=JSON.stringify(t);break;case"boolean":case"string":case"number":default:n=String(t)}return n}},{key:"getTypedValue",value:function(t){if("string"===e.toType(t)){if("null"===t)return null;if("undefined"===t)return;if("true"===t)return!0;if("false"===t)return!1;var n=Number(t);if(!isNaN(n))return n;var a=null;try{a=JSON.parse(t)}catch(e){return t}return a}return t}}]),e}()},326:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(1),r=n.n(a),i=n(0),o=n.n(i),s=n(1454),l=n(59),c=n(230),u=n(259),p=n(28),d=n(212);n(1296);function h(e){var t=e.services,n=e.clickable,a=e.isFetching,i=e.fetchingError,o=e.header;return r.a.createElement(l.a,{celled:!0,basic:"very",collapsing:!0,className:"servicesData"},!_.isEmpty(o)&&r.a.createElement(l.a.Header,null,o),r.a.createElement(l.a.Body,null,a?null:i?r.a.createElement(d.a,{error:i,header:"Failed to fetch status"}):_.isEmpty(t)?r.a.createElement(c.a,null,r.a.createElement(c.a.Header,null,"No services available")):_.map(t,(function(e,t){return r.a.createElement(l.a.Row,{key:t,style:{backgroundColor:Object(p.c)(e.status)}},r.a.createElement(l.a.Cell,null,n?r.a.createElement(s.a,{to:"/page/admin_operations"},r.a.createElement(u.a,{isExternal:e.is_external,name:t})):r.a.createElement(u.a,{isExternal:e.is_external,name:t})))}))))}h.propTypes={services:o.a.shape(_.mapValues(p.d,(function(){return o.a.shape({status:o.a.oneOf(p.g),is_external:o.a.bool})}))),clickable:o.a.bool,isFetching:o.a.bool,fetchingError:o.a.string,header:o.a.node},h.defaultProps={services:_.mapValues(p.d,(function(){return{status:p.f.Unknown,is_external:!1}})),clickable:!1,isFetching:!1,fetchingError:"",header:null}},327:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n.n(a),i=n(0),o=n.n(i),s=n(92),l=n(28);function c(e){var t=e.status,n="grey";return t===l.i.Fail?n="red":t===l.i.Degraded?n="yellow":t===l.i.OK&&(n="green"),r.a.createElement(s.a,{name:"heartbeat",size:"large",color:n,className:"statusIcon"})}c.propTypes={status:o.a.string},c.defaultProps={status:""}},328:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a=n(7),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),w=n(3),C=function(t){function n(e,t){var a;return o()(this,n),(a=u()(this,d()(n).call(this,e,t))).inputRef=b.a.createRef(),a.state={value:"",title:""},a}return m()(n,t),l()(n,[{key:"_openFileSelection",value:function(e){return e.preventDefault(),this.inputRef.current.click(),!1}},{key:"_resetFileSelection",value:function(e){return e.preventDefault(),this.reset(),this.props.onReset(),!1}},{key:"_fileChanged",value:function(t){var n=e(t.currentTarget).val();if(n){var a=n.split("\\").pop();this.setState({value:a,title:n}),this.props.onChange(this.file(),a),this.props.showReset||this._resetFileSelection(t)}else this.reset()}},{key:"file",value:function(){return this.inputRef.current.files[0]}},{key:"reset",value:function(){e(this.inputRef.current).val(""),this.setState({value:"",title:""}),this.props.onChange(null,"")}},{key:"getOpenFolderButton",value:function(){var e=this,t=function(){return b.a.createElement(w.Button,r()({icon:"folder open",onClick:e._openFileSelection.bind(e),loading:e.props.loading,disabled:e.props.disabled},e.props.openButtonParams))};return _.isEmpty(this.props.help)?t():b.a.createElement(w.Popup,{trigger:t(),content:this.props.help})}},{key:"getResetFileButton",value:function(){return this.props.showReset?b.a.createElement(w.Button,{icon:"remove",onClick:this._resetFileSelection.bind(this),disabled:!this.state.value||this.props.disabled}):null}},{key:"getHiddenInput",value:function(){return b.a.createElement("input",{type:"file",name:this.props.name,hidden:!0,onChange:this._fileChanged.bind(this),ref:this.inputRef})}},{key:"render",value:function(){return this.props.showInput?b.a.createElement(b.a.Fragment,null,b.a.createElement(w.Input,{readOnly:!0,value:this.state.value,title:this.state.title,name:"fileName".concat(this.props.name),placeholder:this.props.placeholder,onClick:this._openFileSelection.bind(this),disabled:this.props.disabled,action:!0},b.a.createElement("input",null),this.getOpenFolderButton(),this.getResetFileButton()),this.getHiddenInput()):b.a.createElement(b.a.Fragment,null,this.getOpenFolderButton(),this.getResetFileButton(),this.getHiddenInput())}}]),n}(y.Component);f()(C,"propTypes",{name:E.a.string,placeholder:E.a.string,onChange:E.a.func,onReset:E.a.func,loading:E.a.bool,disabled:E.a.bool,showInput:E.a.bool,showReset:E.a.bool,openButtonParams:E.a.object,help:E.a.string}),f()(C,"defaultProps",{name:"",placeholder:"",onChange:function(){},onReset:function(){},loading:!1,disabled:!1,showInput:!0,showReset:!0,openButtonParams:{},help:""})}).call(this,n(43))},333:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(1471),b=n(1456),w=n(21),C=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e=this;return E.a.createElement("i",{className:"setting link icon small editWidgetIcon",onClick:function(t){t.stopPropagation(),e.props.onShowConfig()}})}}]),t}(v.Component);m()(C,"propTypes",{widgetId:f.a.string.isRequired,onShowConfig:f.a.func.isRequired});var O=n(53),P=n(40),T=n(7),S=n.n(T),k=n(3);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).state=t.initialState(e),a}return d()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e){!e.open&&this.props.open&&this.setState(t.initialState(this.props))}},{key:"onApprove",value:function(){var e=_.clone(this.props.configuration);return _.forEach(this.state.fields,(function(t,n){e[n]=t})),e&&this.props.onWidgetEdited(e),this.props.onHideConfig(),!0}},{key:"onDeny",value:function(){return this.props.onHideConfig(),!0}},{key:"_handleInputChange",value:function(e,t){var n=t.name,a=k.GenericField.formatValue(t.genericType,t.genericType===k.GenericField.BOOLEAN_TYPE?t.checked:t.value);this.setState({fields:D({},this.state.fields,m()({},n,a))})}},{key:"render",value:function(){var e=this;return E.a.createElement(k.Modal,{open:this.props.show,onClose:function(){return e.props.onHideConfig()},className:"editWidgetModal"},E.a.createElement(k.Modal.Header,null,"Configure Widget"),E.a.createElement(k.Modal.Content,null,E.a.createElement(k.Form,null,this.props.configDef.filter((function(e){return!e.hidden})).map((function(t){return E.a.createElement(k.GenericField,S()({},t,{key:t.id,name:t.id,label:t.name,value:e.state.fields[t.id],onChange:e._handleInputChange.bind(e)}))})),_.isEmpty(this.props.configDef)&&E.a.createElement(k.Message,null,"No configuration available for this widget"))),E.a.createElement(k.Modal.Actions,null,E.a.createElement(k.ApproveButton,{onClick:this.onApprove.bind(this)}),E.a.createElement(k.CancelButton,{onClick:this.onDeny.bind(this)})))}}]),t}(v.Component);m()(A,"propTypes",{configuration:f.a.object.isRequired,configDef:f.a.array.isRequired,widget:f.a.object.isRequired,show:f.a.bool.isRequired,onWidgetEdited:f.a.func.isRequired,onHideConfig:f.a.func.isRequired}),m()(A,"initialState",(function(e){var t={};return e.configDef.filter((function(e){return!e.hidden})).map((function(n){var a=_.get(e.configuration,"[".concat(n.id,"]"),n.value||n.default);t[n.id]=a})),{fields:t}}));var j=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).state={showConfig:!1},a}return d()(t,e),o()(t,[{key:"_showConfig",value:function(){this.setState({showConfig:!0})}},{key:"_hideConfig",value:function(){this.setState({showConfig:!1})}},{key:"render",value:function(){return E.a.createElement("span",null,E.a.createElement(C,{widgetId:this.props.widget.id,onShowConfig:this._showConfig.bind(this)}),E.a.createElement(A,{widget:this.props.widget,configDef:this.props.configDef,configuration:this.props.configuration,onWidgetEdited:this.props.onWidgetEdited,show:this.state.showConfig,onHideConfig:this._hideConfig.bind(this)}))}}]),t}(E.a.Component);m()(j,"propTypes",{widget:f.a.object,onWidgetEdited:f.a.func,configDef:f.a.array,configuration:f.a.object});var R=Object(w.connect)((function(e,t){return{pageId:t.pageId,widget:t.widget,pageManagementMode:t.pageManagementMode,configuration:t.widget.configuration||{},configDef:t.widget.definition.initialConfiguration||[],showConfig:t.widget.showConfig||!1}}),(function(e,t){return{onWidgetEdited:function(n){t.pageManagementMode?e(Object(P.j)(t.pageId,t.widget.id,n||t.widget.configuration||{})):e(Object(O.e)(t.pageId,t.widget.id,n||t.widget.configuration||{}))}}}))(j),N=n(817),x=n(19);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var L=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).widgetItemRef=E.a.createRef(),a.state={showReadmeModal:!1,readmeContent:""},a}return d()(t,e),o()(t,[{key:"_widgetConfigUpdate",value:function(e){e&&(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props.widget.configuration,{},e),this.props.onWidgetConfigUpdate(this.props.pageId,this.props.widget.id,e))}},{key:"_onKeyDown",value:function(e){27===e.keyCode&&this.props.onWidgetMaximize(this.props.pageId,this.props.widget.id,!1)}},{key:"_showReadmeModal",value:function(){var e=this.props.widget.definition.readme,t="";_.isEmpty(e)||(t=markdown.parse(this.props.widget.definition.readme)),this.setState({readmeContent:t,showReadmeModal:!0})}},{key:"_hideReadmeModal",value:function(){this.setState({readmeContent:"",showReadmeModal:!1})}},{key:"_isUserAuthorized",value:function(){return x.a.isUserAuthorized(this.props.widget.definition.permission,this.props.manager)}},{key:"componentDidUpdate",value:function(e,t){this.props.widget.maximized&&this.widgetItemRef.current.focus()}},{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props,e)||!_.isEqual(this.state,t)}},{key:"render",value:function(){var e=this;if(!this.props.widget.definition)return E.a.createElement("div",{tabIndex:this.props.widget.maximized?"-1":"",onKeyDown:this._onKeyDown.bind(this),ref:this.widgetItemRef,className:"widgetItem ui segment widgetWithoutContent"},E.a.createElement("div",{className:"widgetButtons",onMouseDown:function(e){return e.stopPropagation()}},this.props.isEditMode&&E.a.createElement("div",{className:"widgetEditButtons"},E.a.createElement("i",{className:"remove link icon small",onClick:function(){return e.props.onWidgetRemoved(e.props.pageId,e.props.widget.id)}}))),E.a.createElement("div",{className:"ui segment basic",style:{height:"100%"}},E.a.createElement("div",{className:"ui icon message error"},E.a.createElement("i",{className:"ban icon"}),"Cannot load widget ",this.props.widget.name,". It might not be installed in your env. Please contact administrator.")));var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return(e.props.widget.definition.helpUrl?E.a.createElement("a",{key:"helpLink",href:e.props.widget.definition.helpUrl,target:"_blank"},E.a.createElement(k.Icon,{name:"help circle",size:t,link:!0})):e.props.widget.definition.readme&&E.a.createElement(k.Icon,{key:"helpIcon",name:"help circle",size:t,link:!0,onClick:e._showReadmeModal.bind(e)}))};return E.a.createElement("div",{tabIndex:this.props.widget.maximized?"-1":"",onKeyDown:this._onKeyDown.bind(this),ref:this.widgetItemRef,className:"widgetItem ui segment\n                            ".concat(this.props.widget.definition&&!this.props.widget.definition.showBorder?"basic":"","\n                            ").concat(this.props.isEditMode&&this.props.widget.definition&&!this.props.widget.definition.showBorder?"borderOnHover ":"","\n                            ").concat(this.props.widget.definition&&this.props.widget.definition.color&&this.props.widget.definition.showBorder?this.props.widget.definition.color:"")},this.props.widget.definition&&this.props.widget.definition.showHeader&&E.a.createElement("h5",{className:"ui header dividing"},E.a.createElement(k.EditableLabel,{text:this.props.widget.name,placeholder:"Widget header",isEditEnable:this.props.isEditMode,onEditDone:function(t){return e.props.onWidgetNameChange(e.props.pageId,e.props.widget.id,t)}})),E.a.createElement("div",{className:"widgetButtons",onMouseDown:function(e){return e.stopPropagation()}},this.props.isEditMode?E.a.createElement("div",{className:"widgetEditButtons"},E.a.createElement(R,{pageId:this.props.pageId,widget:this.props.widget,pageManagementMode:this.props.pageManagementMode}),t("small"),E.a.createElement(k.Icon,{name:"remove",link:!0,size:"small",onClick:function(){return e.props.onWidgetRemoved(e.props.pageId,e.props.widget.id)}})):this.props.widget.definition.showHeader?E.a.createElement("div",{className:"widgetViewButtons ".concat(this.props.widget.maximized?"alwaysOnTop":"")},this.props.widget.maximized?[t(),E.a.createElement(k.Icon,{key:"compressIcon",name:"compress",link:!0,onClick:function(){return e.props.onWidgetMaximize(e.props.pageId,e.props.widget.id,!1)}})]:[t("small"),E.a.createElement(k.Icon,{key:"expandIcon",name:"expand",link:!0,size:"small",onClick:function(){return e.props.onWidgetMaximize(e.props.pageId,e.props.widget.id,!0)}})]):E.a.createElement("div",{className:"widgetViewButtons"},t("small"))),!this.props.widget.definition||_.isEmpty(_.get(this.props,"manager.tenants.selected"))||_.get(this.props,"manager.tenants.isFetching")?E.a.createElement(k.Loading,null):E.a.createElement(N.a,{widget:this.props.widget,context:this.props.context,manager:this.props.manager,data:this.props.widgetData,setContextValue:this.props.setContextValue,onWidgetConfigUpdate:this._widgetConfigUpdate.bind(this),fetchWidgetData:this.props.fetchWidgetData,pageId:this.props.pageId}),E.a.createElement(k.ReadmeModal,{open:this.state.showReadmeModal,content:this.state.readmeContent,onHide:this._hideReadmeModal.bind(this)}))}}]),t}(v.Component);m()(L,"propTypes",{pageId:f.a.string.isRequired,widget:f.a.object.isRequired,context:f.a.object.isRequired,manager:f.a.object.isRequired,widgetData:f.a.object,onWidgetNameChange:f.a.func.isRequired,setContextValue:f.a.func.isRequired,onWidgetRemoved:f.a.func.isRequired,onWidgetMaximize:f.a.func.isRequired,onWidgetConfigUpdate:f.a.func.isRequired,fetchWidgetData:f.a.func.isRequired,pageManagementMode:f.a.string});var U=n(66),F=n(337),q=Object(w.connect)((function(e,t){return{context:e.context,manager:e.manager||{},isEditMode:t.isEditMode,pageManagementMode:t.pageManagementMode,widgetData:_.find(e.widgetData,{id:t.widget.id})||{}}}),(function(e,t){return{onWidgetNameChange:function(n,a,r){t.pageManagementMode?e(Object(P.n)(n,a,r)):e(Object(O.k)(n,a,r))},setContextValue:function(t,n){e(Object(U.b)(t,n))},onWidgetRemoved:function(n,a){t.pageManagementMode?e(Object(P.m)(a)):e(Object(O.j)(n,a))},onWidgetMaximize:function(n,a,r){t.pageManagementMode?e(Object(P.l)(n,a,r)):e(Object(O.h)(n,a,r))},onWidgetConfigUpdate:function(n,a,r){t.pageManagementMode?e(Object(P.j)(n,a,r)):e(Object(O.e)(n,a,r))},fetchWidgetData:function(t,n,a){return e(Object(F.b)(t,n,a))}}}))(L),z=n(440),G=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.props.onItemAdded&&this.props.onItemAdded(this.props.id)}},{key:"componentWillUnmount",value:function(){this.props.onItemRemoved&&this.props.onItemRemoved(this.props.id)}},{key:"render",value:function(){return E.a.createElement("div",{id:this.props.id,className:this.props.className},this.props.children)}}]),t}(v.Component);m()(G,"propTypes",{id:f.a.string.isRequired,x:f.a.number,y:f.a.number,width:f.a.number,height:f.a.number,className:f.a.string,onItemAdded:f.a.func,onItemRemoved:f.a.func,maximized:f.a.bool}),m()(G,"defaultProps",{x:0,y:0,width:10,height:5,className:"",maximized:!1});var B=Object(z.WidthProvider)(z.Responsive),W=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_saveChangedItems",value:function(e){var t=this;this.props.isEditMode&&_.each(e,(function(e){t.props.onGridDataChange(e.i,{height:e.h,width:e.w,x:e.x,y:e.y})}))}},{key:"processGridItem",value:function(e){return e.type&&e.type!==G?[]:E.a.createElement("div",{key:e.props.id,className:[e.props.className,e.props.maximized&&"maximize"].join(" "),"data-grid":{x:e.props.x||0,y:e.props.y||0,w:e.props.width||10,h:e.props.height||5}},e)}},{key:"render",value:function(){return E.a.createElement(B,{className:["layout",this.props.isEditMode&&"isEditMode"].join(" "),breakpoints:{lg:1e3,md:800,sm:640,xs:320,xxs:0},cols:{lg:12,md:10,sm:8,xs:6,xxs:2},rowHeight:10,onLayoutChange:this._saveChangedItems.bind(this),isDraggable:this.props.isEditMode,isResizable:this.props.isEditMode,useCSSTransforms:!1},_.map(this.props.children,this.processGridItem.bind(this)))}}]),t}(v.Component);m()(W,"propTypes",{onGridDataChange:f.a.func.isRequired,isEditMode:f.a.bool.isRequired}),n.d(t,"a",(function(){return H}));var H=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_updateWidget",value:function(e,t){this.props.onWidgetsGridDataChange(this.props.pageId,e,t)}},{key:"render",value:function(){return _.isEmpty(this.props.widgets)?E.a.createElement(y.a,{className:"emptyPage alignCenter"},this.props.isEditMode?E.a.createElement(b.a,{size:"large"},"This page is empty, ",E.a.createElement("br",null),"don't be shy, give it a meaning!"):E.a.createElement(b.a,{size:"large"},"This page is empty")):E.a.createElement("div",null,E.a.createElement(W,{isEditMode:this.props.isEditMode,onGridDataChange:this._updateWidget.bind(this)},this.props.widgets.map((function(e){var t=(e.definition||{}).id;return E.a.createElement(G,{key:e.id,id:e.id,x:e.x,y:e.y,height:e.height,width:e.width,className:"widget ".concat(t,"Widget"),maximized:e.maximized},E.a.createElement(q,{widget:e,pageId:this.props.pageId,isEditMode:this.props.isEditMode,pageManagementMode:this.props.pageManagementMode}))}),this)),(this.props.isEditMode||this.props.pageManagementMode)&&E.a.createElement("div",{className:"gridStackBottomSpace"}))}}]),t}(v.Component);m()(H,"propTypes",{pageId:f.a.string.isRequired,widgets:f.a.array.isRequired,onWidgetsGridDataChange:f.a.func.isRequired,isEditMode:f.a.bool.isRequired,pageManagementMode:f.a.string})},334:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(21),b=n(39),w=n(3),C=0,O=Object(y.connect)(null,(function(e,t){return{onClick:function(){e(Object(b.a)("Page_".concat(C++)))}}}))((function(e){var t=e.onClick;return E.a.createElement(w.Button,{icon:"file text outline",labelPosition:"left",basic:!0,onClick:t,content:"Add Page",className:"addPageBtn"})})),P=n(53),T=n(40),S=n(24),k=n.n(S),I=n(4),D=n.n(I),A=n(100),j=n(19);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var N=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).widgetFileRef=E.a.createRef(),a.state=t.initialState,a}return d()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e){!e.open&&this.props.open&&(this.widgetFileRef.current&&this.widgetFileRef.current.reset(),this.setState(t.initialState))}},{key:"_installWidget",value:function(){var e=this,t=this.state.widgetFile?"":this.state.widgetUrl,n={};if(this.state.widgetFile||(_.isEmpty(t)?n.widgetUrl="Please provide the widget's archive URL or select a file":j.a.Url.isUrl(t)||(n.widgetUrl="Please provide valid URL for widget's archive")),!_.isEmpty(n))return this.setState({errors:n,scriptError:""}),!1;this.setState({loading:!0,errors:{},scriptError:""}),A.a.on("window:error",this._showScriptError,this),this.props.onWidgetInstalled(this.state.widgetFile,t).then((function(){A.a.off("window:error",e._showScriptError),e.setState({loading:!1,open:!1})})).catch((function(t){A.a.off("window:error",e._showScriptError),e.setState({errors:{error:t.message},loading:!1})}))}},{key:"_openModal",value:function(){this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.initialState,{open:!0}))}},{key:"_closeModal",value:function(){this.setState({open:!1})}},{key:"_showScriptError",value:function(e,t,n,a){this.setState({scriptError:"".concat(e," (").concat(t,":").concat(n,":").concat(a,")")})}},{key:"_handleInputChange",value:function(e,t){this.setState(w.Form.fieldNameValue(t))}},{key:"_onWidgetUrlFocus",value:function(){this.state.widgetFile&&(this.widgetFileRef.current&&this.widgetFileRef.current.reset(),this._onWidgetFileReset())}},{key:"_onWidgetFileChange",value:function(e){e&&this.setState({errors:{},widgetUrl:e.name,widgetFile:e})}},{key:"_onWidgetFileReset",value:function(){this.setState({errors:{},widgetUrl:"",widgetFile:null})}},{key:"render",value:function(){var e=this;return E.a.createElement(w.Modal,{trigger:this.props.trigger,dimmer:"blurring",open:this.state.open,className:this.props.className,onOpen:this._openModal.bind(this),onClose:this._closeModal.bind(this)},E.a.createElement(w.Modal.Header,null,E.a.createElement(w.Icon,{name:"puzzle"})," ",this.props.header),E.a.createElement(w.Modal.Content,null,E.a.createElement(w.Form,{errors:this.state.errors,ref:"installForm",loading:this.state.loading},E.a.createElement(w.Form.Field,{label:"Widget package",required:!0,error:this.state.errors.widgetUrl},E.a.createElement(w.Form.UrlOrFile,{name:"widget",value:this.state.widgetUrl,placeholder:"Provide the widget's archive URL or click browse to select a file",onChangeUrl:this._handleInputChange.bind(this),onFocusUrl:this._onWidgetUrlFocus.bind(this),onBlurUrl:function(){},onChangeFile:this._onWidgetFileChange.bind(this),onResetFile:this._onWidgetFileReset.bind(this),label:E.a.createElement(w.Label,null,this.state.widgetFile?"File":"URL"),fileInputRef:this.widgetFileRef}))),this.state.scriptError&&E.a.createElement(w.Message,{error:!0},this.state.scriptError)),E.a.createElement(w.Modal.Actions,null,E.a.createElement(w.Button,{icon:"remove",basic:!0,content:"Cancel",onClick:function(t){t.stopPropagation(),e._closeModal()}}),E.a.createElement(w.Button,{icon:"puzzle",content:this.props.buttonLabel,color:"green",onClick:function(t){t.stopPropagation(),e._installWidget()}})))}}]),t}(v.Component);m()(N,"initialState",{open:!1,loading:!1,widgetUrl:"",widgetFile:null,errors:{},scriptError:""}),m()(N,"propTypes",{trigger:f.a.object.isRequired,header:f.a.string.isRequired,buttonLabel:f.a.string.isRequired,onWidgetInstalled:f.a.func.isRequired,className:f.a.string}),m()(N,"defaultProps",{className:"installWidgetModal",onWidgetInstalled:function(){return Promise.resolve()}});var x=n(91),M=n(117);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e){function t(e,n){var a;return r()(this,t),a=l()(this,u()(t).call(this,e,n)),m()(D()(a),"_filterWidgets",(function(e,t){return a._doFilterWidgets(t)})),m()(D()(a),"_filterByCategory",(function(e,t){return a._doFilterWidgets(t,!0)})),a.state=U({},t.initialState(e),{open:!1,widgetsToAdd:[]}),a}return d()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e){_.isEqual(e.widgetDefinitions,this.props.widgetDefinitions)||this.setState(t.initialState(this.props))}},{key:"_openModal",value:function(){this.setState(U({},t.initialState(this.props),{open:!0,widgetsToAdd:[]}))}},{key:"_closeModal",value:function(){this.setState({open:!1})}},{key:"_openThumbnailModal",value:function(e,t){e.stopPropagation(),this.setState({showThumbnail:!0,thumbnailWidget:t})}},{key:"_closeThumbnailModal",value:function(){this.setState({showThumbnail:!1,thumbnailWidget:{}})}},{key:"_addWidgets",value:function(){var e=this;_.forEach(this.state.widgetsToAdd,(function(t){var n=_.find(e.props.widgetDefinitions,(function(e){return t===e.id}));n&&e.props.onWidgetAdded(n)})),this.setState(U({},this.state,{widgetsToAdd:[]})),this._closeModal()}},{key:"_toggleWidgetInstall",value:function(e){this.setState({widgetsToAdd:_.includes(this.state.widgetsToAdd,e)?_.without(this.state.widgetsToAdd,e):[].concat(k()(this.state.widgetsToAdd),[e])})}},{key:"_confirmRemove",value:function(e,t){var n=this;e.stopPropagation(),this.props.onWidgetUsed(t.id).then((function(e){n.setState({widget:t,usedByList:e,showConfirm:!0})})).catch((function(e){n.setState({error:e.message})}))}},{key:"_getWidgetsToAddWithout",value:function(e){return _.without(this.state.widgetsToAdd,e)}},{key:"_uninstallWidget",value:function(){var e=this,t=this.state.widget.id;this.setState({showConfirm:!1}),this.props.onWidgetUninstalled(t).then((function(){return e.setState({widgetsToAdd:e._getWidgetsToAddWithout(t)})}))}},{key:"_updateWidget",value:function(e,t,n){var a=this;return this.props.onWidgetUpdated(e.id,t,n).then((function(){return a.setState({widgetsToAdd:a._getWidgetsToAddWithout(e.id)})}))}},{key:"updateCategoriesCounter",value:function(e){var t=this.state.categories.map((function(t){return t.count=e.filter((function(e){return-1!==(e.categories||[x.a.CATEGORY.OTHERS]).indexOf(t.name)})).length,t}));this.setState({categories:t})}},{key:"getWidgetsByCategory",value:function(e,t){return e.filter((function(e){return e.categories=e.categories||[x.a.CATEGORY.OTHERS],t===x.a.CATEGORY.ALL||-1!==e.categories.indexOf(t)}))}},{key:"getWidgetsBySearch",value:function(e,t){var n=e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase()||"")}));return this.updateCategoriesCounter(n),n}},{key:"_doFilterWidgets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?this.state.search:e.value,a=t?e.name:this.state.selectedCategory,r=this.getWidgetsBySearch(this.props.widgetDefinitions,n);r=this.getWidgetsByCategory(r,a),this.setState({search:n,selectedCategory:a,filteredWidgetDefinitions:r})}},{key:"render",value:function(){var e=this,t=E.a.createElement(w.Button,{icon:"bar chart",labelPosition:"left",basic:!0,content:"Add Widget",className:"addWidgetBtn"}),n=E.a.createElement(w.Button,{animated:"vertical",id:"installWidgetBtn",onClick:function(){}},E.a.createElement(w.Button.Content,{visible:!0},"Install new widget"),E.a.createElement(w.Button.Content,{hidden:!0},E.a.createElement(w.Icon,{name:"folder open"}))),a=E.a.createElement(w.Button,{floated:"left",size:"small",compact:!0,basic:!0,content:"Update",className:"updateWidgetButton",onClick:function(e){return e.stopPropagation()}}),r=_.isEmpty(this.state.usedByList)?"":E.a.createElement(w.Segment,{basic:!0},E.a.createElement("h5",null,"Widget is currently used by:"),E.a.createElement(w.DataTable,null,E.a.createElement(w.DataTable.Column,{label:"Username"}),E.a.createElement(w.DataTable.Column,{label:"Manager IP"}),this.state.usedByList.map((function(e){return E.a.createElement(w.DataTable.Row,{key:e.username+e.managerIp},E.a.createElement(w.DataTable.Data,null,e.username),E.a.createElement(w.DataTable.Data,null,e.managerIp))})))),i=E.a.createElement(w.Menu,{fluid:!0,vertical:!0,tabular:!0},E.a.createElement(w.Menu.Item,{name:x.a.CATEGORY.ALL,active:this.state.selectedCategory===x.a.CATEGORY.ALL,onClick:this._filterByCategory.bind(this)}),this.state.categories.map((function(t){return E.a.createElement(w.Menu.Item,{key:t.name,name:t.name,active:e.state.selectedCategory===t.name,onClick:e._filterByCategory.bind(e)},t.name,E.a.createElement(w.Label,{color:t.count?"green":"yellow"},t.count))}))),o=function(e){return j.a.Url.url(M.a.getResourceUrl("widgets/".concat(e.id,"/widget.png"),e.isCustom))};return E.a.createElement("div",{className:this.props.className},E.a.createElement(w.Modal,{trigger:t,className:"addWidgetModal",open:this.state.open,closeIcon:!0,onOpen:this._openModal.bind(this),onClose:this._closeModal.bind(this),size:"large"},E.a.createElement(w.Segment,{basic:!0,size:"large"},E.a.createElement(w.ErrorMessage,{error:this.state.error}),E.a.createElement(w.Input,{icon:"search",fluid:!0,size:"mini",placeholder:"Search widgets ...",onChange:this._filterWidgets.bind(this),value:this.state.search}),E.a.createElement(w.Divider,null),E.a.createElement(w.Grid,{columns:2},E.a.createElement(w.Grid.Row,null,E.a.createElement(w.Grid.Column,{width:4},i),E.a.createElement(w.Grid.Column,{width:12},E.a.createElement(w.Item.Group,{divided:!0,className:"widgetsList"},this.state.filteredWidgetDefinitions.map((function(e){var t=this;return E.a.createElement(w.Item,{key:e.id,"data-id":e.id,onClick:function(){t._toggleWidgetInstall(e.id)}},E.a.createElement(w.Checkbox,{className:"addWidgetCheckbox",readOnly:!0,title:"Add widget to page",checked:this.state.widgetsToAdd.includes(e.id)}),E.a.createElement(w.Item.Image,{as:"div",size:"small",bordered:!0,src:o(e),onClick:function(n){return t._openThumbnailModal(n,e)}}),E.a.createElement(w.Item.Content,null,E.a.createElement(w.Item.Header,{as:"div"},e.name),E.a.createElement(w.Item.Meta,null,e.description),E.a.createElement(w.Item.Description,null),E.a.createElement(w.Item.Extra,null,e.isCustom&&this.props.canInstallWidgets&&E.a.createElement("div",null,E.a.createElement(N,{onWidgetInstalled:this._updateWidget.bind(this,e),trigger:a,buttonLabel:"Update Widget",className:"updateWidgetModal",header:"Update widget definition"}),E.a.createElement(w.Button,{floated:"left",size:"small",compact:!0,basic:!0,content:"Remove",onClick:function(n){return t._confirmRemove(n,e)},className:"removeWidgetButton"})))))}),this),_.isEmpty(this.state.filteredWidgetDefinitions)&&E.a.createElement(w.Item,{className:"alignCenter",content:"No widgets available"})),E.a.createElement(w.Button.Group,{widths:"2"},E.a.createElement(w.Button,{animated:"vertical",id:"addWidgetsBtn",onClick:function(){e._addWidgets()},color:"green",disabled:0===this.state.widgetsToAdd.length},E.a.createElement(w.Button.Content,{visible:!0},"Add selected widgets (",this.state.widgetsToAdd.length,")"),E.a.createElement(w.Button.Content,{hidden:!0},E.a.createElement(w.Icon,{name:"check"}))),this.props.canInstallWidgets&&E.a.createElement(N,{onWidgetInstalled:this.props.onWidgetInstalled,trigger:n,header:"Install new widget",buttonLabel:"Install Widget"}))))))),E.a.createElement(w.Confirm,{open:this.state.showConfirm,onCancel:function(){return e.setState({showConfirm:!1})},onConfirm:this._uninstallWidget.bind(this),header:"Are you sure to remove widget ".concat(this.state.widget.name,"?"),content:r,className:"removeWidgetConfirm"}),E.a.createElement(w.Modal,{open:this.state.showThumbnail,basic:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!0,onClose:this._closeThumbnailModal.bind(this)},E.a.createElement("div",null,E.a.createElement(w.Image,{centered:!0,src:o(this.state.thumbnailWidget)}))))}}],[{key:"generateCategories",value:function(e){var t=e.reduce((function(e,t){return(t.categories||[x.a.CATEGORY.OTHERS]).map((function(t){var n=e.findIndex((function(e){return e.name===t}));-1===n?e.push({name:t,count:1}):e[n].count++})),e}),[]);return _.sortBy(t,"name")}}]),t}(v.Component);m()(F,"initialState",(function(e){return{filteredWidgetDefinitions:e.widgetDefinitions,search:"",showConfirm:!1,widget:{},showThumbnail:!1,thumbnailWidget:{},usedByList:[],categories:F.generateCategories(e.widgetDefinitions),selectedCategory:x.a.CATEGORY.ALL}})),m()(F,"propTypes",{widgetDefinitions:f.a.array.isRequired,onWidgetAdded:f.a.func.isRequired,onWidgetInstalled:f.a.func.isRequired,onWidgetUninstalled:f.a.func.isRequired,onWidgetUpdated:f.a.func.isRequired,onWidgetUsed:f.a.func.isRequired});var q=n(14),z=0,G=Object(y.connect)((function(e,t){var n=e.widgetDefinitions.filter((function(t){return j.a.isUserAuthorized(t.permission,e.manager)&&j.a.isWidgetPermitted(t.supportedEditions,e.manager)})),a=j.a.isUserAuthorized(q.a.permissions.STAGE_INSTALL_WIDGETS,e.manager);return{widgetDefinitions:n,pageId:t.pageId,pageManagementMode:t.pageManagementMode,canInstallWidgets:a}}),(function(e,t){return{onWidgetAdded:function(n){t.pageManagementMode?e(Object(T.a)(t.pageId,n.name||"Widget_".concat(z++),n)):e(Object(P.a)(t.pageId,n.name||"Widget_".concat(z++),n))},onWidgetInstalled:function(t,n){return e(Object(P.f)(t,n))},onWidgetUninstalled:function(t){return e(Object(P.l)(t))},onWidgetUpdated:function(t,n,a){return e(Object(P.m)(t,n,a))},onWidgetUsed:function(t){return e(Object(P.c)(t))}}}))(F);n.d(t,"a",(function(){return B}));var B=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e,t,n=this;return this.props.pageManagementMode?this.props.pageManagementMode===q.a.PAGE_MANAGEMENT_EDIT?(e="Page management",t=E.a.createElement(w.Message.Content,{className:"alignCenter"},E.a.createElement(G,{className:"compactBlock",pageId:this.props.page.id,pageManagementMode:this.props.pageManagementMode}),E.a.createElement(w.Button,{basic:!0,content:"Save",icon:"save",onClick:function(){return n.props.onPageSave(n.props.page)}}),E.a.createElement(w.Button,{basic:!0,content:"Cancel",icon:"remove",onClick:this.props.onDismiss}))):(e="Page preview",t=E.a.createElement(w.Message.Content,{className:"alignCenter"},E.a.createElement(w.Button,{basic:!0,content:"Exit",icon:"sign out",onClick:this.props.onDismiss}))):(e="Edit mode",t=E.a.createElement(w.Message.Content,{className:"alignCenter"},E.a.createElement(G,{className:"compactBlock",pageId:this.props.page.id}),E.a.createElement(O,null),E.a.createElement(w.Button,{basic:!0,content:"Exit",icon:"sign out",onClick:this.props.onDismiss}))),E.a.createElement(w.Sidebar,{as:w.Message,animation:"overlay",direction:"bottom",visible:this.props.isVisible,className:"editModeSidebar"},E.a.createElement(w.Message,{color:"yellow",onDismiss:this.props.onDismiss},E.a.createElement(w.Message.Header,{className:"alignCenter",content:e}),t))}}]),t}(v.Component);m()(B,"propTypes",{page:f.a.object.isRequired,onDismiss:f.a.func.isRequired,isVisible:f.a.bool.isRequired,pageManagementMode:f.a.string,onPageSave:f.a.func})},335:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(1),o=n.n(i),s=n(0),l=n.n(s),c=n(21),u=n(62),p=n(315),d=n(259),h=n(92),m=n(35),g=n(1456),f=n(59),v=n(181),E=n(325),y=n(28),b=function(e){var t,n=e.nodeName,a=e.nodeType,i=(t={},r()(t,y.d.manager,"settings"),r()(t,y.d.db,"database"),r()(t,y.d.broker,"comments"),t)[a];return o.a.createElement(g.a,{floated:"left",style:{width:"auto",marginTop:"4px"},size:"medium"},o.a.createElement(h.a,{name:i}),n," Services Status")};b.propTypes={nodeName:l.a.string.isRequired,nodeType:l.a.oneOf(y.h).isRequired};var w=function(e){var t=e.name,n=e.description,a=e.isRemote;return o.a.createElement(g.a,{size:"tiny"},o.a.createElement(g.a.Content,null,t,"",a&&o.a.createElement(m.a,null,o.a.createElement(m.a.Trigger,null,o.a.createElement(h.a,{name:"external square"})),o.a.createElement(m.a.Content,null,"Remote")),n&&o.a.createElement(g.a.Subheader,null,n)))};w.propTypes={name:l.a.string.isRequired,description:l.a.string,isRemote:l.a.bool.isRequired},w.defaultProps={description:""};var C=function(e){var t=e.status,n=o.a.createElement(h.a,{name:"question",color:"grey"});return t===y.j.Active?n=o.a.createElement(h.a,{name:"checkmark",color:"green"}):t===y.j.Inactive&&(n=o.a.createElement(h.a,{name:"remove",color:"red"})),o.a.createElement(o.a.Fragment,null,n," ",t)};function O(e){var t=e.name,n=e.type,a=e.services,r=_(a).keys().sort().map((function(e){return{name:e,isRemote:a[e].is_remote,status:a[e].status,description:_.get(a[e],"extra_info.systemd.instances[0].Description",""),extraInfo:a[e].extra_info}})).value(),i=E.a.stringify(a,!0);return o.a.createElement(f.a,{celled:!0,basic:"very",collapsing:!0,className:"servicesData"},o.a.createElement(f.a.Header,null,o.a.createElement(f.a.Row,null,o.a.createElement(f.a.HeaderCell,{colSpan:2},o.a.createElement(b,{nodeName:t,nodeType:n})))),o.a.createElement(f.a.Body,null,_.map(r,(function(e){var t=e.description,n=e.isRemote,a=e.name,r=e.status;return o.a.createElement(f.a.Row,{key:a},o.a.createElement(f.a.Cell,{collapsing:!0},o.a.createElement(w,{name:a,description:t,isRemote:n})),o.a.createElement(f.a.Cell,{textAlign:"center"},o.a.createElement(C,{status:r})))}))),o.a.createElement(f.a.Footer,null,o.a.createElement(f.a.Row,null,o.a.createElement(f.a.HeaderCell,{colSpan:2},o.a.createElement(v.a,{className:"rightFloated",content:"Copy Raw Info",text:i})))))}C.propTypes={status:l.a.oneOf(y.k).isRequired};var P=l.a.objectOf(l.a.shape({is_remote:l.a.bool.isRequired,status:l.a.oneOf(y.k).isRequired,extra_info:l.a.object}));function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t,n=e.name,a=e.type,i=e.status,s=e.services,l=(t={},r()(t,y.a.OK,o.a.createElement(h.a,{name:"checkmark",color:"green",link:!0})),r()(t,y.a.Fail,o.a.createElement(h.a,{name:"remove",color:"red",link:!0})),t)[i];return o.a.createElement(m.a,{hoverable:!0},o.a.createElement(m.a.Trigger,null,o.a.createElement("span",null,l)),o.a.createElement(m.a.Content,null,o.a.createElement(O,{name:n,type:a,services:s})))}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}O.propTypes={name:l.a.string.isRequired,type:l.a.oneOf(y.h).isRequired,services:P},O.defaultProps={services:{}},k.propTypes=S({},O.propTypes,{status:l.a.oneOf(y.b).isRequired}),k.defaultProps=S({},O.defaultProps);var D=function(e){var t=e.ip,n=e.serviceName;return t&&n===y.d.manager?o.a.createElement("a",{href:"http://".concat(t),target:"_blank",rel:"noopener noreferrer"},t):t};function A(e){var t=e.services,n=e.toolbox;return o.a.createElement(u.a,{fetchData:n.refresh,noDataMessage:"There are no Cluster Services available.",noDataAvailable:_.isEmpty(t),selectable:!0},o.a.createElement(u.a.Column,{label:"Service Type",width:"20%"}),o.a.createElement(u.a.Column,{label:"Node Name",width:"25%"}),o.a.createElement(u.a.Column,{label:"Status",width:"5%"}),o.a.createElement(u.a.Column,{label:"Private IP",width:"15%"}),o.a.createElement(u.a.Column,{label:"Public IP / LB IP",width:"15%"}),o.a.createElement(u.a.Column,{label:"Version",width:"15%"}),o.a.createElement(u.a.Column,{label:"",width:"1%"}),_.map(t,(function(e,t){var n=_.size(e.nodes);return _(e.nodes).map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:t},e)})).sortBy("name").map((function(a,r){return o.a.createElement(u.a.Row,{key:"".concat(t,"_").concat(a.name,"_").concat(a.node_id)},0===r&&o.a.createElement(u.a.Data,{rowsSpan:n,style:{backgroundColor:Object(y.c)(e.status)}},o.a.createElement(d.a,{isExternal:e.is_external,name:t})),o.a.createElement(u.a.Data,null,a.name),o.a.createElement(u.a.Data,null,o.a.createElement(k,{name:a.name,type:t,status:a.status,services:a.services})),o.a.createElement(u.a.Data,null,a.private_ip),o.a.createElement(u.a.Data,null,o.a.createElement(D,{ip:a.public_ip,serviceName:t})),o.a.createElement(u.a.Data,null,a.version),o.a.createElement(u.a.Data,null,o.a.createElement(p.a,{selected:!0,id:a.node_id,buttonPosition:"right"})))})).value()})))}D.propTypes={ip:l.a.string,serviceName:l.a.string.isRequired},D.defaultProps={ip:""};var j=l.a.shape({status:l.a.oneOf(y.g).isRequired,nodes:l.a.objectOf(l.a.shape({status:l.a.oneOf(y.b).isRequired,public_ip:l.a.string,version:l.a.string.isRequired,node_id:l.a.string.isRequired,private_ip:l.a.string.isRequired,services:P})).isRequired,is_external:l.a.bool.isRequired}).isRequired;A.propTypes={services:l.a.shape(_.mapValues(y.d,(function(){return j}))).isRequired,toolbox:l.a.shape({refresh:l.a.func.isRequired}).isRequired};t.a=Object(c.connect)((function(e){return{services:_.get(e,"manager.clusterStatus.services",{})}}))(A)},337:function(e,t,n){"use strict";var a=n(13),r=n(67),i=n.n(r),o=n(5),s=n.n(o),l=n(6),c=n.n(l),u=n(19),p=function(){function e(t,n,a){s()(this,e),this._widget=t,this._toolbox=n,this._paramsHandler=a}return c()(e,[{key:"fetchByUrls",value:function(){var e=this,t=_.isString(this._widget.definition.fetchUrl)?[this._widget.definition.fetchUrl]:_.valuesIn(this._widget.definition.fetchUrl),n=_.map(t,(function(t){return e._fetchByUrl(t)}));return Promise.all(n).then((function(t){var n=t;if(_.isString(e._widget.definition.fetchUrl))n=t[0];else{n={};for(var a=_.keysIn(e._widget.definition.fetchUrl),r=0;r<t.length;r++)n[a[r]]=t[r]}return n}))}},{key:"_handleUrl",value:function(e,t){var n=t.substring(e.length),a={},r=this._getUrlRegExString("params").exec(n);if(!_.isNull(r)){var o=i()(r,2),s=o[0],l=o[1];a=this._paramsHandler.buildParamsToSend(l),n=_.replace(n,s,"")}return{url:n,params:a}}},{key:"_fetchByUrl",value:function(e){var t=this,n=_.replace(e,this._getUrlRegExString("config"),(function(e,n){return t._widget.configuration?t._widget.configuration[n]:"NA"}));if(e.indexOf("[manager]")>=0){var a=this._handleUrl("[manager]",e);return this._toolbox.getManager().doGet(a.url,a.params)}if(e.indexOf("[backend]")>=0){a=this._handleUrl("[backend]",e);return this._toolbox.getInternal().doGet(a.url,a.params)}return this._toolbox.getExternal().doGet(n)}},{key:"fetchByFunc",value:function(){if(!_.isFunction(this._widget.definition.fetchData))return Promise.reject({error:"Widget doesnt have a fetchData function"});try{return this._widget.definition.fetchData(this._widget,this._toolbox,this._paramsHandler.buildParamsToSend())}catch(e){return console.error("Error fetching widget data",e),Promise.reject({error:"Error fetching widget data"})}}},{key:"_getUrlRegExString",value:function(e){return new RegExp("\\[".concat(e,":?(.*)\\]"),"i")}}]),e}();function d(e,t,n){return function(r){var i;if(r((i=e.id,{type:a.vb,widgetId:i})),e.definition.fetchUrl||_.isFunction(e.definition.fetchData)){var o=new p(e,t,n),s=e.definition.fetchUrl?o.fetchByUrls():o.fetchByFunc(),l=u.a.makeCancelable(s),c=l.promise.then((function(t){return r(function(e,t){return{type:a.wb,widgetId:e,data:t,receivedAt:Date.now()}}(e.id,t)),t})).catch((function(t){throw t.isCanceled?(console.log("Widget '".concat(e.name,"' data fetch canceled")),r(function(e){return{type:a.tb,widgetId:e}}(e.id))):r(function(e,t){return{type:a.ub,widgetId:e,error:t}}(e.id,t)),t}));return{cancelablePromise:l,waitForPromise:c}}}}function h(){return{type:a.sb}}n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}))},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(7),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),w=n(441),C=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return null}}]),t}(y.Component);f()(C,"propTypes",{children:E.a.any});var O=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=this.props.trigger,n=this.props.children;return b.a.Children.forEach(this.props.children,(function(a){a&&a.type===C&&(t=a.props.children,n=_.without(e.children,a))})),b.a.createElement(w.a,r()({},this.props,{trigger:t}),n)}}]),t}(y.Component);f()(O,"Trigger",C),f()(O,"Content",w.a.Content),f()(O,"Header",w.a.Header)},39:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return y})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return w})),n.d(t,"a",(function(){return C})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return P})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return S})),n.d(t,"l",(function(){return k}));var a=n(24),r=n.n(a),i=n(26),o=n(213),s=n(13),l=n(66),c=n(214),u=(n(58),n(53)),p=n(337),d=n(32),h=n(14);function m(e,t){return{type:s.b,name:e,newPageId:t}}function g(e,t){return{type:s.k,newPageId:e,name:t}}function f(e){return _.keyBy(e,"id")}function v(e,t){var n=_.snakeCase(e),a=1;return _.each(t,(function(e){if(e.id.startsWith(n)){var t=parseInt(e.id.substring(n.length),10)||a;a=Math.max(t+1,a+1)}})),a>1&&(n+=a),n}function E(e,t){return{type:s.K,pageId:e.id,name:t}}function y(e,t){return{type:s.h,pageId:e,description:t}}function b(e,t,n,a){return function(s,c){var u={pathname:"/page/".concat(e)},d=c().drilldownContext||[];s(Object(p.a)()),t?(_.isEmpty(a)||(u.pathname+="/".concat(a)),(a||n)&&(d=[].concat(r()(d),[{context:n||{},pageName:a}])),u.search=Object(o.stringify)({c:JSON.stringify(d)})):s(Object(l.a)()),s(Object(i.push)(u))}}function w(e){return b(_.snakeCase(e),!1)}function C(e){return function(t,n){var a=v(e,n().pages);t(m(e,a)),t(b(a,!1))}}function O(e){return function(t,n){var a=f(n().pages);!function e(n){var r;_.isEmpty(n.children)||n.children.forEach((function(t){e(a[t])})),t((r=n.id,{type:s.G,pageId:r}))}(e)}}function P(){return function(e,t){var n=t().manager,a=_.get(n,"tenants.selected",h.a.DEFAULT_ALL);return new d.a(n).doGet("/templates/select",{tenant:a}).then((function(n){console.log("Selected template id",n);var a=t().templates,r=t().widgetDefinitions,i=a.templatesDef[n].pages;console.log("Create pages from selected template",i),_.each(i,(function(n){var i=a.pagesDef[n];if(i){var o=v(i.name,t().pages);e(m(i.name,o)),_.each(i.widgets,(function(t){var n=_.find(r,{id:t.definition});e(Object(u.a)(o,t.name,n,t.width,t.height,t.x,t.y,t.configuration))}))}else console.error("Cannot find page template: ".concat(n,". Skipping... "))}))}))}}function T(e,t){return{type:s.M,pageIndex:e,newPageIndex:t}}function S(){return function(e,t){e(b(t().pages[0].id))}}function k(){return function(e,t){var n=t(),a=n.app.currentPageId||n.pages[0].id,r=_.find(n.pages,{id:a});if(r&&r.parent){var i=_.find(n.pages,{id:r.parent});e(Object(c.a)()),e(b(i.id,i.isDrillDown))}}}},40:function(e,t,n){"use strict";n.d(t,"k",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"t",(function(){return f})),n.d(t,"h",(function(){return v})),n.d(t,"q",(function(){return E})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return w})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return O})),n.d(t,"s",(function(){return P})),n.d(t,"r",(function(){return T})),n.d(t,"n",(function(){return S})),n.d(t,"m",(function(){return k})),n.d(t,"j",(function(){return I})),n.d(t,"o",(function(){return D})),n.d(t,"p",(function(){return A})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return R})),n.d(t,"l",(function(){return N})),n.d(t,"i",(function(){return x}));var a=n(2),r=n.n(a),i=n(26),o=n(13),s=n(102),l=n(32);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){return{type:o.ob}}function d(e){return{type:o.mb,error:e,receivedAt:Date.now()}}function h(){return function(e,t){var n=t(),a=new l.a(n.manager),r=n.templates,i=n.templateManagement;return Promise.all([a.doGet("/templates"),a.doGet("/templates/pages")]).then((function(t){var n=_.find(i.templates,{selected:!0}),a=_.find(i.pages,{selected:!0}),s=t[0],l=t[1],c=_.map(s,(function(e){return u({},e,{pages:r.templatesDef[e.id].pages})}));n&&((_.find(c,{id:n.id})||{}).selected=!0);var p=_.map(l,(function(e){return u({},e,{name:(r.pagesDef[e.id]||{}).name,templates:_.map(_.filter(c,(function(t){return _.indexOf(t.pages,e.id)>=0})),"id")})}));return a&&((_.find(p,{id:a.id})||{}).selected=!0),e(function(e,t){return{type:o.nb,templates:e,pages:t}}(c,p))})).catch((function(t){return e(d(t.message))}))}}function m(){return function(e){e(p()),e(h()).catch((function(t){return e(d(t.message))}))}}function g(e){return function(t,n){return new l.a(n().manager).doPost("/templates",{},e).then((function(){return t(Object(s.b)(e.id,e.pages))})).then((function(){return t(h())})).catch((function(e){return t(d(e.message))}))}}function f(e){return function(t,n){return new l.a(n().manager).doPut("/templates",{},e).then((function(){t(Object(s.c)(e.id,e.pages)),e.oldId&&e.oldId!==e.id&&t(Object(s.f)(e.oldId))})).then((function(){return t(h())})).catch((function(e){return t(d(e.message))}))}}function v(e){return function(t,n){return t(p()),new l.a(n().manager).doDelete("/templates/".concat(e)).then((function(){return t(Object(s.f)(e))})).then((function(){return t(h())})).catch((function(e){return t(d(e.message))}))}}function E(e){return{type:o.pb,templateId:e}}function y(e,t){var n=_.keysIn(t),a=_.snakeCase(e.trim()),r=1;return _.each(n,(function(e){if(e.startsWith(a)){var t=parseInt(e.substring(a.length))||r;r=Math.max(t+1,r+1)}})),r>1&&(a+=r),a}function b(e){return function(t,n){var a=y(e,n().templates.pagesDef),r={id:a,name:e,widgets:[]};return new l.a(n().manager).doPost("/templates/pages",{},r).then((function(){return t(Object(s.a)(r.id,r.name,r.widgets))})).then((function(){return t(h())})).then((function(){return t(T(a,e,!0))})).catch((function(e){return t(d(e.message))}))}}function w(e){return function(t,n){return t(p()),new l.a(n().manager).doDelete("/templates/pages/".concat(e)).then((function(){return t(Object(s.e)(e))})).then((function(){return t(h())})).catch((function(e){return t(d(e.message))}))}}function C(e,t,n,a,r,i,s,l){return{type:o.u,pageId:e,name:t,widgetDefinition:n,width:a,height:r,x:i,y:s,configuration:l}}function O(e,t){return{type:o.w,widgetId:e,gridData:t}}function P(e){return function(t,n){t(function(e,t){return{type:o.v,pageId:e,pageName:t}}(y(e,n().templates.pagesDef),e))}}function T(e,t,n){return function(a,r){a(function(e,t,n){return{type:o.E,pageId:e,pageName:t,isPageEditMode:n}}(e,t,n));var s=r().templates.pagesDef,l=r().widgetDefinitions,c=s[e],u=[];_.each(c.widgets,(function(t,n){var r=_.find(l,{id:t.definition});try{a(C(e,t.name,r,t.width,t.height,t.x,t.y,t.configuration))}catch(e){var i="".concat(n+1," (").concat(t.name||"Unknown name",")");console.error("Error occurred when adding widget - ".concat(i," - to page."),e),u.push(i)}})),a(Object(i.push)("/page_management")),_.isEmpty(u)||a(d("Page template contains invalid widgets definitions: ".concat(_.join(u,", "))))}}function S(e,t,n){return{type:o.C,pageId:e,widgetId:t,name:n}}function k(e){return{type:o.B,widgetId:e}}function I(e,t,n){return{type:o.z,pageId:e,widgetId:t,configuration:n}}function D(e){return function(t){t(function(e){return function(t,n){var a=e.widgets.map((function(e){return{name:e.name,definition:e.definition.id,width:e.width,height:e.height,x:e.x,y:e.y,configuration:e.configuration}})),r={id:e.id,oldId:e.oldId,name:e.name,widgets:a};return new l.a(n().manager).doPut("/templates/pages",{},r).then((function(){t(Object(s.e)(e.id)),e.oldId&&e.oldId!==e.id&&t(Object(s.e)(e.oldId))})).then((function(){return t(Object(s.a)(e.id,e.name,r.widgets))})).catch((function(e){return t(d(e.message))}))}}(e)).then((function(){return t(Object(i.push)("/template_management"))}))}}function A(e){return{type:o.D,pageId:e}}function j(){return{type:o.lb}}function R(){return{type:o.x}}function N(e,t,n){return{type:o.A,pageId:e,widgetId:t,maximized:n}}function x(e){return{type:o.y,show:e}}},431:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=(n(852),n(1025),n(236),n(277),n(514),n(1029),n(1030),n(1032),n(1037),n(1052),n(1054),n(1056),n(1058),n(1061),n(1)),l=n.n(s),c=n(63),u=n.n(c),p=n(0),d=n.n(p),h=n(68),m=n(21),g=n(77),f=n(26),v=n(1455),E=n(824),y=n(151),b=n(815),_=n(100),w=n(14),C=n(154),O=n(184),P=n(187),T=n(260),S=n(823);window.$=e;var k=Object(g.a)({basename:w.a.CONTEXT_PATH}),I=function(){function e(){r()(this,e)}return o()(e,null,[{key:"load",value:function(){return window.React=l.a,window.PropTypes=d.a,window.L=h,window.connectToStore=m.connect,window.onerror=function(e,t,n,a,r){_.a.trigger("window:error",e,t,n,a,r)},P.a.init(),b.a.load().then((function(e){var t=Object(E.a)(k,e);return Object(y.a)(t),C.a.create(t),O.a.create(t),T.a.create(t),t}))}},{key:"start",value:function(e){u.a.render(l.a.createElement(m.Provider,{store:e},l.a.createElement(f.ConnectedRouter,{history:k},l.a.createElement(v.a,null,l.a.createElement(S.a,null)))),document.getElementById("app"))}}]),e}()}).call(this,n(43))},433:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(67),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(32),u=n(14),p=function(){function e(){o()(this,e)}return l()(e,null,[{key:"load",value:function(e){console.log("Load tours");var t=_.get(e,"tenants.selected",u.a.DEFAULT_ALL);return new c.a(e).doGet("/tours",{tenant:t}).then((function(e){return e}))}},{key:"parseTour",value:function(e){var t=_.omit(_.cloneDeep(e),["name","startAt"]);return t.onClose=["onTourClose"],t.onStart=["onTourStart"],t.onError=["showError"],t.skipIfNoElement=!1,t.steps=_.map(t.steps,(function(e,n){if(!_.isUndefined(e.onNextRedirectTo)){var a=t.steps[n+1];if(!_.isUndefined(a)){var i=_.isArray(e.onNextRedirectTo)?e.onNextRedirectTo:[e.onNextRedirectTo,e.onNextRedirectTo,void 0,void 0],o=r()(i,4),s=o[0],l=o[1],c=o[2],u=o[3];e.showCTAButton=!0,e.ctaLabel="Next (change page)",e.onCTA=["redirectTo",s,l,a.target,c,u],e.showNextButton=!1}e=_.omit(e,"onNextRedirectTo")}return e})),t}}]),e}()},439:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var a=n(24),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),w=n(14),C=n(3),O=function(t){function n(e,t){var a;return o()(this,n),(a=u()(this,d()(n).call(this,e,t))).state=n.initialState(!1,e),a}return m()(n,t),l()(n,[{key:"componentDidUpdate",value:function(){var t=this;e("#reorderList").hasClass("ui-sortable")||e("#reorderList").sortable({placeholder:"ui-sortable-placeholder",helper:"clone",handle:".handle",forcePlaceholderSize:!0,start:function(e,n){return t.pageIndex=n.item.index()},update:function(e,n){return t._reorderPage(t.pageIndex,n.item.index())}})}},{key:"_openModal",value:function(){this.setState(n.initialState(!0,this.props))}},{key:"_reorderPage",value:function(e,t){var n=this.state.pages,a=n.splice(e,1)[0];n.splice(t,0,a),this.setState({pages:n})}},{key:"_submitCreate",value:function(){var e=this,t={};if(_.isEmpty(_.trim(this.state.templateName))&&(t.templateName="Please provide correct template name"),_.isEmpty(this.state.roles)&&(t.roles="Please select role"),_.isEmpty(this.state.tenants)&&(t.tenants="Please select tenant"),_.isEmpty(this.state.pages)&&(t.pages="Please select page"),!_.isEmpty(t))return this.setState({errors:t}),!1;this.setState({loading:!0}),this.props.onCreateTemplate(_.trim(this.state.templateName),this.state.roles,this.state.tenants,this.state.pages).then((function(){e.setState({errors:{},loading:!1,open:!1})})).catch((function(t){e.setState({errors:{error:t.message},loading:!1})}))}},{key:"_handleInputChange",value:function(e,t){if("tenants"===t.name){var n=_.indexOf(this.state.tenants,w.a.DEFAULT_ALL)>=0,a=_.indexOf(t.value,w.a.DEFAULT_ALL)>=0;n?_.pull(t.value,w.a.DEFAULT_ALL):a&&(t.value=[w.a.DEFAULT_ALL])}this.setState(C.Form.fieldNameValue(t))}},{key:"_addPage",value:function(t){var n=_.without(this.state.availablePages,t),a=[].concat(r()(this.state.pages),[t]);this.setState({pages:a,availablePages:n},(function(){e("#reorderList").sortable("refresh")}))}},{key:"_removePage",value:function(t){var n=[].concat(r()(this.state.availablePages),[t]),a=_.without(this.state.pages,t);this.setState({pages:a,availablePages:n},(function(){e("#reorderList").sortable("refresh")}))}},{key:"render",value:function(){var e=this,t=_.map(this.props.availableTenants.items,(function(e){return{text:e.name,value:e.name}}));t.push({text:"All tenants",value:w.a.DEFAULT_ALL});var n=this.props.availableRoles,a=!_.isEmpty(this.props.templateName),r=a?b.a.createElement(C.Icon,{name:"edit",link:!0,className:"updateTemplateIcon",onClick:function(e){return e.stopPropagation()}}):b.a.createElement(C.Button,{content:"Create template",icon:"list layout",labelPosition:"left",className:"createTemplateButton"});return b.a.createElement(C.Modal,{trigger:r,open:this.state.open,onOpen:this._openModal.bind(this),onClose:function(){return e.setState({open:!1})},className:"createTemplateModal"},b.a.createElement(C.Modal.Header,null,b.a.createElement(C.Icon,{name:"list layout"})," ",a?b.a.createElement("span",null,"Update template ",this.props.templateName):b.a.createElement("span",null,"Create template")),b.a.createElement(C.Modal.Content,null,b.a.createElement(C.Form,{loading:this.state.loading,errors:this.state.errors,onErrorsDismiss:function(){return e.setState({errors:{}})}},b.a.createElement(C.Form.Field,{error:this.state.errors.templateName},b.a.createElement(C.Form.Input,{name:"templateName",placeholder:"Template name",value:this.state.templateName,onChange:this._handleInputChange.bind(this)})),b.a.createElement(C.Form.Field,{error:this.state.errors.roles},b.a.createElement(C.Form.Dropdown,{placeholder:"Roles",multiple:!0,selection:!0,options:n,name:"roles",value:this.state.roles,onChange:this._handleInputChange.bind(this)})),b.a.createElement(C.Form.Field,{error:this.state.errors.tenants},b.a.createElement(C.Form.Dropdown,{placeholder:"Tenants",multiple:!0,selection:!0,options:t,name:"tenants",value:this.state.tenants,onChange:this._handleInputChange.bind(this)})),b.a.createElement(C.Segment.Group,{horizontal:!0},b.a.createElement(C.Segment,{style:{width:"50%"}},b.a.createElement(C.Icon,{name:"plus"})," Available pages",b.a.createElement(C.Divider,null),b.a.createElement(C.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light"},this.state.availablePages.map((function(t){return b.a.createElement(C.List.Item,{key:t},t,b.a.createElement(C.Icon,{link:!0,name:"add",className:"right floated",onClick:e._addPage.bind(e,t),title:"Add page"}))})),_.isEmpty(this.state.availablePages)&&b.a.createElement(C.Message,{content:"No pages available"}))),b.a.createElement(C.Segment,{style:{width:"50%"}},b.a.createElement(C.Icon,{name:"block layout"})," Selected pages",b.a.createElement(C.Divider,null),b.a.createElement(C.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light",id:"reorderList"},this.state.pages.map((function(t){return b.a.createElement(C.List.Item,{key:t},t,b.a.createElement("span",{className:"right floated actionIcons"},b.a.createElement(C.Icon,{link:!0,name:"minus",onClick:e._removePage.bind(e,t),title:"Remove page"}),b.a.createElement(C.Icon,{link:!0,name:"move",className:"handle",title:"Reorder page"})))})),_.isEmpty(this.state.pages)&&b.a.createElement(C.Message,{content:"No pages selected"})))))),b.a.createElement(C.Modal.Actions,null,b.a.createElement(C.CancelButton,{onClick:function(){return e.setState({open:!1})},disabled:this.state.loading}),b.a.createElement(C.ApproveButton,{onClick:this._submitCreate.bind(this),disabled:this.state.loading,content:a?"Update":"Create",icon:a?"edit":"checkmark",color:"green"})))}}]),n}(y.Component);f()(O,"initialState",(function(e,t){var n=_.map(t.availablePages,(function(e){return e.id}));return n=_.difference(n,t.pages),{open:e,loading:!1,templateName:t.templateName,tenants:t.tenants,roles:t.roles,availablePages:n,pages:t.pages,errors:{}}})),f()(O,"propTypes",{availableTenants:E.a.object,availablePages:E.a.array,availableRoles:E.a.array,templateName:E.a.string,pages:E.a.array,roles:E.a.array,tenants:E.a.array,onCreateTemplate:E.a.func.isRequired}),f()(O,"defaultProps",{templateName:"",pages:[],roles:[],tenants:[w.a.DEFAULT_ALL],availablePages:[],availableRoles:[]})}).call(this,n(43))},53:function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"l",(function(){return E})),n.d(t,"m",(function(){return y})),n.d(t,"c",(function(){return b}));var a=n(13),r=n(39),i=n(40),o=n(187),s=n(32);function l(){return function(e,t){return o.a.load(t().manager).then((function(t){return e((n=t,{type:a.kb,widgetDefinitions:n}));var n}))}}function c(e,t,n,r,i,o,s,l){return{type:a.e,pageId:e,name:t,widgetDefinition:n,width:r,height:i,x:o,y:s,configuration:l}}function u(e,t,n){return{type:a.L,pageId:e,widgetId:t,name:n}}function p(e,t){return{type:a.J,pageId:e,widgetId:t}}function d(e,t,n){return{type:a.m,pageId:e,widgetId:t,configuration:n}}function h(e,t,n){return{type:a.s,pageId:e,widgetId:t,maximized:n}}function m(){return{type:a.t}}function g(e,t,n){return{type:a.i,pageId:e,widgetId:t,gridData:n}}function f(e,t,n,o,s){return function(l,u){var p=_.get(u().templateManagement,"isPageEditMode");if(!_.isUndefined(p))return l(Object(i.i)(!0));var d,h,m,g=e.drillDownPages[t.name];if(!g){var f=_.replace(window.location.pathname,/.*\/page\//,""),v=_.snakeCase("".concat(f," ").concat(t.name));!!_.find(u().pages,{id:v})||(l(Object(r.d)(v,t.name)),_.each(t.widgets,(function(e){var t=_.find(n,{id:e.definition});l(c(v,e.name,t,e.width,e.height,e.x,e.y,e.configuration))}))),l((d=e.id,h=t.name,m=v,{type:a.a,widgetId:d,drillDownPageId:m,drillDownName:h})),g=v}l(Object(r.j)(g,!0,o,s))}}function v(e,t){return function(n,r){return o.a.install(e,t,r().manager).then((function(e){return n(function(e){return{type:a.q,widgetDefinitions:e}}(e))}))}}function E(e){return function(t,n){return o.a.uninstall(e,n().manager).then((function(){return t(function(e){return{type:a.qb,widgetId:e}}(e))}))}}function y(e,t,n){return function(r,i){return o.a.update(e,t,n,i().manager).then((function(t){return r(function(e,t){return{type:a.rb,widgetDefinitions:e,widgetId:t}}(t,e))}))}}function b(e){return function(t,n){return new s.a(n().manager).doGet("/widgets/".concat(e,"/used"))}}},54:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return B}));var a=n(7),r=n.n(a),i=n(113),o=n.n(i),s=n(5),l=n.n(s),c=n(6),u=n.n(c),p=n(9),d=n.n(p),h=n(8),m=n.n(h),g=n(10),f=n.n(g),v=n(2),E=n.n(v),y=n(0),b=n.n(y),w=n(1),C=n.n(w),O=n(63),P=n.n(O),T=n(191),S=n(1451),k=n(156),I=n(212),D=n(789),A=n(790),j=n(791),R=n(792),N=n(328),x=n(793),M=n(794),L=n(797),U=n(210),F=n(798),q=n(799),z=n(801);n(735);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var B=function(t){function n(e){var t;return l()(this,n),(t=d()(this,m()(n).call(this,e))).submitFormBtnRef=C.a.createRef(),t}return f()(n,t),u()(n,[{key:"componentDidUpdate",value:function(e){if(this.props.scrollToError&&!_.isEmpty(this.props.errors)&&!_.isEqual(e.errors,this.props.errors)){var t=P.a.findDOMNode(this);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}}},{key:"submit",value:function(){e(this.submitFormBtnRef.current).click()}},{key:"_handleSubmit",value:function(e,t){return e.preventDefault(),this.props.onSubmit&&this.props.onSubmit(t.formData),!1}},{key:"render",value:function(){var e=this.props,t=e.errors,n=e.errorMessageHeader,a=e.onErrorsDismiss,i=(e.scrollToError,o()(e,["errors","errorMessageHeader","onErrorsDismiss","scrollToError"]));return _.isString(t)?t=[t]:_.isObject(t)&&(t=_.valuesIn(t)),C.a.createElement(T.a,r()({},i,{onSubmit:this._handleSubmit.bind(this),error:!_.isEmpty(t)}),C.a.createElement(I.a,{header:n,error:t,onDismiss:a}),this.props.children,C.a.createElement("input",{type:"submit",name:"submitFormBtn",style:{display:"none"},ref:this.submitFormBtnRef}))}}],[{key:"fieldNameValue",value:function(e){var t,n=e.name,a=e.value;if("checkbox"===e.type&&(a=e.checked),"number"===e.type){t=e.value,a=Number(t)%1!=0?parseFloat(e.value):parseInt(e.value)}if(_.isEmpty(n))throw console.error("Required name attribute is not provided!",e),"Required name attribute is not provided!";return E()({},n,a)}}]),n}(w.Component);E()(B,"Field",D.a),E()(B,"Group",j.a),E()(B,"Divider",R.a),E()(B,"Input",T.a.Input),E()(B,"TextArea",T.a.TextArea),E()(B,"Radio",S.a),E()(B,"Checkbox",A.a),E()(B,"File",N.a),E()(B,"UrlOrFile",x.a),E()(B,"Dropdown",U.a),E()(B,"InputDate",M.a),E()(B,"InputTime",L.a),E()(B,"Button",k.a),E()(B,"Table",F.a),E()(B,"ColorPicker",q.a),E()(B,"Json",z.a),E()(B,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},B.propTypes,{errors:b.a.any,errorMessageHeader:b.a.string,onSubmit:b.a.func,onErrorsDismiss:b.a.func,scrollToError:b.a.bool})),E()(B,"defaultProps",{errors:null,errorMessageHeader:"Errors in the form",onSubmit:function(){},onErrorsDismiss:function(){},scrollToError:!1})}).call(this,n(43))},58:function(e,t,n){"use strict";var a=n(13),r=n(102),i=n(216),o=n(53),s=n(257),l=n(32);function c(e){return{type:a.W,config:e,receivedAt:Date.now()}}var u=n(147),p=n(73),d=n(99),h=n(152);function m(e){return{type:a.V,isLoading:e}}function g(e){return{type:a.U,error:e}}function f(){return function(e,t){e(m(!0));var n=t();return e(Object(s.b)(n.manager)).then((function(){if(0===t().manager.tenants.items.length)return console.log("User is not attached to any tenant, cannot login"),e(m(!1)),Promise.reject(h.b)})).then((function(){return e(Object(p.d)())})).then((function(){return Promise.all([e(Object(r.d)()),e(Object(i.a)()),e(Object(o.g)()),e((function(e,t){return new l.a(t().manager).doGet("/clientConfig").then((function(t){return e(c(t.config))}))})),e(Object(d.a)())])})).then((function(){return e(Object(u.a)())})).then((function(){e(m(!1)),e(g(null))})).catch((function(t){return console.error("Error initializing user data. Cannot load page",t),e(m(!1)),Promise.reject(t)}))}}function v(e){return{type:a.gb,pageId:e}}function E(){return{type:a.f}}n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return E}))},62:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(191),b=n(226),w=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement(y.a.Field,{className:"actionField"},this.props.children)}}]),t}(v.Component);m()(w,"propTypes",{children:f.a.any.isRequired});var C=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_onClick",value:function(){this.props.name&&this.context.sortColumn(this.props.name)}},{key:"_className",value:function(){var e=this.props.name?"":"disabled";return this.context.getSortColumn()===this.props.name&&(e+=" sorted",e+=this.context.isSortAscending()?" ascending":" descending "),this.props.centerAligned&&(e+=" center aligned"),e}},{key:"render",value:function(){return this.props.show?E.a.createElement("th",{className:this._className(),style:this.props.width?{width:this.props.width}:{},onClick:this._onClick.bind(this)},this.props.label):null}}]),t}(v.Component);m()(C,"propTypes",{label:f.a.any,name:f.a.string,width:f.a.string,show:f.a.bool,centerAligned:f.a.bool}),m()(C,"defaultProps",{width:"",show:!0,centerAligned:!1}),m()(C,"contextTypes",{getSortColumn:f.a.func.isRequired,isSortAscending:f.a.func.isRequired,sortColumn:f.a.func.isRequired});var O=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement("td",{rowSpan:this.props.rowsSpan,className:this.props.className,style:this.props.style},this.props.children)}}]),t}(v.Component);m()(O,"propTypes",{children:f.a.any.isRequired,className:f.a.string,rowsSpan:f.a.number,style:f.a.object}),m()(O,"defaultProps",{className:"",rowsSpan:1,style:{}});var P=n(185),T=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement("tr",{className:"active"},E.a.createElement("td",{className:this.props.className,colSpan:this.props.numberOfColumns},E.a.createElement(P.TransitionGroup,null,E.a.createElement(P.CSSTransition,{classNames:"dataExpandable",appear:!0,enter:!0,timeout:{enter:500,exit:500},exit:!1},this.props.children))))}}]),t}(v.Component);m()(T,"propTypes",{children:f.a.any.isRequired,className:f.a.string,numberOfColumns:f.a.number}),m()(T,"defaultProps",{numberOfColumns:0});var S=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement(y.a.Field,{className:this.props.className},this.props.children)}}]),t}(v.Component);m()(S,"propTypes",{children:f.a.any.isRequired,className:f.a.string});var k=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_showData",value:function(e){return!(e<this.props.showCols.length)||this.props.showCols[e]}},{key:"render",value:function(){var e=this,t=this.props.className+(_.isFunction(this.props.onClick)?" clickable":"")+(this.props.selected?" active":""),n=[],a=0;return E.a.Children.forEach(this.props.children,(function(t){t&&t.type===O&&e._showData(a++)&&n.push(t)})),E.a.createElement("tr",{id:this.props.id,className:t,onClick:this.props.onClick,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut},n)}}]),t}(v.Component);m()(k,"propTypes",{children:f.a.any.isRequired,selected:f.a.bool,onClick:f.a.func,showCols:f.a.array,className:f.a.string}),m()(k,"defaultProps",{selected:!1,showCols:[],className:""});var I=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return{}}}]),t}(v.Component);m()(I,"propTypes",{children:f.a.any.isRequired,expanded:f.a.bool}),m()(I,"defaultProps",{expanded:!1});var D=n(324);n.d(t,"a",(function(){return A}));var A=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).paginationRef=E.a.createRef(),a.state={sortColumn:e.sortColumn,sortAscending:e.sortAscending,searchText:"",searching:!1},a.debouncedSearch=_.debounce((function(){a.paginationRef.current.reset((function(){return Promise.resolve(a._fetchData()).then((function(){return a.setState({searching:!1})}))}))}),300,{maxWait:2e3}),a}return d()(t,e),o()(t,[{key:"getChildContext",value:function(){var e=this;return{getSortColumn:function(){return e.state.sortColumn},isSortAscending:function(){return e.state.sortAscending},sortColumn:function(t){return e._sortColumn(t)}}}},{key:"_sortColumn",value:function(e){var t=this,n=this.state.sortAscending,a={sortColumn:e,sortAscending:n=this.state.sortColumn!==e||!n,currentPage:1};this.setState(a,(function(){t.paginationRef.current.reset(t._fetchData.bind(t))}))}},{key:"componentDidUpdate",value:function(e){var t={};e.sortColumn!==this.props.sortColumn&&(t.sortColumn=this.props.sortColumn),e.sortAscending!==this.props.sortAscending&&(t.sortAscending=this.props.sortAscending),_.isEmpty(t)||this.setState(t)}},{key:"_fetchData",value:function(){return this.props.fetchData({gridParams:{_search:this.state.searchText,currentPage:this.paginationRef.current.state.currentPage,pageSize:this.paginationRef.current.state.pageSize,sortColumn:this.state.sortColumn,sortAscending:this.state.sortAscending}})}},{key:"render",value:function(){var e=this,t=[],n=[],a=null,r=[],i=[];return E.a.Children.forEach(this.props.children,(function(e){if(e)if(e.type===C)i.push(e.props.show),t.push(e);else if(e.type===k)n.push(E.a.cloneElement(e,{showCols:i}));else if(e.type===I){var o=[];E.a.Children.forEach(e.props.children,(function(t){t&&(t.type===k?n.push(E.a.cloneElement(t,{showCols:i})):t.type===T&&e.props.expanded&&o.push(E.a.cloneElement(t,{numberOfColumns:i.length})))})),n.push(o)}else e.type===w?a=e:e.type===S&&r.push(e)})),E.a.createElement("div",{className:"gridTable ".concat(this.props.className)},(this.props.searchable||!_.isEmpty(r)||a)&&E.a.createElement(y.a,{size:"small",as:"div"},E.a.createElement(y.a.Group,{inline:!0},this.props.searchable&&E.a.createElement(D.a,{search:this.state.searchText,searching:this.state.searching,onSearch:function(t){return e.setState({searchText:t,searching:!0},e.debouncedSearch)}}),r,a)),E.a.createElement(b.a,{totalSize:this.props.totalSize,pageSize:this.props.pageSize,sizeMultiplier:this.props.sizeMultiplier,fetchSize:this.props.fetchSize,fetchData:this._fetchData.bind(this),ref:this.paginationRef},E.a.createElement("table",{className:"ui very compact table sortable ".concat(this.props.selectable?"selectable":""," ").concat(this.props.className),cellSpacing:"0",cellPadding:"0"},E.a.createElement("thead",null,E.a.createElement("tr",null,t)),this.props.noDataAvailable||this.props.totalSize<=0&&this.props.fetchSize<=0&&(0===this.props.totalSize||0===this.props.fetchSize)?E.a.createElement("tbody",null,E.a.createElement("tr",{className:"noDataRow"},E.a.createElement("td",{colSpan:t.length,className:"center aligned"},0===this.props.fetchSize&&this.paginationRef.current&&this.paginationRef.current.state.currentPage>1?E.a.createElement("span",null,"No more data available"):E.a.createElement("span",null,this.props.noDataMessage)))):E.a.createElement("tbody",null,n))))}}]),t}(v.Component);m()(A,"Row",k),m()(A,"Column",C),m()(A,"Data",O),m()(A,"Action",w),m()(A,"Filter",S),m()(A,"RowExpandable",I),m()(A,"DataExpandable",T),m()(A,"propTypes",{children:f.a.any.isRequired,fetchData:f.a.func,totalSize:f.a.number,fetchSize:f.a.number,pageSize:f.a.number,sortColumn:f.a.string,sortAscending:f.a.bool,searchable:f.a.bool,selectable:f.a.bool,className:f.a.string,noDataAvailable:f.a.bool,sizeMultiplier:f.a.number,noDataMessage:f.a.string}),m()(A,"defaultProps",{fetchData:function(){return Promise.resolve()},totalSize:-1,fetchSize:-1,pageSize:0,sortColumn:"",sortAscending:!0,searchable:!1,selectable:!1,className:"",noDataAvailable:!1,sizeMultiplier:5,noDataMessage:"No data available"}),m()(A,"childContextTypes",{getSortColumn:f.a.func,isSortAscending:f.a.func,sortColumn:f.a.func})},66:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(13);function r(e,t){return{type:a.Z,key:e,value:t}}function i(){return{type:a.j}}},73:function(e,t,n){"use strict";var a=n(24),r=n.n(a),i=n(26),o=n(13),s=n(116),l=n(14),c=n(101),u=n(74),p=n(66),d=n(320);function h(e,t){return{type:o.o,username:e,error:t,receivedAt:Date.now()}}function m(e,t,n){return function(a,r){return a({type:o.O}),s.a.login(e,t).then((function(t){var n,r=t.role,i=t.version,s=t.license,l=t.rbac;a(function(e,t,n){return{type:o.Q,username:e,role:t,licenseRequired:n,receivedAt:Date.now()}}(e,r,!_.isNull(s))),a(function(e){return{type:o.db,version:e}}(i)),a(Object(d.a)(s)),a((n=l,{type:o.hb,roles:n.roles,permissions:n.permissions}))})).then((function(){n?window.location=n:a(Object(i.push)(l.a.HOME_PAGE_PATH))})).catch((function(t){console.log(t),403===t.status?(a(h(e)),a(Object(i.push)({pathname:l.a.ERROR_NO_TENANTS_PAGE_PATH,search:n?"?redirect=".concat(n):""}))):a(h(e,t))}))}}function g(){return function(e,t){return s.a.getUserData(t().manager).then((function(t){var n,a,r,i;e((n=t.username,a=t.role,r=t.groupSystemRoles,i=t.tenantsRoles,{type:o.fb,username:n,role:a,groupSystemRoles:r,tenantsRoles:i}))}))}}function f(e,t){return function(n,a){var r=function(){n(Object(i.push)(t||(e?l.a.ERROR_PAGE_PATH:l.a.LOGOUT_PAGE_PATH))),n(Object(p.a)()),n(function(e){return{type:o.r,error:e,receivedAt:Date.now()}}(e))};return s.a.logout(a().manager).then(r,r)}}function v(e){return{type:o.bb,maintenance:e,receivedAt:Date.now()}}function E(e){var t=new c.a(e);return function(e){return t.doGet("/maintenance").then((function(t){e(v(t.status))})).catch((function(e){console.error(e)}))}}function y(e,t){var n=new c.a(e);return function(e){return n.doPost("/maintenance/".concat(t?"activate":"deactivate")).then((function(n){e(v(n.status)),e(Object(i.push)(t?l.a.MAINTENANCE_PAGE_PATH:l.a.HOME_PAGE_PATH))}))}}function b(e){return{type:o.T,activeExecutions:e}}function w(e){var t=new c.a(e);return function(e){var n=[].concat(r()(u.a.WAITING_EXECUTION_STATUSES),r()(u.a.ACTIVE_EXECUTION_STATUSES));return t.doGet("/executions?_include=id,workflow_id,status,status_display,blueprint_id,deployment_id",{status:n}).then((function(t){e(b(t))}))}}function C(e,t,n){var a=new c.a(e);return function(e){return a.doPost("/executions/".concat(t.id),null,{deployment_id:t.deployment_id,action:n}).then((function(){e(function(e,t){return{type:o.g,execution:e,action:t}}(t,n))}))}}n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return E})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return C}))},735:function(e,t,n){var a=n(1303);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(79)(a,r);a.locals&&(e.exports=a.locals)},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a,r=n(24),i=n.n(r),o=n(5),s=n.n(o),l=n(6),c=n.n(l),u=n(2),p=n.n(u),d=n(33),h=n.n(d),m=function(){function e(){s()(this,e)}return c()(e,null,[{key:"isCancelledExecution",value:function(e){return"cancelled"===e.status}},{key:"isWaitingExecution",value:function(t){return h.a.includes(e.WAITING_EXECUTION_STATUSES,t.status)}},{key:"isFailedExecution",value:function(e){return"failed"===e.status}},{key:"isSuccessfulExecution",value:function(e){return"terminated"===e.status}},{key:"isUpdateExecution",value:function(e){return"update"===e.workflow_id}},{key:"isActiveExecution",value:function(t){return h.a.includes(e.ACTIVE_EXECUTION_STATUSES,t.status)}},{key:"getExecutionStatusGroup",value:function(t){return e.isFailedExecution(t)?e.EXECUTION_FAILED:e.isSuccessfulExecution(t)?e.EXECUTION_SUCCESSFUL:e.isCancelledExecution(t)?e.EXECUTION_CANCELLED:e.isWaitingExecution(t)?e.EXECUTION_WAITING:e.EXECUTION_IN_PROGRESS}},{key:"getExecutionStatusIconParams",value:function(t){return e.STATUS_ICON_PARAMS[e.getExecutionStatusGroup(t)]}}]),e}();p()(m,"FORCE_RESUME_ACTION","force-resume"),p()(m,"RESUME_ACTION","resume"),p()(m,"CANCEL_ACTION","cancel"),p()(m,"FORCE_CANCEL_ACTION","force-cancel"),p()(m,"KILL_CANCEL_ACTION","kill"),p()(m,"EXECUTION_SUCCESSFUL","success"),p()(m,"EXECUTION_FAILED","failed"),p()(m,"EXECUTION_CANCELLED","cancelled"),p()(m,"EXECUTION_WAITING","waiting"),p()(m,"EXECUTION_IN_PROGRESS","inprogress"),p()(m,"STATUS_ICON_PARAMS",(a={},p()(a,m.EXECUTION_SUCCESSFUL,{name:"checkmark",color:"green",loading:!1}),p()(a,m.EXECUTION_FAILED,{name:"remove",color:"red",loading:!1}),p()(a,m.EXECUTION_CANCELLED,{name:"ban",color:"orange",loading:!1}),p()(a,m.EXECUTION_WAITING,{name:"clock",color:"black",loading:!1}),p()(a,m.EXECUTION_IN_PROGRESS,{name:"spinner",color:"yellow",loading:!0}),a)),p()(m,"EXECUTION_STATUSES",["terminated","failed","cancelled","scheduled","queued","pending","started","cancelling","force_cancelling","kill_cancelling"]),p()(m,"WAITING_EXECUTION_STATUSES",["scheduled","queued"]),p()(m,"END_EXECUTION_STATUSES",["terminated","failed","cancelled"]),p()(m,"ACTIVE_EXECUTION_STATUSES",h.a.difference(m.EXECUTION_STATUSES,[].concat(i()(m.END_EXECUTION_STATUSES),i()(m.WAITING_EXECUTION_STATUSES))))},789:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n(7),r=n.n(a),i=n(113),o=n.n(i),s=n(5),l=n.n(s),c=n(6),u=n.n(c),p=n(9),d=n.n(p),h=n(8),m=n.n(h),g=n(10),f=n.n(g),v=n(2),E=n.n(v),y=n(0),b=n.n(y),w=n(1),C=n.n(w),O=n(191),P=n(3),T=function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return!_.isEqual(this.props,e)}},{key:"getFieldWrapper",value:function(e){var n=e.children,a=e.error,i=e.label,s=e.help,l=o()(e,["children","error","label","help"]);return C.a.createElement(O.a.Field,r()({},l,{error:!!a}),t.getLabel(i,s),n)}},{key:"render",value:function(){return _.isEmpty(this.props.label)&&!_.isEmpty(this.props.help)?C.a.createElement(P.PopupHelp,{trigger:this.getFieldWrapper(this.props),content:this.props.help}):this.getFieldWrapper(this.props)}}],[{key:"getLabel",value:function(e,t){return _.isEmpty(e)?null:C.a.createElement("label",null,e,!_.isEmpty(t)&&C.a.createElement("span",null,"",C.a.createElement(P.PopupHelp,{content:t})))}}]),t}(w.Component);E()(T,"propTypes",{error:b.a.any,help:b.a.oneOfType([b.a.string,b.a.element]),label:b.a.string,required:b.a.bool}),E()(T,"defaultProps",{error:!1,help:"",label:"",required:!1})},790:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(7),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),_=n(827),w=n(3),C=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=w.Form.Field.getLabel(this.props.label,this.props.help);return b.a.createElement(_.a,r()({},this.props,{label:e}))}}]),t}(y.Component);f()(C,"propTypes",{label:E.a.string,help:E.a.string}),f()(C,"defaultProps",{label:"",help:""})},791:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(1),m=n.n(h),g=n(191),f=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return m.a.createElement(g.a.Group,this.props)}}]),t}(h.Component)},792:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(7),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),w=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return b.a.createElement("h4",r()({className:"ui dividing header ".concat(this.props.className)},_.omit(this.props,_.keys(t.propTypes))),this.props.children)}}]),t}(y.Component);f()(w,"propTypes",{children:E.a.any,className:E.a.string}),f()(w,"defaultProps",{className:""})},793:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(1452),b=n(328),_=function(e){function t(e,n){return r()(this,t),l()(this,u()(t).call(this,e,n))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement(y.a,{value:this.props.value,name:"".concat(this.props.name,"Url"),placeholder:this.props.placeholder,onChange:this.props.onChangeUrl,onFocus:this.props.onFocusUrl,onBlur:this.props.onBlurUrl,action:!0,labelPosition:"left"},this.props.label,E.a.createElement("input",null),E.a.createElement(b.a,{name:"".concat(this.props.name,"File"),ref:this.props.fileInputRef,onChange:this.props.onChangeFile,onReset:this.props.onResetFile,showInput:!1}))}}]),t}(v.Component);m()(_,"propTypes",{name:f.a.string.isRequired,value:f.a.string.isRequired,placeholder:f.a.string.isRequired,label:f.a.any,onChangeUrl:f.a.func.isRequired,onFocusUrl:f.a.func.isRequired,onBlurUrl:f.a.func.isRequired,onChangeFile:f.a.func.isRequired,onResetFile:f.a.func.isRequired,fileInputRef:f.a.object}),m()(_,"defaultProps",{label:null,fileInputRef:null})},794:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(825),b=(n(1301),n(735),function(e){function t(e,n){return r()(this,t),l()(this,u()(t).call(this,e,n))}return d()(t,e),o()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(e,this.props)||!_.isEqual(t,this.state)}},{key:"_handleSelectedDateChange",value:function(e){return this.props.onChange(e,{name:this.props.name,value:e})}},{key:"getMinMaxTime",value:function(e,t){var n=this.props.value||moment();return e&&e.isSame(n,"day")?e:t}},{key:"getMinTime",value:function(){return this.getMinMaxTime(this.props.minDate,moment().startOf("day"))}},{key:"getMaxTime",value:function(){return this.getMinMaxTime(this.props.maxDate,moment().endOf("day"))}},{key:"render",value:function(){return E.a.createElement(y.a,{selected:this.props.value,onChange:this._handleSelectedDateChange.bind(this),startDate:this.props.startDate,endDate:this.props.endDate,minDate:this.props.minDate,maxDate:this.props.maxDate,minTime:this.getMinTime(),maxTime:this.getMaxTime(),timeFormat:"HH:mm",showTimeSelect:!0,timeIntervals:this.props.timeIntervals,inline:!0,calendarClassName:"input-time-filter",fixedHeight:!0})}}]),t}(v.Component));m()(b,"propTypes",{name:f.a.string.isRequired,value:f.a.any,onChange:f.a.func,minDate:f.a.object,maxDate:f.a.object,startDate:f.a.object,endDate:f.a.object,timeIntervals:f.a.number}),m()(b,"defaultProps",{value:null,onChange:function(){},minDate:void 0,maxDate:void 0,startDate:void 0,endDate:void 0,timeIntervals:60})},797:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n(67),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),_=n(59),w=n(341),C=n(33),O=n.n(C),P=function(e){function t(e,n){var a;return o()(this,t),(a=u()(this,d()(t).call(this,e,n))).state=t.initialState,a}return m()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!O.a.isEqual(e,this.props)||!O.a.isEqual(t,this.state)}},{key:"componentDidMount",value:function(){this._parseAndSetState(this.props.value)}},{key:"componentDidUpdate",value:function(e){O.a.isEqual(this.props.value,e.value)||this._parseAndSetState(this.props.value)}},{key:"_handleDropdownChange",value:function(e,t){var n=this;this.setState(f()({},t.name,t.value),(function(){return n.props.onChange(e,{name:n.props.name,value:"".concat(n.state.hours,":").concat(n.state.minutes)})}))}},{key:"_parseAndSetState",value:function(e){var t=O.a.split(e,":"),n=r()(t,2),a=n[0],i=n[1];this.setState({hours:a,minutes:i})}},{key:"render",value:function(){return b.a.createElement(_.a,{compact:!0,basic:"very"},b.a.createElement(_.a.Body,null,b.a.createElement(_.a.Row,null,b.a.createElement(_.a.Cell,{textAlign:"left"},b.a.createElement(w.a,{selection:!0,options:t.HOURS_OPTIONS,name:"hours",fluid:!0,value:this.state.hours,onChange:this._handleDropdownChange.bind(this)})),b.a.createElement(_.a.Cell,{textAlign:"center"},":"),b.a.createElement(_.a.Cell,{textAlign:"right"},b.a.createElement(w.a,{selection:!0,options:t.MINUTES_OPTIONS,name:"minutes",fluid:!0,value:this.state.minutes,onChange:this._handleDropdownChange.bind(this)})))))}}]),t}(y.Component);f()(P,"propTypes",{name:E.a.string.isRequired,value:E.a.string,onChange:E.a.func}),f()(P,"defaultProps",{value:"00:00",onChange:function(){}}),f()(P,"initialState",{hours:"00",minutes:"00"}),f()(P,"generateOptions",(function(e,t,n,a){return O.a.range(e,t,n).map((function(e){var t=O.a.padStart(e,a,"0");return{key:t,text:t,value:t}}))})),f()(P,"HOURS_OPTIONS",P.generateOptions(0,24,1,2)),f()(P,"MINUTES_OPTIONS",P.generateOptions(0,60,1,2))},798:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var a=n(7),r=n.n(a),i=n(67),o=n.n(i),s=n(5),l=n.n(s),c=n(6),u=n.n(c),p=n(9),d=n.n(p),h=n(8),m=n.n(h),g=n(10),f=n.n(g),v=n(2),E=n.n(v),y=n(0),b=n.n(y),w=n(1),C=n.n(w),O=n(59),P=n(92),T=n(114),S=n(35);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){function t(e,n){var a;return l()(this,t),(a=d()(this,m()(t).call(this,e,n))).state=t.initialState(e),a}return f()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.props)!==JSON.stringify(e)||JSON.stringify(this.state)!==JSON.stringify(t)}},{key:"componentDidUpdate",value:function(e){JSON.stringify(e.value)===JSON.stringify(this.props.value)&&e.rows===this.props.rows||this.setState(t.initialState(this.props))}},{key:"_handleInputChange",value:function(e,t){var n=_.split(t.name,"|"),a=o()(n,2),r=a[0],i=a[1],s=T.a.formatValue(t.genericType,t.genericType===T.a.BOOLEAN_TYPE?t.checked:t.value),l=I({},this.state.fields,E()({},r,I({},this.state.fields[r],E()({},i,s))));this.setState({fields:l});var c={name:this.props.name,genericType:T.a.EDITABLE_TABLE_TYPE,value:l};this.props.onChange(e,c)}},{key:"render",value:function(){var e=this;return C.a.createElement(O.a,{celled:!0},C.a.createElement(O.a.Header,null,C.a.createElement(O.a.Row,null,this.props.rows>1&&C.a.createElement(O.a.HeaderCell,{key:"-1",textAlign:"center"},"No."),_.map(this.props.columns,(function(e,t){return C.a.createElement(O.a.HeaderCell,{key:t,textAlign:"center"},C.a.createElement("label",null,e.label,"",e.description&&C.a.createElement(S.a,null,C.a.createElement(S.a.Trigger,null,C.a.createElement(P.a,{name:"help circle"})),e.description)))})))),C.a.createElement(O.a.Body,null,_.times(this.props.rows,(function(t){return C.a.createElement(O.a.Row,{key:t},e.props.rows>1&&C.a.createElement(O.a.Cell,{key:"".concat(t,"|no"),textAlign:"center"},t+1),_.map(e.props.columns,(function(n){return C.a.createElement(O.a.Cell,{key:"".concat(t,"|").concat(n.name)},C.a.createElement(T.a,r()({},n,{type:n.type,description:"",label:"",name:"".concat(t,"|").concat(n.name),value:e.state.fields[t][n.name],onChange:e._handleInputChange.bind(e)})))})))}))))}}]),t}(w.Component);E()(D,"propTypes",{name:b.a.string.isRequired,rows:b.a.number.isRequired,columns:b.a.array.isRequired,value:b.a.object,onChange:b.a.func}),E()(D,"defaultProps",{value:{},onChange:function(){}}),E()(D,"initialState",(function(e){for(var t=[],n=0;n<e.rows;n++){t[n]={};for(var a=0;a<e.columns.length;a++){var r=e.columns[a].name;t[n][r]=e.value&&e.value[n]?e.value[n][r]:""}}return{fields:t}}))},799:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(800),b=n(739),_=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_handleInputChange",value:function(e,t){this.props.onChange(t,{name:this.props.name,value:e.hex})}},{key:"render",value:function(){var e=b(this.props.value);return E.a.createElement(y.CompactPicker,{color:e.toHsl(),onChangeComplete:this._handleInputChange.bind(this)})}}]),t}(v.Component);m()(_,"propTypes",{name:f.a.string,value:f.a.string,onChange:f.a.func}),m()(_,"defaultProps",{name:"",value:"#000000",onChange:function(){}})},801:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(4),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),w=n(802),C=n.n(w),O=n(1453),P=n(3),T=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e){return!_.isEqual(e,this.props)}},{key:"render",value:function(){return b.a.createElement("div",{style:this.props.divStyle},b.a.createElement(C.a,{src:this.props.value,name:null,enableClipboard:!1,defaultValue:"",onAdd:this.props.onChange,onEdit:this.props.onChange,onDelete:this.props.onChange}))}}]),t}(y.Component);f()(T,"propTypes",{value:E.a.object,divStyle:E.a.object,onChange:E.a.func}),f()(T,"defaultProps",{value:{},divStyle:{},onChange:_.noop});var S=function(e){function t(e,n){var a;return o()(this,t),(a=u()(this,d()(t).call(this,e,n))).state={isRawView:!0,isParsableToJson:!1,isMouseOver:!1},a.onChangeJson=a.onChangeJson.bind(r()(a)),a.onChangeString=a.onChangeString.bind(r()(a)),a.switchView=a.switchView.bind(r()(a)),a}return m()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(e,this.props)||!_.isEqual(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.isParsableToJson();this.setState({isParsableToJson:e,isRawView:!e})}},{key:"componentDidUpdate",value:function(e){if(!_.isEqual(this.props.value,e.value)){var t=this.isParsableToJson();this.setState({isParsableToJson:t,isRawView:this.state.isRawView?this.state.isRawView:!t})}}},{key:"isParsableToJson",value:function(){var e=this.props.value,t=!0;if(_.isString(e))try{var n=JSON.parse(e);t="[object Object]"===Object.prototype.toString.call(n)||Array.isArray(n)}catch(e){t=!1}else t=!1;return t}},{key:"onChangeJson",value:function(e){var t=Stage.Utils.Json;this.props.onChange(null,{name:this.props.name,value:t.getStringValue(e.updated_src)})}},{key:"onChangeString",value:function(e,t){var n=t.name,a=t.value;this.props.onChange(e,{name:n,value:a})}},{key:"switchView",value:function(){this.setState({isRawView:!this.state.isRawView})}},{key:"render",value:function(){var e=this,t=Stage.Utils.Json,n=this.props.value,a=t.getStringValue(n),r=t.getTypedValue(n),i={backgroundColor:this.props.error?"#fff6f6":"",border:"1px solid ".concat(this.props.error?"rgb(224, 180, 180)":"rgba(34,36,38,.15)"),borderRadius:4,padding:10};return b.a.createElement("div",{style:{position:"relative"},onMouseEnter:function(){return e.setState({isMouseOver:!0})},onMouseLeave:function(){return e.setState({isMouseOver:!1})}},this.state.isRawView?b.a.createElement(O.a,{name:this.props.name,value:a,onChange:this.onChangeString}):b.a.createElement(T,{value:r,divStyle:i,onChange:this.onChangeJson}),this.state.isMouseOver&&b.a.createElement(P.Popup,null,b.a.createElement(P.Popup.Trigger,null,b.a.createElement(P.Icon,{name:"edit",link:this.state.isParsableToJson,disabled:!this.state.isParsableToJson,style:{position:"absolute",top:10,right:30},onClick:this.state.isParsableToJson?this.switchView:_.noop})),b.a.createElement(P.Popup.Content,null,this.state.isParsableToJson?"Switch to ".concat(this.state.isRawView?"Rich View":"Text View"):"Cannot switch to Rich View. Text cannot be parsed to JSON.")),this.state.isMouseOver&&!this.state.isRawView&&b.a.createElement(P.Popup,{wide:"very"},b.a.createElement(P.Popup.Trigger,null,b.a.createElement(P.Icon,{name:"info",style:{position:"absolute",top:10,right:50,cursor:"pointer"}})),b.a.createElement(P.Popup.Content,null,b.a.createElement(P.List,null,b.a.createElement(P.List.Item,null,b.a.createElement(P.Label,null,"Ctrl + Click")," to enter edit mode"),b.a.createElement(P.List.Item,null,"In edit mode ",b.a.createElement(P.Label,null,"Ctrl + Enter")," to submit changes"),b.a.createElement(P.List.Item,null,"In edit mode ",b.a.createElement(P.Label,null,"Escape")," to cancel changes")))))}}]),t}(y.Component);f()(S,"propTypes",{name:E.a.string.isRequired,value:E.a.any,error:E.a.bool,onChange:E.a.func}),f()(S,"defaultProps",{value:"{}",error:!1,onChange:_.noop})},803:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return _}));var r=n(5),i=n.n(r),o=n(6),s=n.n(o),l=n(9),c=n.n(l),u=n(8),p=n.n(u),d=n(10),h=n.n(d),m=n(2),g=n.n(m),f=n(0),v=n.n(f),E=n(1),y=n.n(E);function b(e){return e*Math.PI/180}var _=function(t){function n(e){var t;return i()(this,n),(t=c()(this,p()(n).call(this,e))).svgRef=y.a.createRef(),t}return h()(n,t),s()(n,[{key:"_buildProps",value:function(e){var t=e.clientWidth,n=e.clientHeight,a=t/2;n<a&&(a=n),a*=.93;var r=this.props.maxAngle-this.props.minAngle,i=.4*a,o=this.props.max-this.props.min,s=(this.props.value-this.props.min)/o,l=.8*(a-i),c=.15*i;return{radius:a,range:r,ringWidth:i,valueRange:o,valRatio:s=s<0?0:s>1?1:s,isHigh:this.props.high&&this.props.value>this.props.high,isLow:this.props.low&&this.props.value<this.props.low,arcPadding:c,value:this.props.value,minAngle:this.props.minAngle,maxAngle:this.props.maxAngle,ticksNumber:7,minValue:this.props.min,maxValue:this.props.max,textSize:l,tickTextSize:c}}},{key:"componentDidMount",value:function(){var t=this;this._initGauge(this.svgRef.current),e(window).resize((function(){return t._initGauge(t.svgRef.current)}))}},{key:"componentWillUnmount",value:function(){e(window).off("resize")}},{key:"componentDidUpdate",value:function(){var e=this;setTimeout((function(){e._initGauge(e.svgRef.current)}),100)}},{key:"_initGauge",value:function(e){if(null!==e){var t=this._buildProps(e),n=a.select(e);n.selectAll("*").remove(),n.attr("width",2*t.radius);var r=a.svg.arc().innerRadius(t.radius-t.ringWidth-t.arcPadding).outerRadius(t.radius-t.arcPadding).startAngle(b(t.minAngle+t.valRatio*t.range)).endAngle(b(t.maxAngle)),i=a.svg.arc().innerRadius(t.radius-t.ringWidth-t.arcPadding).outerRadius(t.radius-t.arcPadding).startAngle(b(t.minAngle)).endAngle(b(t.minAngle+t.valRatio*t.range)),o=n.append("g").attr("class","arc").attr("transform","translate(".concat(t.radius,",").concat(t.radius,")"));o.append("path").attr("class","arcBackground backgroundColor").attr("d",r),o.append("path").attr("class","arcValue").classed("highColor",t.isHigh).classed("lowColor",t.isLow).classed("okColor",!t.isLow&&!t.isHigh).attr("d",i);var s=a.scale.linear().range([0,1]).domain([t.minValue,t.maxValue]),l=s.ticks(t.ticksNumber);n.append("g").attr("class","ticks").attr("transform","translate(".concat(t.radius,",").concat(t.radius,")")).selectAll("text").data(l).enter().append("text").attr("transform",(function(e){var n=s(e),a=t.minAngle+n*t.range;return"rotate(".concat(a,") translate(0,").concat(-t.radius+t.arcPadding-3,")")})).attr("font-size",t.tickTextSize).text((function(e){return e})),n.append("text").attr("class","valueText").attr("transform","translate(".concat(t.radius,",").concat(t.radius,")")).attr("text-anchor","middle").attr("font-size",t.textSize).text(t.value)}}},{key:"render",value:function(){return y.a.createElement("div",{className:"gaugeContainer"},y.a.createElement("svg",{className:"gauge",ref:this.svgRef}))}}]),n}(E.Component);g()(_,"propTypes",{value:v.a.number.isRequired,min:v.a.number.isRequired,max:v.a.number.isRequired,high:v.a.number,low:v.a.number,minAngle:v.a.number,maxAngle:v.a.number}),g()(_,"defaultProps",{minAngle:-90,maxAngle:90})}).call(this,n(43),n(550))},815:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(256),l=n.n(s),c=n(19),u=function(){function e(){r()(this,e)}return o()(e,null,[{key:"load",value:function(){return l()(c.a.Url.url("/config")).then((function(e){return e.json()})).catch((function(e){console.log("Error fetching configuration file",e)}))}}]),e}()},816:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(333),b=n(14),w=n(334),C=n(3),O=function(t){function n(){return r()(this,n),l()(this,u()(n).apply(this,arguments))}return d()(n,t),o()(n,[{key:"componentWillUnmount",value:function(){this.props.onClear()}},{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props.page,e.page)||this.props.isPageEditMode!==e.isPageEditMode||this.props.showDrillDownWarn!==e.showDrillDownWarn}},{key:"render",value:function(){var t=this.props.isPageEditMode?b.a.PAGE_MANAGEMENT_EDIT:b.a.PAGE_MANAGEMENT_VIEW,n=_.findIndex(this.props.page.widgets,{maximized:!0})>=0;return e("body").css({overflow:n?"hidden":"inherit"}).scrollTop(0),E.a.createElement("div",{className:"main"},E.a.createElement("div",{className:"sidebarContainer"},E.a.createElement("div",{className:"ui visible left vertical sidebar menu small basic"},E.a.createElement("div",{className:"pages",ref:"pages"},E.a.createElement("div",{className:"item link pageMenuItem"},this.props.page.name),E.a.createElement("div",{className:"item link pageMenuItem"})))),E.a.createElement("div",{className:"page"},E.a.createElement(C.Segment,{basic:!0,loading:this.props.isLoading,className:"fullHeight ".concat(n?"maximizeWidget":"")},E.a.createElement("div",null,E.a.createElement(C.Breadcrumb,{className:"breadcrumbLineHeight"},E.a.createElement(C.Breadcrumb.Section,{onClick:this.props.onTemplateNavigate},"Template management"),E.a.createElement(C.Breadcrumb.Divider,null),E.a.createElement(C.Breadcrumb.Section,{active:!0},E.a.createElement(C.EditableLabel,{text:this.props.page.name,placeHolder:"You must fill a page name",className:"section active pageTitle",isEditEnable:this.props.isPageEditMode,onEditDone:this.props.onPageNameChange})))),E.a.createElement(C.Divider,null),E.a.createElement(C.ErrorMessage,{error:this.props.error}),E.a.createElement(y.a,{widgets:this.props.page.widgets,onWidgetsGridDataChange:this.props.onWidgetsGridDataChange,pageId:this.props.page.id,isEditMode:this.props.isPageEditMode,pageManagementMode:t}),E.a.createElement(w.a,{isVisible:!0,onDismiss:this.props.onTemplateNavigate,onPageSave:this.props.onPageSave,page:this.props.page,pageManagementMode:t}))),E.a.createElement(C.Alert,{open:this.props.showDrillDownWarn,content:"Drill down action is not available in the template management",onDismiss:this.props.onCloseDrillDownWarning}))}}]),n}(v.Component);m()(O,"propTypes",{isPageEditMode:f.a.bool.isRequired,page:f.a.object,onClose:f.a.func.isRequired,onClear:f.a.func.isRequired,onTemplateNavigate:f.a.func.isRequired,onWidgetsGridDataChange:f.a.func.isRequired,onPageSave:f.a.func.isRequired,showDrillDownWarn:f.a.bool,onCloseDrillDownWarning:f.a.func})}).call(this,n(43))},817:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(151),b=n(3),w=n(818),C=function(t){function n(e){var t;return r()(this,n),(t=l()(this,u()(n).call(this,e))).state={loading:!1},t.loadingTimeout=null,t.pollingTimeout=null,t.fetchDataPromise=null,t.mounted=!1,t}return d()(n,t),o()(n,[{key:"_getToolbox",value:function(){return Object(y.b)(this._fetchData.bind(this),this._loadingIndicator.bind(this),this.props.widget)}},{key:"_beforeFetch",value:function(){this._stopPolling(),this._showLoading()}},{key:"_afterFetch",value:function(){this._hideLoading(),this._startPolling()}},{key:"_loadingIndicator",value:function(e){this.mounted&&this.setState({loading:e})}},{key:"_showLoading",value:function(){var e=this;clearTimeout(this.loadingTimeout),this.loadingTimeout=setTimeout((function(){return e._loadingIndicator(!0)}),1e3)}},{key:"_hideLoading",value:function(){clearTimeout(this.loadingTimeout),this.state.loading&&this._loadingIndicator(!1)}},{key:"_stopPolling",value:function(){clearTimeout(this.pollingTimeout),this.fetchDataPromise&&this.fetchDataPromise.cancel()}},{key:"_startPolling",value:function(){var e=this;this._stopPolling();var t=this.props.widget.configuration.pollingTime||0;try{t=Number.isInteger(t)?t:parseInt(t)}catch(e){console.log("Polling interval doesnt have a valid value, using zero. Value is: ".concat(this.props.widget.configuration.pollingTime)),t=0}t>0&&this.mounted&&(console.log("Polling widget '".concat(this.props.widget.name,"' - time interval: ").concat(t," sec")),this.pollingTimeout=setTimeout((function(){e._fetchData()}),1e3*t))}},{key:"_updateConfiguration",value:function(e){e.gridParams&&e.gridParams.pageSize&&e.gridParams.pageSize!==this.props.widget.configuration.pageSize&&this.props.onWidgetConfigUpdate({pageSize:e.gridParams.pageSize})}},{key:"_fetchData",value:function(e){var t=this;if(e&&(this._paramsHandler.updateGridParams(e.gridParams),this._updateConfiguration(e)),this.fetchDataPromise&&this.fetchDataPromise.cancel(),this.props.widget.definition.fetchUrl||_.isFunction(this.props.widget.definition.fetchData)){this._beforeFetch();var n=this.props.fetchWidgetData(this.props.widget,this._getToolbox(),this._paramsHandler);return this.fetchDataPromise=n.cancelablePromise,n.waitForPromise.then((function(e){if(e){var n=[];n=e.metadata?[e.metadata]:_.filter(e,(function(e){if(e.metadata)return e.metadata})),_.each(n,(function(e){e.gridParams=t._paramsHandler.getGridParams()}))}console.log("Widget '".concat(t.props.widget.name,"' data fetched")),t._afterFetch()})).catch((function(e){e.isCanceled?console.log("Widget '".concat(t.props.widget.name,"' data fetch canceled")):t._afterFetch()}))}return Promise.resolve()}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=!1;e.widget.configuration&&this.props.widget.configuration&&_.each(this.props.widget.configuration,(function(t,r){if(e.widget.configuration[r]!==t)return n._paramsHandler.update(n.props.widget),a=!0,!1})),(e.manager.tenants.selected!==this.props.manager.tenants.selected||!_.isEmpty(e.data)&&_.isEmpty(this.props.data)||this._paramsHandler.updateFetchParams())&&(a=!0),a&&this._fetchData()}},{key:"componentDidMount",value:function(){this.mounted=!0,this._startPolling(),console.log("Widget '".concat(this.props.widget.name,"' mounted")),this._paramsHandler=new w.a(this.props.widget,this._getToolbox()),this._fetchData()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this._stopPolling(),console.log("Widget '".concat(this.props.widget.name,"' unmounts"))}},{key:"shouldComponentUpdate",value:function(e,t){return!(_.isEqual(this.props.widget,e.widget)&&_.isEqual(this.props.context,e.context)&&_.isEqual(this.props.manager,e.manager)&&_.isEqual(this.props.data,e.data)&&_.isEqual(this.props.pageId,e.pageId)&&_.isEqual(this.state,t))}},{key:"renderWidget",value:function(){var e="Loading...";if(this.props.widget.definition&&this.props.widget.definition.render)try{e=this.props.widget.definition.render(this.props.widget,this.props.data.data,this.props.data.error,this._getToolbox())}catch(e){console.error("Error rendering widget - ".concat(e.message),e.stack)}return{__html:e}}},{key:"renderReact",value:function(){if(this.props.data.error)return E.a.createElement(b.ErrorMessage,{error:this.props.data.error,header:"An unexpected error occurred",autoHide:!0});if(this.props.widget.definition&&this.props.widget.definition.render)try{return this.props.widget.definition.render(this.props.widget,this.props.data.data,this.props.data.error,this._getToolbox())}catch(e){return console.error("Error rendering widget - ".concat(e.message),e.stack),E.a.createElement(b.ErrorMessage,{error:"Error rendering widget: ".concat(e.message),autoHide:!0})}return E.a.createElement("div",null)}},{key:"attachEvents",value:function(t){var n=this;if(this.props.widget.definition&&this.props.widget.definition.events)try{_.each(this.props.widget.definition.events,(function(a){a&&a.selector&&a.event&&a.fn?(e(t).find(a.selector).off(a.event),e(t).find(a.selector).on(a.event,(function(e){a.fn(e,n.props.widget,n._getToolbox())}))):console.warn("Cannot attach event, missing data. Event data is ",a)}),this)}catch(e){console.error("Error attaching events to widget",e)}this.props.widget.definition.postRender&&this.props.widget.definition.postRender(e(t),this.props.widget,this.props.data.data,this._getToolbox())}},{key:"render",value:function(){var e=this;return E.a.createElement("div",null,E.a.createElement("div",{className:"ui ".concat(this.state.loading?"active":""," small inline loader widgetLoader ").concat(this.props.widget.definition.showHeader?"header":"noheader")}),this.props.widget.definition.isReact?E.a.createElement("div",{className:"widgetContent".concat(this.props.widget.definition.showHeader?"":" noHeader ").concat(this.props.widget.definition.showBorder?"":" noBorder ")},this.renderReact()):E.a.createElement("div",{className:"widgetContent".concat(this.props.widget.definition.showHeader?"":" noHeader"),dangerouslySetInnerHTML:this.renderWidget(),ref:function(t){return e.attachEvents(t)}}))}}]),n}(v.Component);m()(C,"propTypes",{widget:f.a.object.isRequired,manager:f.a.object.isRequired,data:f.a.object.isRequired,onWidgetConfigUpdate:f.a.func,fetchWidgetData:f.a.func.isRequired,pageId:f.a.string.isRequired})}).call(this,n(43))},818:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var u=function(){function e(t,n){o()(this,e),this._widget=t,this._toolbox=n,this.fetchParams={gridParams:{currentPage:1,pageSize:this._widget.configuration.pageSize,sortColumn:this._widget.configuration.sortColumn,sortAscending:this._widget.configuration.sortAscending},filterParams:{}},this._runFetchParamsIfNeeded()}return l()(e,[{key:"update",value:function(e){this._widget=e}},{key:"buildParamsToSend",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._mapGridParamsToParams(),{},this._buildFilterParams());return _.isEmpty(e)||(e=_.replace(e,"gridParams","_sort,_size,_offset,_search").split(","),t=_.pick(t,e)),t}},{key:"updateFetchParams",value:function(){var e=this.fetchParams.filterParams;return this._runFetchParamsIfNeeded(),!_.isEqual(this.fetchParams.filterParams,e)}},{key:"updateGridParams",value:function(e){Object.assign(this.fetchParams.gridParams,e)}},{key:"_runFetchParamsIfNeeded",value:function(){if(_.isFunction(this._widget.definition.fetchParams))try{this.fetchParams.filterParams=this._widget.definition.fetchParams(this._widget,this._toolbox)}catch(e){throw console.error("Error processing fetch params",e),new Error("Error processing fetch params",e)}}},{key:"_buildFilterParams",value:function(){var e={};return _.forIn(this.fetchParams.filterParams,(function(t,n){!_.isBoolean(t)&&_.isEmpty(t)||(e[n]=t)})),e}},{key:"_mapGridParamsToParams",value:function(){if(_.isEmpty(this.fetchParams.gridParams))return{};var e={};if(_.isFunction(this._widget.definition.mapGridParams))try{e=this._widget.definition.mapGridParams(this.fetchParams.gridParams)}catch(e){throw console.error("Error processing match grid params",e),new Error("Error processing match grid params",e)}else this.fetchParams.gridParams.sortColumn&&(e._sort="".concat(this.fetchParams.gridParams.sortAscending?"":"-").concat(this.fetchParams.gridParams.sortColumn)),this.fetchParams.gridParams._search&&(e._search=this.fetchParams.gridParams._search),this.fetchParams.gridParams.pageSize&&(e._size=this.fetchParams.gridParams.pageSize),this.fetchParams.gridParams.currentPage&&this.fetchParams.gridParams.pageSize&&(e._offset=(this.fetchParams.gridParams.currentPage-1)*this.fetchParams.gridParams.pageSize);return e}},{key:"getGridParams",value:function(){return this.fetchParams.gridParams}}]),e}()},819:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=(n(1447),function(t){function n(e){var t;return r()(this,n),(t=l()(this,u()(n).call(this,e))).pagesRef=E.a.createRef(),t}return d()(n,t),o()(n,[{key:"componentDidMount",value:function(){var t=this;e(this.pagesRef.current).sortable({placeholder:"ui-sortable-placeholder",helper:"clone",forcePlaceholderSize:!0,start:function(e,n){return t.pageIndex=n.item.index()},update:function(e,n){return t.props.onPageReorder(t.pageIndex,n.item.index())}}),this._enableReorderInEditMode()}},{key:"componentDidUpdate",value:function(e,t){this._enableReorderInEditMode()}},{key:"_enableReorderInEditMode",value:function(){this.props.isEditMode?e(this.pagesRef.current).sortable("option","disabled")&&e(this.pagesRef.current).sortable("enable"):e(this.pagesRef.current).sortable("option","disabled")||e(this.pagesRef.current).sortable("disable")}},{key:"render",value:function(){var e=0;return this.props.pages.map((function(t){t.isDrillDown||e++})),E.a.createElement("div",{className:"pages",ref:this.pagesRef},_.filter(this.props.pages,(function(e){return!e.isDrillDown})).map((function(t){var n=this;return E.a.createElement("div",{key:t.id,className:"item link pageMenuItem ".concat(t.id,"PageMenuItem ").concat(this.props.selected===t.id?"active":""),onClick:function(e){e.stopPropagation(),n.props.onPageSelected(t)}},t.name,this.props.isEditMode&&e>1?E.a.createElement("i",{className:"remove link icon small pageRemoveButton",onClick:function(e){e.stopPropagation(),n.props.onPageRemoved(t)}}):"")}),this))}}]),n}(v.Component));m()(y,"propTypes",{onPageSelected:f.a.func.isRequired,onPageRemoved:f.a.func.isRequired,onPageReorder:f.a.func.isRequired,onSidebarClose:f.a.func.isRequired,pages:f.a.array.isRequired,selected:f.a.string,isEditMode:f.a.bool.isRequired})}).call(this,n(43))},820:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(821),b=n(822),w=n(334),C=n(3),O=function(t){function n(){return r()(this,n),l()(this,u()(n).apply(this,arguments))}return d()(n,t),o()(n,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props.page,e.page)||this.props.isEditMode!==e.isEditMode}},{key:"render",value:function(){var t=this,n=_.findIndex(this.props.page.widgets,{maximized:!0})>=0;return e("body").css({overflow:n?"hidden":"inherit"}).scrollTop(0),E.a.createElement("div",{className:"fullHeight ".concat(n?"maximizeWidget":"")},E.a.createElement(b.a,{pagesList:this.props.pagesList,onPageNameChange:this.props.onPageNameChange,isEditMode:this.props.isEditMode,onPageSelected:this.props.onPageSelected}),E.a.createElement("div",null,E.a.createElement(C.EditableLabel,{text:this.props.page.description,placeholder:"Page description",className:"pageDescription",isEditEnable:this.props.isEditMode,onEditDone:function(e){return t.props.onPageDescriptionChange(t.props.page.id,e)}})),E.a.createElement("div",{className:"ui divider"}),E.a.createElement(y.a,{widgets:this.props.page.widgets,pageId:this.props.page.id,onWidgetsGridDataChange:this.props.onWidgetsGridDataChange,isEditMode:this.props.isEditMode||!1}),E.a.createElement(w.a,{isVisible:this.props.isEditMode,onDismiss:this.props.onEditModeExit,page:this.props.page}))}}]),n}(v.Component);m()(O,"propTypes",{page:f.a.object.isRequired,pagesList:f.a.array.isRequired,onPageNameChange:f.a.func.isRequired,onPageDescriptionChange:f.a.func.isRequired,onWidgetsGridDataChange:f.a.func.isRequired,onPageSelected:f.a.func.isRequired,onEditModeExit:f.a.func.isRequired,isEditMode:f.a.bool.isRequired})}).call(this,n(43))},821:function(e,t,n){"use strict";var a=n(21),r=n(333),i=n(19);t.a=Object(a.connect)((function(e,t){var n=e.manager||{},a=t.widgets;return _.isEmpty(a)||(a=a.filter((function(e){return e.definition&&i.a.isUserAuthorized(e.definition.permission,n)&&i.a.isWidgetPermitted(e.definition.supportedEditions,n)}))),{pageId:t.pageId,widgets:a,onWidgetsGridDataChange:t.onWidgetsGridDataChange,isEditMode:t.isEditMode,pageManagementMode:t.pageManagementMode}}),(function(e,t){return{}}))(r.a)},822:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(24),r=n.n(a),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(3);function u(e){var t=e.isEditMode,n=e.onPageNameChange,a=e.onPageSelected,i=e.pagesList,o=[],s=_(r()(i)).reverse().value();return _.each(s,(function(e,r){r!==s.length-1?(o.push(l.a.createElement(c.Breadcrumb.Section,{link:!0,key:e.id,onClick:function(){return a(e,s,r)}},e.name)),o.push(l.a.createElement(c.Breadcrumb.Divider,{key:"d_".concat(e.id),icon:"right angle"}))):o.push(l.a.createElement(c.EditableLabel,{key:e.id,text:e.name,placeholder:"You must fill a page name",className:"section active pageTitle",isEditEnable:t,onEditDone:function(t){return n(e,t)}}))})),l.a.createElement(c.Breadcrumb,{className:"breadcrumbLineHeight"},o)}u.propTypes={isEditMode:o.a.bool.isRequired,onPageNameChange:o.a.func.isRequired,onPageSelected:o.a.func.isRequired,pagesList:o.a.arrayOf(o.a.shape({id:o.a.string.isRequired,name:o.a.string.isRequired})).isRequired}},823:function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(21),o=n(5),s=n.n(o),l=n(6),c=n.n(l),u=n(9),p=n.n(u),d=n(8),h=n.n(d),m=n(10),g=n.n(m),f=n(1455),v=n(1475),E=n(1476),y=n(14),b=n(2),w=n.n(b),C=n(0),O=n.n(C),P=n(100),T=n(3),S=function(e){function t(e){var n;return s()(this,t),(n=p()(this,h()(t).call(this,e))).state={search:""},n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){P.a.on("menu.tenants:refresh",this.props.onTenantsRefresh,this)}},{key:"onTenantSelected",value:function(e){this.props.onTenantChange(e.name)}},{key:"onSearchChange",value:function(e){this.setState({search:e})}},{key:"render",value:function(){var e=this,t=this.props.manager.tenants,n=this.state.search;if(!t||!t.items||t.isFetching)return r.a.createElement(T.Loader,{active:!0,inverted:!0,inline:!0,size:"small"});var a=_(t.items).filter((function(e){return _.includes(e.name,n)})).sortBy("name").value(),i=t.selected||_.get(t,"items[0].name"),o=r.a.createElement("span",null,r.a.createElement(T.Icon,{name:"male"}),r.a.createElement("span",null,i||"No Tenants"));return r.a.createElement(T.Dropdown,{item:!0,pointing:"top right",className:"tenantsMenu",trigger:o,onClose:function(){return e.onSearchChange("")}},r.a.createElement(T.Dropdown.Menu,null,r.a.createElement(T.Input,{icon:"search",iconPosition:"left",className:"search",value:n,onClick:function(e){return e.stopPropagation()},onChange:function(t,n){var a=n.value;t.stopPropagation(),e.onSearchChange(a)}}),r.a.createElement(T.Dropdown.Menu,{scrolling:!0},a.map((function(t){return r.a.createElement(T.Dropdown.Item,{key:t.name,text:t.name,selected:t.name===i,active:t.name===i,onClick:e.onTenantSelected.bind(e,t)})})))))}}]),t}(a.Component);w()(S,"propTypes",{manager:O.a.object.isRequired,onTenantChange:O.a.func.isRequired,onTenantsRefresh:O.a.func.isRequired});var k=n(257),I=Object(i.connect)((function(e,t){return{manager:t.manager}}),(function(e,t){return{onTenantChange:function(t){e(Object(k.a)(t))},onTenantsRefresh:function(){e(Object(k.b)(t.manager))}}}))(S),D=n(327);function A(e){var t=e.systemStatus;return r.a.createElement(D.a,{status:t})}A.propTypes={systemStatus:O.a.string},A.defaultProps={systemStatus:""};var j=Object(i.connect)((function(e){return{systemStatus:_.get(e.manager,"clusterStatus.status"),maintenanceStatus:_.get(e.manager,"maintenance")}}),(function(){return{}}))(A);function R(e){var t=e.onStatusRefresh,n=e.isFetching;return r.a.createElement("div",{style:{verticalAlign:"middle",overflow:"hidden"}},r.a.createElement(T.Header,{floated:"left",style:{width:"auto",marginTop:"4px"},size:"medium"},r.a.createElement(j,null),"System Status"),r.a.createElement(T.Button,{floated:"right",className:"refreshButton",onClick:t,loading:n,disabled:n,circular:!0,icon:"refresh"}))}R.propTypes={onStatusRefresh:O.a.func.isRequired,isFetching:O.a.bool.isRequired};var N=n(99),x=Object(i.connect)((function(e){return{isFetching:_.get(e.manager,"clusterStatus.isFetching"),fetchingError:_.get(e.manager,"clusterStatus.error")}}),(function(e){return{onStatusRefresh:function(){e(Object(N.a)())}}}))(R),M=n(326),L=n(28);function U(e){var t=e.services,n=e.isFetching,a=e.fetchingError;return r.a.createElement(M.a,{clickable:!0,services:t,isFetching:n,fetchingError:a,header:r.a.createElement(T.Table.Row,null,r.a.createElement(T.Table.HeaderCell,{colSpan:"2"},r.a.createElement(x,null)))})}U.propTypes={services:O.a.shape(_.mapValues(L.d,(function(){return O.a.shape({status:O.a.oneOf(L.g),is_external:O.a.bool})}))),isFetching:O.a.bool,fetchingError:O.a.string},U.defaultProps={services:_.mapValues(L.d,(function(){return{status:L.f.Unknown,is_external:!1}})),isFetching:!1,fetchingError:""};var F=Object(i.connect)((function(e){return{services:e.manager.clusterStatus.services,isFetching:e.manager.clusterStatus.isFetching,fetchingError:e.manager.clusterStatus.error}}),(function(e){return{onStatusRefresh:function(){e(Object(N.a)())}}}))(U);function q(e){var t=e.onServicesStatusOpen;return e.showServicesStatus?r.a.createElement(T.Popup,{wide:"very",hoverable:!0,onOpen:t},r.a.createElement(T.Popup.Trigger,null,r.a.createElement("div",null,r.a.createElement(j,null))),r.a.createElement(F,null)):r.a.createElement(j,null)}q.propTypes={onServicesStatusOpen:O.a.func.isRequired,showServicesStatus:O.a.bool.isRequired};var z=n(19),G=Object(i.connect)((function(e){return{showServicesStatus:z.a.isUserAuthorized(y.a.permissions.STAGE_SERVICES_STATUS,e.manager)}}),(function(e){return{onServicesStatusOpen:function(){e(Object(N.a)())}}}))(q),B=n(26),W=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){P.a.on("menu.users:logout",this.props.onLogout,this)}},{key:"onEditModeClick",value:function(){this.props.onEditModeChange(!this.props.isEditMode)}},{key:"render",value:function(){var e=r.a.createElement("span",null,r.a.createElement(T.Icon,{name:"user"}),r.a.createElement("span",null,this.props.manager.username)),t=[];return t.push(),t.push(),t.push(),r.a.createElement(T.Dropdown,{item:!0,pointing:"top right",trigger:e,className:"usersMenu"},r.a.createElement(T.Dropdown.Menu,null,this.props.showAllOptions&&this.props.canEditMode&&r.a.createElement(T.Dropdown.Item,{icon:"configure",selected:this.props.isEditMode,active:this.props.isEditMode,text:this.props.isEditMode?"Exit Edit Mode":"Edit Mode",id:"editModeMenuItem",value:"editMode",onClick:this.onEditModeClick.bind(this)}),this.props.showAllOptions&&this.props.canTemplateManagement&&r.a.createElement(T.Dropdown.Item,{icon:"list layout",text:"Template Management",value:"templates",title:"Template management",onClick:this.props.onTemplates,id:"templatesMenuItem"}),r.a.createElement(T.Dropdown.Item,{key:"reset",id:"resetMenuItem",icon:"undo",text:"Reset Templates",value:"reset",title:"Reset application screens",onClick:this.props.onReset}),this.props.showAllOptions&&this.props.canLicenseManagement&&r.a.createElement(T.Dropdown.Item,{key:"license",id:"licenseMenuItem",icon:"key",text:"License Management",value:"license",onClick:this.props.onLicense}),r.a.createElement(T.Dropdown.Divider,{key:"log-out-divider"}),r.a.createElement(T.Dropdown.Item,{key:"log-out",id:"logoutMenuItem",icon:"log out",text:"Logout",value:"logout",onClick:this.props.onLogout})))}}]),t}(a.Component);w()(W,"propTypes",{manager:O.a.object.isRequired,showAllOptions:O.a.bool.isRequired,isEditMode:O.a.bool.isRequired,canEditMode:O.a.bool.isRequired,canTemplateManagement:O.a.bool.isRequired,canLicenseManagement:O.a.bool.isRequired,onEditModeChange:O.a.func.isRequired,onLogout:O.a.func.isRequired,onReset:O.a.func,onTemplates:O.a.func,onLicense:O.a.func});var H=n(73),V=n(217),Y=n(53),X=Object(i.connect)((function(e,t){var n=!(!!e.templateManagement.templates||!!e.templateManagement.page)&&z.a.isUserAuthorized(y.a.permissions.STAGE_EDIT_MODE,e.manager),a=e.config.mode===y.a.MODE_MAIN&&z.a.isUserAuthorized(y.a.permissions.STAGE_TEMPLATE_MANAGEMENT,e.manager),r=e.config.mode===y.a.MODE_MAIN&&z.a.isUserAuthorized(y.a.permissions.LICENSE_UPLOAD,e.manager)&&_.get(e,"manager.license.isRequired",!1);return{isEditMode:n&&e.config.isEditMode||!1,canEditMode:n,canTemplateManagement:a,canLicenseManagement:r}}),(function(e,t){return{onEditModeChange:function(t){t&&e(Object(Y.i)()),e(Object(V.a)(t))},onLogout:function(){e(Object(H.f)())},onTemplates:function(){e(Object(B.push)("/template_management"))},onLicense:function(){e(Object(B.push)(y.a.LICENSE_PAGE_PATH))},onReset:t.onReset}}))(W);function K(e){var t=e.onAbout,n=e.version,a=z.a.Url.redirectToPage;return r.a.createElement(T.Dropdown,{item:!0,pointing:"top right",trigger:r.a.createElement(T.Icon,{name:"help circle"}),className:"helpMenu"},r.a.createElement(T.Dropdown.Menu,null,r.a.createElement(T.Dropdown.Item,{icon:"book",text:"Documentation",onClick:function(){return a("https://docs.cloudify.co/".concat(n))}}),r.a.createElement(T.Dropdown.Item,{icon:"comments",text:"Contact Us",onClick:function(){return a("https://cloudify.co/contact")}}),r.a.createElement(T.Dropdown.Divider,null),r.a.createElement(T.Dropdown.Item,{icon:"info circle",text:"About",onClick:t})))}K.propTypes={onAbout:O.a.func.isRequired,version:O.a.string.isRequired};var J=Object(i.connect)((function(e){var t,n=_.get(e,"manager.version.version");return{version:(t=n,_.includes(t,"dev")?"latest":n)}}),(function(){return{}}))(K),Z=n(1454),Q=n(7),$=n.n(Q);function ee(e){var t=e.isCommunity,n=e.isExpired,a=e.isTrial,i=e.className,o=void 0===i?"":i,s=t?{content:"Community"}:n?{content:"Expired"}:a?{content:"Trial"}:{},l=function(e){return r.a.createElement(T.Label,$()({},e,{size:"large",style:{marginLeft:15,backgroundColor:"#FFC304",color:"#000000"},className:o}))};return t?r.a.createElement(l,s):r.a.createElement((function(e){return!_.isEmpty(e)&&r.a.createElement(Z.a,{to:y.a.LICENSE_PAGE_PATH,className:o},r.a.createElement(l,e))}),s)}function te(){return r.a.createElement("div",{className:"logo"})}function ne(e){var t=e.name,n=e.className,a=void 0===n?"":n;return r.a.createElement("span",{style:{color:"white",verticalAlign:"middle"},className:a},t)}function ae(e){var t=e.version,n=void 0===t?"":t,a=e.className,i=void 0===a?"":a,o=n.match(/^(\d+)\.(\d+).*$/),s=o&&_.size(o)>=2?o[1]:"",l=o&&_.size(o)>=3?o[2]:"",c="".concat(s).concat(l?".".concat(l):"");return!_.isEmpty(c)&&r.a.createElement("span",{style:{color:"#C1C1C6",verticalAlign:"middle"},className:i}," ",c)}function re(e){var t=e.edition,n=e.className,a=void 0===n?"":n;return!_.isEmpty(t)&&r.a.createElement("span",{style:{color:"white",verticalAlign:"middle"},className:a}," ",t)}var ie=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.hideOnSmallScreen?"hide-on-small-screen":"";return r.a.createElement("div",{style:{lineHeight:"55px"}},r.a.createElement(Z.a,{to:y.a.HOME_PAGE_PATH},r.a.createElement(T.Header,{as:"h1",style:{textDecoration:"none",display:"inline-block"}},r.a.createElement(te,null),r.a.createElement(ne,{name:this.props.productName,className:e}),this.props.showVersionDetails&&!this.props.isCommunity&&r.a.createElement(r.a.Fragment,null,r.a.createElement(re,{edition:this.props.licenseEdition,className:e}),r.a.createElement(ae,{version:this.props.productVersion,className:e})))),this.props.showVersionDetails&&r.a.createElement(ee,{isCommunity:this.props.isCommunity,isExpired:this.props.isExpired,isTrial:this.props.isTrial,className:e}))}}]),t}(a.Component);w()(ie,"propTypes",{isCommunity:O.a.bool,isExpired:O.a.bool,isTrial:O.a.bool,productName:O.a.string,productVersion:O.a.string,licenseEdition:O.a.string,hideOnSmallScreen:O.a.bool}),w()(ie,"defaultProps",{isCommunity:!1,isExpired:!1,isTrial:!1,productName:"",productVersion:"",licenseEdition:"",hideOnSmallScreen:!0});var oe=Object(i.connect)((function(e){return{isCommunity:_.get(e,"manager.version.edition",y.a.EDITION.PREMIUM)===y.a.EDITION.COMMUNITY,isExpired:_.get(e,"manager.license.status",y.a.LICENSE.EMPTY)===y.a.LICENSE.EXPIRED,isTrial:_.get(e,"manager.license.data.trial",!1),licenseEdition:_.get(e,"manager.license.data.license_edition",""),productName:_.get(e,"config.app.whiteLabel.productName","Cloudify"),productVersion:_.get(e,"manager.version.version",""),showVersionDetails:_.get(e,"config.app.whiteLabel.showVersionDetails",!0)}}),(function(e,t){return{}}))(ie);function se(e){var t=e.license,n=[{name:"expiration_date",header:"Expiration Date",icon:"clock",format:function(e){return _.isEmpty(e)?"Never":z.a.formatLocalTimestamp(e,"DD-MM-YYYY")}},{name:"cloudify_version",header:"Valid For Version",icon:"thumbs up",format:function(e){return _.isEmpty(e)?"All":String(e)}},{name:"license_edition",header:"License Edition",icon:"file alternate outline",format:String},{name:"capabilities",header:"Capabilities",icon:"wrench",format:function(e){return _.join(e,", ")},hide:_.isEmpty},{name:"trial",header:"Trial",icon:"lab",format:function(e){return e?"Yes":"No"},hide:function(e){return!e}},{name:"customer_id",header:"Licensed To",icon:"handshake",format:String,hide:_.isEmpty}];return!_.isEmpty(t)&&r.a.createElement(T.Segment,null,r.a.createElement(T.Table,{basic:"very",size:"large",celled:!0},r.a.createElement(T.Table.Body,null,_.map(n,(function(e){var n=t[e.name];return e.hide&&e.hide(n)?null:r.a.createElement(T.Table.Row,{key:e.header},r.a.createElement(T.Table.Cell,{width:5},r.a.createElement(T.Header,{as:"h4"},r.a.createElement(T.Icon,{name:e.icon,size:"large",style:{display:"inline-block",float:"left"}}),r.a.createElement(T.Header.Content,null,e.header))),r.a.createElement(T.Table.Cell,null,e.format(t[e.name])))})))))}function le(e){var t=e.version,n=void 0===t?{}:t;n.distro=_.join([n.distribution,n.distro_release]," "),n.full_version="".concat(_.join(_.compact([n.version,n.build,n.date,n.commit])," "),"\n         (").concat(_.capitalize(n.edition),")");var a=[{name:"full_version",header:"Version",icon:"star",format:String},{name:"distro",header:"Distribution",icon:"linux",format:_.startCase,hide:_.isEmpty}];return _.isEmpty(n)?r.a.createElement(T.Message,null,"There is no version data."):r.a.createElement(T.Table,{basic:"very",size:"large",celled:!0},r.a.createElement(T.Table.Body,null,_.map(a,(function(e){var t=n[e.name];return e.hide&&e.hide(t)?null:r.a.createElement(T.Table.Row,{key:e.header},r.a.createElement(T.Table.Cell,{width:5},r.a.createElement(T.Header,{as:"h4"},r.a.createElement(T.Icon,{name:e.icon,size:"large",style:{display:"inline-block",float:"left"}}),r.a.createElement(T.Header.Content,null,e.header))),r.a.createElement(T.Table.Cell,null,e.format(n[e.name])))}))))}function ce(){return r.a.createElement("a",{href:"https://cloudify.co/license",target:"_blank"},"End User License Agreement")}var ue=function(e){function t(e){return s()(this,t),p()(this,h()(t).call(this,e))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=Stage.Basic,t=e.Button,n=e.CancelButton,a=e.Divider,i=e.Header,o=e.Modal;return r.a.createElement(o,{open:this.props.open,onClose:this.props.onHide},r.a.createElement(o.Header,{className:"mainBackgroundColor",style:{padding:0,paddingLeft:10}},r.a.createElement(oe,{hideOnSmallScreen:!1})),r.a.createElement(o.Content,null,r.a.createElement(i,null,"Version Details"),r.a.createElement(a,null),r.a.createElement(le,{version:this.props.version}),r.a.createElement(i,null,"License Details"),r.a.createElement(a,null),r.a.createElement(se,{license:this.props.license}),r.a.createElement(ce,null)),r.a.createElement(o.Actions,null,this.props.canLicenseManagement&&r.a.createElement(t,{content:"License Management",icon:"key",color:"yellow",onClick:this.props.onLicenseManagment}),r.a.createElement(n,{content:"Close",onClick:this.props.onHide})))}}]),t}(a.Component);w()(ue,"propTypes",{open:O.a.bool.isRequired,onHide:O.a.func.isRequired,version:O.a.object.isRequired,license:O.a.object,onLicenseManagment:O.a.func}),w()(ue,"defaultProps",{onLicenseManagment:_.noop});var pe=Object(i.connect)((function(e,t){var n=_.get(e,"manager",{});return{canLicenseManagement:_.get(n,"license.isRequired",!1)&&z.a.isUserAuthorized(y.a.permissions.LICENSE_UPLOAD,n),version:_.get(n,"version",{}),license:_.get(n,"license.data",{})}}),(function(e,t){return{onLicenseManagment:function(){return e(Object(B.push)(y.a.LICENSE_PAGE_PATH))}}}))(ue),de=n(24),he=n.n(de),me=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state=t.initialState,a.state.tenants=e.tenants.items.map((function(e){return e.name})),a}return g()(t,e),c()(t,[{key:"toggleCheckbox",value:function(e,t){var n=this,a=t.name,r=he()(this.state.tenants);_.includes(this.state.tenants,a)?r=_.pull(r,a):r.push(a),this.setState({tenants:r},(function(){return console.error(n.state.tenants)}))}},{key:"render",value:function(){var e=this;return this.props.tenants.items.length>1?r.a.createElement(T.Modal,{className:"tiny resetPagesModal",open:this.props.open,onClose:this.props.onHide},r.a.createElement(T.Modal.Header,null,r.a.createElement(T.Icon,{name:"user"})," Reset pages for tenants"),r.a.createElement(T.Modal.Content,null,"Please select tenants you would like to reset pages for:",r.a.createElement("br",null),r.a.createElement(T.Card,{fluid:!0},r.a.createElement(T.Card.Content,null,r.a.createElement(T.List,{relaxed:!0},this.props.tenants.items.map((function(t){return r.a.createElement(T.List.Item,{key:t.name},r.a.createElement(T.Checkbox,{name:t.name,defaultChecked:!0,onChange:e.toggleCheckbox.bind(e),label:t.name}))})))))),r.a.createElement(T.Modal.Actions,null,r.a.createElement(T.CancelButton,{onClick:this.props.onHide,disabled:this.state.loading}),r.a.createElement(T.ApproveButton,{onClick:function(){return e.props.onConfirm(e.state.tenants)},disabled:this.state.loading||_.isEmpty(this.state.tenants),icon:"undo",color:"green",content:"Reset"}))):r.a.createElement(T.Confirm,{content:"Are you sure you want to reset application screens to default?",open:this.props.open,onClose:this.props.onHide,onConfirm:function(){return e.props.onConfirm(e.state.tenants)},onCancel:this.props.onHide})}}]),t}(r.a.Component);w()(me,"initialState",{loading:!1,tenants:[],errors:{}});var ge=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state={showConfigureModal:!1,showResetPagesConfirm:!1,showAboutModal:!1},a}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.pageTitle;document.title=e}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.manager;return!_.isEqual(n,e.manager)||!_.isEqual(this.state,t)}},{key:"isModeMain",value:function(){return this.props.mode===y.a.MODE_MAIN}},{key:"isModeCustomer",value:function(){return this.props.mode===y.a.MODE_CUSTOMER}},{key:"render",value:function(){var e=this,t=this.props,n=t.manager,a=t.onResetPages,i=t.onSidebarOpen,o=this.state,s=o.showAboutModal,l=o.showResetPagesConfirm;return r.a.createElement("div",{className:"ui top fixed menu inverted secondary headerBar"},r.a.createElement(T.Icon,{link:!0,name:"content",className:"sidebar-button show-on-small-screen",size:"large",onClick:i}),r.a.createElement(oe,null),r.a.createElement("div",{className:"right menu"},!this.isModeCustomer()&&r.a.createElement("div",{className:"item",style:{margin:0,padding:0}},r.a.createElement(G,null)),this.isModeMain()&&r.a.createElement(I,{manager:n}),r.a.createElement(J,{onAbout:function(){return e.setState({showAboutModal:!0})}}),r.a.createElement(X,{manager:n,showAllOptions:!this.isModeCustomer(),onReset:function(){return e.setState({showResetPagesConfirm:!0})}})),r.a.createElement(me,{open:l,tenants:n.tenants,onConfirm:function(t){e.setState({showResetPagesConfirm:!1}),a(t)},onHide:function(){return e.setState({showResetPagesConfirm:!1})}}),r.a.createElement(pe,{open:s,onHide:function(){return e.setState({showAboutModal:!1})}}))}}]),t}(a.Component);w()(ge,"propTypes",{manager:O.a.any.isRequired,mode:O.a.string.isRequired,pageTitle:O.a.string.isRequired,onResetPages:O.a.func.isRequired,onSidebarOpen:O.a.func.isRequired});var fe=n(147),ve=n(58),Ee=Object(i.connect)((function(e,t){return{manager:e.manager||{},mode:e.config.mode,pageTitle:_.get(e,"config.app.whiteLabel.pageTitle")}}),(function(e,t){return{onResetPages:function(t){_.forEach(t,(function(t){e(Object(fe.c)(t))}))},onSidebarOpen:function(){e(Object(ve.e)())}}}))(ge),ye=n(154),be=n(184),_e=n(134),we=n(152),Ce=n(39),Oe=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(T.Segment,{style:this.props.style},r.a.createElement(T.Icon,{name:"block layout"})," Pages",r.a.createElement(T.Divider,null),r.a.createElement(T.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light"},this.props.pages.map((function(t){return r.a.createElement(T.List.Item,{key:t},t,e.props.custom&&_.size(e.props.pages)>1&&r.a.createElement(T.PopupConfirm,{trigger:r.a.createElement(T.Icon,{link:!0,name:"remove",className:"right floated",onClick:function(e){return e.stopPropagation()}}),content:"Are you sure to remove this page from template?",onConfirm:function(){return e.props.onDelete(t)}}))})),_.isEmpty(this.props.pages)&&r.a.createElement(T.Message,{content:"No pages available"})))}}]),t}(a.Component);w()(Oe,"propTypes",{pages:O.a.any.isRequired,onDelete:O.a.func,custom:O.a.bool,style:O.a.any});var Pe=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(T.Segment,{style:this.props.style},r.a.createElement(T.Icon,{name:"student"})," Roles",r.a.createElement(T.Divider,null),r.a.createElement(T.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light"},this.props.roles.map((function(t){return r.a.createElement(T.List.Item,{key:t},t,e.props.custom&&_.size(e.props.roles)>1&&r.a.createElement(T.PopupConfirm,{trigger:r.a.createElement(T.Icon,{link:!0,name:"remove",className:"right floated",onClick:function(e){return e.stopPropagation()}}),content:"Are you sure to remove this role from template?",onConfirm:function(){return e.props.onDelete(t)}}))})),_.isEmpty(this.props.roles)&&r.a.createElement(T.Message,{content:"No roles available"})))}}]),t}(a.Component);w()(Pe,"propTypes",{roles:O.a.any.isRequired,onDelete:O.a.func,custom:O.a.bool,style:O.a.any}),w()(Pe,"defaultProps",{roles:[]});var Te=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(T.Segment,{style:this.props.style},r.a.createElement(T.Icon,{name:"male"})," Tenants",r.a.createElement(T.Divider,null),r.a.createElement(T.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light"},this.props.tenants.map((function(t){return r.a.createElement(T.List.Item,{key:t},t===y.a.DEFAULT_ALL?"all":t,e.props.custom&&_.size(e.props.tenants)>1&&r.a.createElement(T.PopupConfirm,{trigger:r.a.createElement(T.Icon,{link:!0,name:"remove",className:"right floated",onClick:function(e){return e.stopPropagation()}}),content:"Are you sure to remove this tenant from template?",onConfirm:function(){return e.props.onDelete(t)}}))})),_.isEmpty(this.props.tenants)&&r.a.createElement(T.Message,{content:"No tenants available"})))}}]),t}(a.Component);w()(Te,"propTypes",{tenants:O.a.any.isRequired,onDelete:O.a.func,custom:O.a.bool,style:O.a.any}),w()(Te,"defaultProps",{tenants:[]});var Se=n(439),ke=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(T.Segment,{color:"blue"},r.a.createElement(T.Header,{dividing:!0,as:"h5"},"Templates"),r.a.createElement(T.DataTable,null,r.a.createElement(T.DataTable.Column,{label:"Template id",width:"25%"}),r.a.createElement(T.DataTable.Column,{label:"Roles",width:"25%"}),r.a.createElement(T.DataTable.Column,{label:"Tenants",width:"10%"}),r.a.createElement(T.DataTable.Column,{label:"Updated at",width:"15%"}),r.a.createElement(T.DataTable.Column,{label:"Updated by",width:"15%"}),r.a.createElement(T.DataTable.Column,{width:"10%"}),this.props.templates.map((function(t){var n=t.data||{roles:[],tenants:[]},a=n.roles,i=n.tenants,o=_.indexOf(i,y.a.DEFAULT_ALL)>=0?_.size(e.props.tenants.items):_.size(i);return r.a.createElement(T.DataTable.RowExpandable,{key:t.id,expanded:t.selected},r.a.createElement(T.DataTable.Row,{key:t.id,selected:t.selected,onClick:function(){return e.props.onSelectTemplate(t)}},r.a.createElement(T.DataTable.Data,null,r.a.createElement(T.Header,{as:"a",size:"small"},t.id)),r.a.createElement(T.DataTable.Data,null,a.map((function(e,t){return r.a.createElement("span",{key:e},e===y.a.DEFAULT_ALL?"all":e,t<a.length-1&&r.a.createElement("span",null,", "))}))),r.a.createElement(T.DataTable.Data,null,r.a.createElement(T.Label,{color:"green",horizontal:!0},o)),r.a.createElement(T.DataTable.Data,null,t.updatedAt&&z.a.Time.formatLocalTimestamp(t.updatedAt)),r.a.createElement(T.DataTable.Data,null,t.updatedBy),r.a.createElement(T.DataTable.Data,{className:"center aligned rowActions"},t.custom&&r.a.createElement("div",null,r.a.createElement(T.PopupConfirm,{trigger:r.a.createElement(T.Icon,{name:"remove",link:!0,onClick:function(e){return e.stopPropagation()}}),content:"Are you sure to remove this template?",onConfirm:function(){return e.props.onDeleteTemplate(t)}}),r.a.createElement(Se.a,{availableTenants:e.props.tenants,availablePages:e.props.pages,availableRoles:e.props.roles,templateName:t.id,pages:t.pages,roles:a,tenants:i,onCreateTemplate:function(){for(var n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=e.props).onModifyTemplate.apply(n,[t].concat(r))}})))),r.a.createElement(T.DataTable.DataExpandable,{key:t.id},r.a.createElement(T.Segment.Group,{horizontal:!0},r.a.createElement(Oe,{pages:t.pages,custom:t.custom,onDelete:function(n){return e.props.onRemoveTemplatePage(t,n)},style:{width:"33%"}}),r.a.createElement(Pe,{roles:a,custom:t.custom,onDelete:function(n){return e.props.onRemoveTemplateRole(t,n)},style:{width:"33%"}}),r.a.createElement(Te,{tenants:i,custom:t.custom,onDelete:function(n){return e.props.onRemoveTemplateTenant(t,n)},style:{width:"33%"}}))))})),r.a.createElement(T.DataTable.Action,null,r.a.createElement(Se.a,{availableTenants:this.props.tenants,availablePages:this.props.pages,availableRoles:this.props.roles,onCreateTemplate:this.props.onCreateTemplate}))))}}]),t}(a.Component);w()(ke,"propTypes",{templates:O.a.array,pages:O.a.array,roles:O.a.array,tenants:O.a.object,onSelectTemplate:O.a.func,onRemoveTemplatePage:O.a.func,onRemoveTemplateRole:O.a.func,onRemoveTemplateTenant:O.a.func,onCreateTemplate:O.a.func,onModifyTemplate:O.a.func,onDeleteTemplate:O.a.func}),w()(ke,"defaultProps",{templates:[],pages:[],tenants:{items:[]}});var Ie=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state=t.initialState(!1,e),a}return g()(t,e),c()(t,[{key:"_openModal",value:function(){this.setState(t.initialState(!0,this.props))}},{key:"_submitCreate",value:function(){var e=this,t={};if(_.isEmpty(_.trim(this.state.pageName))&&(t.pageName="Please provide correct page name"),!_.isEmpty(t))return this.setState({errors:t}),!1;this.setState({loading:!0}),this.props.onCreatePage(_.trim(this.state.pageName)).catch((function(t){e.setState({errors:{error:t.message},loading:!1})}))}},{key:"_handleInputChange",value:function(e,t){this.setState(T.Form.fieldNameValue(t))}},{key:"render",value:function(){var e=this,t=r.a.createElement(T.Button,{content:"Create page",icon:"block layout",labelPosition:"left",className:"createPageButton"});return r.a.createElement(T.Modal,{trigger:t,open:this.state.open,onOpen:this._openModal.bind(this),onClose:function(){return e.setState({open:!1})},className:"createPageModal"},r.a.createElement(T.Modal.Header,null,r.a.createElement(T.Icon,{name:"block layout"}),"Create page"),r.a.createElement(T.Modal.Content,null,r.a.createElement(T.Form,{loading:this.state.loading,errors:this.state.errors,onErrorsDismiss:function(){return e.setState({errors:{}})}},r.a.createElement(T.Form.Field,{error:this.state.errors.pageName},r.a.createElement(T.Form.Input,{name:"pageName",placeholder:"Page name",value:this.state.pageName,onChange:this._handleInputChange.bind(this)})))),r.a.createElement(T.Modal.Actions,null,r.a.createElement(T.CancelButton,{onClick:function(){return e.setState({open:!1})},disabled:this.state.loading}),r.a.createElement(T.ApproveButton,{onClick:this._submitCreate.bind(this),disabled:this.state.loading,content:"Create",icon:"checkmark",color:"green"})))}}]),t}(a.Component);w()(Ie,"initialState",(function(e,t){return{open:e,loading:!1,pageName:t.pageName,errors:{}}})),w()(Ie,"propTypes",{onCreatePage:O.a.func.isRequired}),w()(Ie,"defaultProps",{pageName:""});var De=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return r.a.createElement(T.Segment,{style:this.props.style},r.a.createElement(T.Icon,{name:"list layout"})," Templates",r.a.createElement(T.Divider,null),r.a.createElement(T.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light"},this.props.templates.map((function(e){return r.a.createElement(T.List.Item,{key:e},e)})),_.isEmpty(this.props.templates)&&r.a.createElement(T.Message,{content:"Page not used by any template"})))}}]),t}(a.Component);w()(De,"propTypes",{templates:O.a.any.isRequired,style:O.a.any}),w()(De,"defaultProps",{tenants:[]});var Ae=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(T.Segment,{color:"red"},r.a.createElement(T.Header,{dividing:!0,as:"h5"},"Pages"),r.a.createElement(T.DataTable,null,r.a.createElement(T.DataTable.Column,{label:"Page id",width:"25%"}),r.a.createElement(T.DataTable.Column,{label:"Page name",width:"25%"}),r.a.createElement(T.DataTable.Column,{label:"Templates",width:"10%"}),r.a.createElement(T.DataTable.Column,{label:"Updated at",width:"15%"}),r.a.createElement(T.DataTable.Column,{label:"Updated by",width:"15%"}),r.a.createElement(T.DataTable.Column,{width:"10%"}),this.props.pages.map((function(t){return r.a.createElement(T.DataTable.RowExpandable,{key:t.id,expanded:t.selected},r.a.createElement(T.DataTable.Row,{key:t.id,selected:t.selected,onClick:function(){return e.props.onSelectPage(t)}},r.a.createElement(T.DataTable.Data,null,r.a.createElement(T.Header,{as:"a",size:"small"},t.id)),r.a.createElement(T.DataTable.Data,null,t.name),r.a.createElement(T.DataTable.Data,null,r.a.createElement(T.Label,{color:"blue",horizontal:!0},_.size(t.templates))),r.a.createElement(T.DataTable.Data,null,t.updatedAt&&z.a.Time.formatLocalTimestamp(t.updatedAt)),r.a.createElement(T.DataTable.Data,null,t.updatedBy),r.a.createElement(T.DataTable.Data,{className:"center aligned rowActions"},t.custom?r.a.createElement("div",null,r.a.createElement(T.PopupConfirm,{trigger:r.a.createElement(T.Icon,{name:"remove",link:!0,onClick:function(e){return e.stopPropagation()}}),content:"Are you sure to remove this page?",onConfirm:function(){return e.props.onDeletePage(t)},onCanConfirm:function(){return e.props.onCanDeletePage(t)}}),r.a.createElement(T.Icon,{name:"edit",link:!0,className:"updatePageIcon",onClick:function(n){n.stopPropagation(),e.props.onEditPage(t)}})):r.a.createElement("div",null,r.a.createElement(T.Icon,{name:"search",link:!0,className:"updatePageIcon",onClick:function(n){n.stopPropagation(),e.props.onPreviewPage(t)}})))),r.a.createElement(T.DataTable.DataExpandable,{key:t.id},r.a.createElement(De,{templates:t.templates})))})),r.a.createElement(T.DataTable.Action,null,r.a.createElement(Ie,{onCreatePage:this.props.onCreatePage}))))}}]),t}(a.Component);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}w()(Ae,"propTypes",{pages:O.a.array,onSelectPage:O.a.func,onCreatePage:O.a.func,onDeletePage:O.a.func,onCanDeletePage:O.a.func,onEditPage:O.a.func,onPreviewPage:O.a.func}),w()(Ae,"defaultProps",{pages:[]});var Re=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.onTemplatesLoad()}},{key:"componentWillUnmount",value:function(){this.props.onClear()}},{key:"_selectTemplate",value:function(e){this.props.onTemplateSelect(e.id)}},{key:"_selectPage",value:function(e){this.props.onPageSelect(e.id)}},{key:"_createTemplate",value:function(e,t,n,a){var r={id:e.trim(),data:{roles:t,tenants:n},pages:a};return this.props.onTemplateCreate(r)}},{key:"_deleteTemplate",value:function(e){this.props.onTemplateDelete(e.id)}},{key:"_modifyTemplate",value:function(e,t,n,a,r){var i={oldId:e.id,id:t.trim(),data:{roles:n,tenants:_.isEmpty(a)?[y.a.DEFAULT_ALL]:a},pages:r};return this.props.onTemplateUpdate(i)}},{key:"_removeTemplatePage",value:function(e,t){e.pages=_.without(e.pages,t),this._updateTemplate(e)}},{key:"_removeTemplateRole",value:function(e,t){e.data.roles=_.without(e.data.roles,t),this._updateTemplate(e)}},{key:"_removeTemplateTenant",value:function(e,t){e.data.tenants=_.without(e.data.tenants,t),this._updateTemplate(e)}},{key:"_updateTemplate",value:function(e){return this.props.onTemplateUpdate(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{oldId:e.id}))}},{key:"_deletePage",value:function(e){this.props.onPageDelete(e.id)}},{key:"_canDeletePage",value:function(e){return _.isEmpty(e.templates)?null:"Page is used by the templates and cannot be deleted"}},{key:"_editPage",value:function(e){this.props.onPageEdit(e.id,e.name)}},{key:"_previewPage",value:function(e){this.props.onPagePreview(e.id,e.name)}},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(T.Segment,{basic:!0,loading:this.props.isLoading},r.a.createElement("div",null,r.a.createElement(T.Breadcrumb,{className:"breadcrumbLineHeight"},r.a.createElement(T.Breadcrumb.Section,{active:!0},"Template management")),r.a.createElement(T.Button,{content:"Close",basic:!0,compact:!0,floated:"right",icon:"sign out",onClick:this.props.onClose})),r.a.createElement(T.Divider,null),r.a.createElement(T.ErrorMessage,{error:this.props.error}),r.a.createElement(ke,{templates:this.props.templates,pages:this.props.pages,roles:this.props.roles,tenants:this.props.manager.tenants,onSelectTemplate:this._selectTemplate.bind(this),onRemoveTemplatePage:this._removeTemplatePage.bind(this),onRemoveTemplateRole:this._removeTemplateRole.bind(this),onRemoveTemplateTenant:this._removeTemplateTenant.bind(this),onCreateTemplate:this._createTemplate.bind(this),onModifyTemplate:this._modifyTemplate.bind(this),onDeleteTemplate:this._deleteTemplate.bind(this)}),r.a.createElement(Ae,{pages:this.props.pages,onSelectPage:this._selectPage.bind(this),onCreatePage:this.props.onPageCreate,onDeletePage:this._deletePage.bind(this),onEditPage:this._editPage.bind(this),onPreviewPage:this._previewPage.bind(this),onCanDeletePage:this._canDeletePage.bind(this)})))}}]),t}(a.Component);w()(Re,"propTypes",{onTemplatesLoad:O.a.func.isRequired,onTemplateCreate:O.a.func.isRequired,onTemplateUpdate:O.a.func.isRequired,onTemplateDelete:O.a.func.isRequired,onTemplateSelect:O.a.func.isRequired,onPageCreate:O.a.func.isRequired,onPageDelete:O.a.func.isRequired,onPageEdit:O.a.func.isRequired,onPagePreview:O.a.func.isRequired,onPageSelect:O.a.func.isRequired,onClear:O.a.func.isRequired,onClose:O.a.func.isRequired,templates:O.a.array,pages:O.a.array,roles:O.a.array}),w()(Re,"defaultProps",{templates:[],pages:[],isLoading:!1,error:null});var Ne=n(40),xe=Object(i.connect)((function(e,t){var n=e.templateManagement||{},a=_.map(e.manager.roles,(function(e){return{text:e.description?"".concat(e.name," - ").concat(e.description):e.name,value:e.name}}));return{manager:e.manager,templates:n.templates,pages:n.pages,roles:a,isLoading:n.isLoading,error:n.error}}),(function(e,t,n){return{onTemplatesLoad:function(){return e(Object(Ne.k)())},onTemplateCreate:function(t){return e(Object(Ne.f)(t))},onTemplateUpdate:function(t){return e(Object(Ne.t)(t))},onTemplateDelete:function(t){return e(Object(Ne.h)(t))},onTemplateSelect:function(t){return e(Object(Ne.q)(t))},onPageCreate:function(t){return e(Object(Ne.e)(t))},onPageDelete:function(t){return e(Object(Ne.g)(t))},onPagePreview:function(t,n){return e(Object(Ne.r)(t,n,!1))},onPageEdit:function(t,n){return e(Object(Ne.r)(t,n,!0))},onPageSelect:function(t){return e(Object(Ne.p)(t))},onClear:function(){return e(Object(Ne.d)())},onClose:function(){return e(Object(Ce.i)())}}}))(Re),Me=n(816),Le=Object(i.connect)((function(e,t){var n=e.templateManagement||{},a=_.clone(n.page),r=_.map(a.widgets,(function(t){var n=_.clone(t);return n.definition=_.find(e.widgetDefinitions,{id:n.definition}),n}));return a.widgets=r,{error:n.error,isPageEditMode:n.isPageEditMode,showDrillDownWarn:n.showDrillDownWarn,page:a}}),(function(e,t,n){return{onClose:function(){return e(Object(Ce.i)())},onClear:function(){return e(Object(Ne.c)())},onTemplateNavigate:function(){return e(Object(B.push)("/template_management"))},onWidgetsGridDataChange:function(t,n,a){e(Object(Ne.b)(n,a))},onPageSave:function(t){e(Object(Ne.o)(t))},onPageNameChange:function(t){e(Object(Ne.s)(t))},onCloseDrillDownWarning:function(){e(Object(Ne.i)(!1))}}}))(Me.a),Ue=n(213),Fe=n(819);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ze=function(e,t){return function t(n){return n.parent?t(e[n.parent]):n.id}(e[t])};var Ge=Object(i.connect)((function(e,t){var n=e.pages,a=Object(Ce.f)(n),r=a[t.pageId],i=n[0].id,o=r?r.id:i;return{pages:n,selected:n&&n.length>0?ze(a,o):null}}),(function(e,t){return{onPageSelected:function(t){e(Object(Ce.j)(t.id,t.isDrillDown))},onPageRemoved:function(n,a){var r=Object(Ce.f)(a),i=ze(r,t.pageId);i===n.id&&(i===t.homePageId?e(Object(Ce.j)(a[1].id,!1)):e(Object(Ce.j)(t.homePageId,!1))),e(Object(Ce.g)(n))},onPageReorder:function(t,n){e(Object(Ce.h)(t,n))},onSidebarClose:function(){e(Object(ve.e)())}}}),(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},t,{},e,{onPageRemoved:function(n){t.onPageRemoved(n,e.pages)}})}))(Fe.a),Be=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.isOpen?"open":"";return r.a.createElement("div",{className:"sidebarContainer"},r.a.createElement("div",{className:"ui visible left vertical sidebar menu small basic  ".concat(e)},r.a.createElement(Ge,{pageId:this.props.pageId,isEditMode:this.props.isEditMode,homePageId:this.props.homePageId})))}}]),t}(a.Component);w()(Be,"propTypes",{homePageId:O.a.string.isRequired,pageId:O.a.string.isRequired,isEditMode:O.a.bool.isRequired,isOpen:O.a.bool});var We=Object(i.connect)((function(e,t){var n=e.pages[0].id;return{homePageId:n,pageId:t.pageId||n,isEditMode:e.config.isEditMode||!1,isOpen:e.app.sidebarIsOpen||!1}}),{})(Be),He=n(820),Ve=n(214);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Xe=function(e,t,n){var a=Object(Ce.f)(e),r=[],i=t.length-1;return function n(o){var s=o||e[0],l=i>=0?t[i]:{};i-=1,r.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s,{name:l.pageName||s.name,context:l.context})),s.parent&&n(a[s.parent])}(a[n]),r},Ke=Object(i.connect)((function(e,t){var n=e.pages,a=Object(Ce.f)(n)[t.pageId],r=n[0].id,i=a?a.id:r,o=_.clone(_.find(n,{id:i}));return o.widgets=_.map(o.widgets,(function(t){var n=_.clone(t);return n.definition=_.find(e.widgetDefinitions,{id:n.definition}),n})),o.name=t.pageName||o.name,{page:o,pagesList:Xe(n,e.drilldownContext,i),isEditMode:e.config.isEditMode||!1}}),(function(e){return{onPageNameChange:function(t,n){e(Object(Ce.c)(t,n))},onPageDescriptionChange:function(t,n){e(Object(Ce.b)(t,n))},onPageSelected:function(t,n,a){for(var r=[],i=1;i<=a-1;i+=1)r.push({pageName:n[i].name,context:n[i].context});e(Object(Ve.b)(r)),e(Object(Ce.j)(t.id,t.isDrillDown,t.context,t.name))},onWidgetsGridDataChange:function(t,n,a){e(Object(Y.b)(t,n,a))},onEditModeExit:function(){e(Object(V.a)(!1))}}}))(He.a),Je=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state={open:!1,hovered:!1},a}return g()(t,e),c()(t,[{key:"startTour",value:function(e){this.props.onTourStart(e)}},{key:"_onMouseOver",value:function(){this.setState({hovered:!0})}},{key:"_onMouseOut",value:function(){this.setState({hovered:!1})}},{key:"render",value:function(){var e=this,t={position:"fixed",right:"20px",bottom:"20px",zIndex:9,opacity:this.state.hovered?1:.5};return!_.isEmpty(this.props.tours)&&r.a.createElement(T.PopupMenu,{onClose:this._onMouseOut.bind(this)},r.a.createElement(T.Popup.Trigger,null,r.a.createElement(T.Button,{title:"Take a tour",circular:!0,color:"blue",size:"huge",icon:"map signs",id:"toursButton",onMouseOver:this._onMouseOver.bind(this),onMouseOut:this._onMouseOut.bind(this),style:t,onClick:function(e){return e.stopPropagation()}})),r.a.createElement(T.Menu,{vertical:!0},r.a.createElement(T.Menu.Item,{header:!0},"Tours"),this.props.tours.map((function(t){return r.a.createElement(T.Menu.Item,{key:t.id,onClick:function(){return e.startTour(t)}},t.name)}))))}}]),t}(r.a.Component);w()(Je,"propTypes",{tours:O.a.array.isRequired,onTourStart:O.a.func.isRequired});var Ze=n(216),Qe=Object(i.connect)((function(e,t){return{tours:e.tours}}),(function(e,t){return{onTourStart:function(t){return e(Object(Ze.b)(t))}}}))(Je),$e=function(e){function t(e,n){return s()(this,t),p()(this,h()(t).call(this,e,n))}return g()(t,e),c()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.onStorePageId(this.props.pageId),this._handleContext(this.props.contextParams)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.pageId!==this.props.pageId&&(this.props.onStorePageId(e.pageId),this._handleContext(e.contextParams))}},{key:"componentDidUpdate",value:function(){this.props.isMaintenance&&this.props.navigateToMaintenancePage(),this.props.emptyPages&&this.props.navigateToError("No pages available to display. Please try to reset application to the default settings."),this.props.selectedPage||this.props.navigateTo404()}},{key:"_handleContext",value:function(e){var t=this;this.props.onClearContext(),_.each(e,(function(e){_.each(e.context,(function(e,n){t.props.onSetContextValue(n,e)}))})),this.props.onSetDrilldownContext(e)}},{key:"render",value:function(){if(this.props.emptyPages)return null;var e=this.props.pageId,t=this.props.pageName;return r.a.createElement("div",{className:"main"},r.a.createElement(Qe,null),r.a.createElement(We,{pageId:e}),r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"ui basic segment"},r.a.createElement(Ke,{pageId:e,pageName:t}))))}}]),t}(a.Component),et=n(66),tt=Object(i.connect)((function(e,t){var n=e.pages,a=_.isEmpty(n)?"":n[0].id,r=t.match.params.pageId||a,i=t.match.params.pageName||"",o=Object(Ue.parse)(t.location.search),s=o.c?JSON.parse(o.c):[];return{emptyPages:_.isEmpty(n),selectedPage:_.find(n,{id:r}),pageId:r,pageName:i,contextParams:s,isMaintenance:e.manager.maintenance===y.a.MAINTENANCE_ACTIVATED}}),(function(e,t){return{onClearContext:function(){e(Object(et.a)())},onSetContextValue:function(t,n){e(Object(et.b)(t,n))},onSetDrilldownContext:function(t){e(Object(Ve.b)(t))},navigateTo404:function(){e(Object(B.push)(y.a.ERROR_404_PAGE_PATH))},navigateToError:function(t){e(Object(ve.b)(t)),e(Object(B.push)(y.a.ERROR_PAGE_PATH))},navigateToMaintenancePage:function(){e(Object(B.push)(y.a.MAINTENANCE_PAGE_PATH))},onStorePageId:function(t){e(Object(ve.d)(t))}}}))($e),nt=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return r.a.createElement(T.MessageContainer,null,r.a.createElement(T.Header,{as:"h2"},r.a.createElement(T.Label,{horizontal:!0,size:"massive",color:"blue"},"404")," ","Page Not Found"),r.a.createElement(T.Message,null,"We are sorry, but the page you are looking for doesn't exist."),r.a.createElement(Z.a,{to:y.a.HOME_PAGE_PATH},"Go to the Homepage"))}}]),t}(a.Component),at=n(1474),rt=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(a.Component),it=Object(at.a)(rt),ot=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state=t.initialState,a}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;console.log("First time logging in , fetching stuff"),this.props.intialPageLoad().then((function(){ye.a.getPoller().start(),be.a.getAutoSaver().start(),e.setState({initialized:!0})})).catch((function(t){switch(t){case we.b:e.props.doLogout(null,"noTenants");break;case we.c:break;default:e.props.doLogout("Error initializing user data, cannot load page")}}))}},{key:"componentWillUnmount",value:function(){ye.a.getPoller().stop(),be.a.getAutoSaver().stop()}},{key:"render",value:function(){return this.props.isLoading?(_e.a.turnOn(),null):(_e.a.turnOff(),this.state.initialized?r.a.createElement(it,null,r.a.createElement(Ee,null),r.a.createElement(f.a,null,this.props.isUserAuthorizedForTemplateManagement&&r.a.createElement(v.a,{exact:!0,path:"/template_management",component:xe}),this.props.isUserAuthorizedForTemplateManagement&&this.props.isPageSetForPageManagement&&r.a.createElement(v.a,{exact:!0,path:"/page_management",component:Le}),r.a.createElement(v.a,{exact:!0,path:"/page/:pageId/:pageName",component:tt}),r.a.createElement(v.a,{exact:!0,path:"/page/:pageId",component:tt}),r.a.createElement(v.a,{exact:!0,path:y.a.HOME_PAGE_PATH,component:tt}),r.a.createElement(v.a,{render:function(){return r.a.createElement(E.a,{to:y.a.ERROR_404_PAGE_PATH})}}))):null)}}]),t}(a.Component);w()(ot,"propTypes",{isLoading:O.a.bool.isRequired,isUserAuthorizedForTemplateManagement:O.a.bool.isRequired,isPageSetForPageManagement:O.a.bool,intialPageLoad:O.a.func.isRequired}),w()(ot,"initialState",{initialized:!1});var st=Object(i.connect)((function(e,t){return{isLoading:e.app.loading,isUserAuthorizedForTemplateManagement:e.manager&&e.manager.permissions&&z.a.isUserAuthorized(y.a.permissions.STAGE_TEMPLATE_MANAGEMENT,e.manager),isPageSetForPageManagement:!!e.templateManagement&&!_.isEmpty(e.templateManagement.page)}}),(function(e,t){return{intialPageLoad:function(){return e(Object(ve.a)())},doLogout:function(t,n){return e(Object(H.f)(t,n))}}}))(ot);function lt(e){var t=e.children;return r.a.createElement(T.Segment,{className:"logoPage"},t)}var ct=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return this.props.portalUrl?r.a.createElement("a",{href:this.props.portalUrl},"Back to apps"):r.a.createElement(Z.a,{to:{pathname:y.a.LOGIN_PAGE_PATH,search:this.props.searchQuery}},"Back to login")}}]),t}(a.Component);w()(ct,"propTypes",{portalUrl:O.a.string,searchQuery:O.a.string.isRequired});var ut=Object(i.connect)((function(e,t){return{portalUrl:e.config.app.saml.enabled?e.config.app.saml.portalUrl:null,searchQuery:e.router.location.search}}),(function(e,t){return{}}))(ct),pt=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return _.isEmpty(this.props.error)?r.a.createElement(E.a,{to:y.a.LOGOUT_PAGE_PATH}):r.a.createElement(T.MessageContainer,null,r.a.createElement(T.Header,{as:"h2"},"Unexpected Error Occurred"),r.a.createElement(T.Message,{content:this.props.error,error:!0}),r.a.createElement(ut,null))}}]),t}(a.Component),dt=Object(i.connect)((function(e,t){return{error:e.app.error}}),(function(e,t){return{}}))(pt),ht=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return r.a.createElement(T.MessageContainer,null,r.a.createElement(T.Header,{as:"h2"},"User is not associated with any tenants."),r.a.createElement(T.Message,null,"Unfortunately you cannot login since your account is not associated with any tenants. Please ask the administrator to assign at least one tenant to your account."),r.a.createElement(ut,null))}}]),t}(a.Component),mt=Object(i.connect)((function(e,t){return{}}),(function(e,t){return{}}))(ht),gt=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return r.a.createElement(lt,null,r.a.createElement(te,null),r.a.createElement(f.a,null,r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_PAGE_PATH,component:dt}),r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_NO_TENANTS_PAGE_PATH,component:mt}),r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_404_PAGE_PATH,component:nt})))}}]),t}(a.Component),ft=n(311);n(1448);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Et=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state={username:e.username||"",password:"",errors:{}},a}return g()(t,e),c()(t,[{key:"onSubmit",value:function(){var e={};if(_.isEmpty(this.state.username)&&(e.username="Please provide username"),_.isEmpty(this.state.password)&&(e.password="Please provide password"),!_.isEmpty(e))return this.setState({errors:e}),!1;var t=Object(Ue.parse)(this.props.location.search).redirect||null;this.props.onLogin(this.state.username,this.state.password,t)}},{key:"_handleInputChange",value:function(e,t){var n=T.Form.fieldNameValue(t);this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{errors:{}}))}},{key:"render",value:function(){_e.a.turnOff();var e=_.get(this.props,"whiteLabel.loginPageHeader"),t=_.get(this.props,"whiteLabel.loginPageHeaderColor"),n=_.get(this.props,"whiteLabel.loginPageText"),a=_.get(this.props,"whiteLabel.loginPageTextColor"),i=!_.isEmpty(e)||!_.isEmpty(n);return r.a.createElement(lt,null,r.a.createElement("div",{className:"loginContainer ".concat(i?"loginContainerExtended":"")},r.a.createElement(te,null),i&&r.a.createElement("div",{style:{textAlign:"center",marginBottom:30}},e&&r.a.createElement("h2",{style:{color:t,fontSize:"2em",fontFamily:"JosefinSans-Bold, sans-serif"}},e),n&&r.a.createElement("p",{style:{color:a,fontSize:"1.1em"}},n)),r.a.createElement(T.Form,{onSubmit:this.onSubmit.bind(this)},r.a.createElement(T.Form.Field,{required:!0,error:this.state.errors.username},r.a.createElement(T.Input,{name:"username",type:"text",placeholder:"Username",autoFocus:!0,value:this.state.username,onChange:this._handleInputChange.bind(this)})),r.a.createElement(T.Form.Field,{required:!0,error:this.state.errors.password},r.a.createElement(T.Input,{name:"password",type:"password",placeholder:"Password",value:this.state.password,onChange:this._handleInputChange.bind(this)})),this.props.loginError&&r.a.createElement(T.Message,{error:!0,style:{display:"block"}},this.props.loginError),r.a.createElement(T.Button,{disabled:this.props.isLoggingIn,loading:this.props.isLoggingIn,color:"yellow",size:"large",type:"submit",content:"LOGIN"}))))}}]),t}(a.Component);w()(Et,"propTypes",{username:O.a.string,loginError:O.a.string,onLogin:O.a.func.isRequired,isLoggingIn:O.a.bool.isRequired,whiteLabel:O.a.object});var yt=Object(ft.a)(Object(i.connect)((function(e){return{username:e.manager?e.manager.username:"",isLoggingIn:e.manager.isLoggingIn,loginError:e.manager?e.manager.err:"",mode:e.config.mode,whiteLabel:e.config.app.whiteLabel}}),(function(e,t){return{onLogin:function(t,n,a){e(Object(H.e)(t,n,a))}}}))(Et)),bt=n(4),_t=n.n(bt);function wt(e){var t=e.error,n=e.isLoading,a=e.license,i=e.onChange,o=e.onErrorDismiss,s=e.onUpload;return r.a.createElement(T.Segment,null,r.a.createElement(T.Form,{errors:t,errorMessageHeader:"License error",onErrorsDismiss:o},r.a.createElement(T.Form.TextArea,{name:"license",autoHeight:!0,error:!!t,placeholder:"Paste the complete license string, including the license signature",value:a,onChange:i,disabled:n}),r.a.createElement(T.Button,{content:"Update",icon:"upload",color:"yellow",labelPosition:"left",disabled:_.isEmpty(a),loading:n,onClick:s})))}function Ct(e){var t=e.isEditLicenseActive,n=e.onClick,a=e.color;return r.a.createElement(T.Button,{content:t?"Show License":"Edit License",floated:"right",icon:t?"text file":"edit",color:a,labelPosition:"left",onClick:n})}function Ot(e){var t=e.canUploadLicense,n=e.isTrial,a=e.isEditLicenseActive,i=e.onLicenseButtonClick,o={icon:!0},s=function(e){var t=e.children;return r.a.createElement("span",null,t)};switch(e.status){case y.a.LICENSE.EMPTY:return r.a.createElement(T.Message,$()({negative:!0},o),r.a.createElement(T.Icon,{name:"ban"}),r.a.createElement(T.Message.Content,null,r.a.createElement(T.Message.Header,null,"No active license"),t?r.a.createElement(s,null,"To activate this product, please enter the license key provided by Cloudify below and press update. Visit the Cloudify"," ",r.a.createElement("a",{target:"_blank",href:"https://cloudify.co"},"web site")," ","to learn more and acquire a free",r.a.createElement("a",{target:"_blank",href:"https://cloudify.co/download/#trial"},"trial license"),"."):r.a.createElement(s,null,"To activate this product, please contact your Cloudify administrator.")));case y.a.LICENSE.EXPIRED:return n?r.a.createElement(T.Message,$()({negative:!0},o),r.a.createElement(T.Icon,{name:"clock outline"}),r.a.createElement(T.Message.Content,null,t&&r.a.createElement(Ct,{isEditLicenseActive:a,onClick:i,color:"red"}),r.a.createElement(T.Message.Header,null,"The trial license has expired"),t?r.a.createElement(s,null,"Please contact"," ",r.a.createElement("a",{target:"_blank",href:"https://cloudify.co/contact"},"Cloudify"),"to obtain a license key."):r.a.createElement(s,null,"Please contact your Cloudify administrator."))):r.a.createElement(T.Message,$()({warning:!0},o),r.a.createElement(T.Icon,{name:"clock outline"}),r.a.createElement(T.Message.Content,null,t&&r.a.createElement(Ct,{isEditLicenseActive:a,onClick:i,color:"brown"}),r.a.createElement(T.Message.Header,null,"Product license has expired"),t?r.a.createElement(s,null,"Please contact"," ",r.a.createElement("a",{target:"_blank",href:"https://cloudify.co/support"},"Cloudify support"),"to obtain a new license key."):r.a.createElement(s,null,"Please contact your Cloudify administrator.")));case y.a.LICENSE.ACTIVE:return r.a.createElement(T.Message,$()({positive:!0},o),r.a.createElement(T.Icon,{name:"checkmark"}),r.a.createElement(T.Message.Content,null,t&&r.a.createElement(Ct,{isEditLicenseActive:a,onClick:i,color:"green"}),r.a.createElement(T.Message.Header,null,"License is valid"),r.a.createElement(s,null,"No action required.")))}}var Pt=function(e){function t(e){var n;return s()(this,t),(n=p()(this,h()(t).call(this,e))).state={error:null,isLoading:!1,isEditLicenseActive:!1,license:""},n.onErrorDismiss=n.onErrorDismiss.bind(_t()(n)),n.onLicenseButtonClick=n.onLicenseButtonClick.bind(_t()(n)),n.onLicenseEdit=n.onLicenseEdit.bind(_t()(n)),n.onLicenseUpload=n.onLicenseUpload.bind(_t()(n)),n.toolbox=z.a.getToolbox((function(){}),(function(){}),null),n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;return this.setState({isLoading:!0}),this.toolbox.getManager().doGet("/license").then((function(t){var n=_.get(t,"items[0]",{});e.setState({isLoading:!1,error:null,isEditLicenseActive:_.isEmpty(n)}),e.props.onLicenseChange(n)})).catch((function(t){return e.setState({isLoading:!1,error:t.message})}))}},{key:"onErrorDismiss",value:function(){this.setState({error:null})}},{key:"onLicenseEdit",value:function(e,t){this.setState(T.Form.fieldNameValue(t))}},{key:"onLicenseUpload",value:function(){var e=this;return this.setState({isLoading:!0}),this.toolbox.getManager().doPut("/license",null,this.state.license).then((function(t){e.setState({isLoading:!1,error:null,isEditLicenseActive:!1}),e.props.onLicenseChange(t)})).catch((function(t){return e.setState({isLoading:!1,error:t.message})}))}},{key:"onLicenseButtonClick",value:function(){this.setState({isEditLicenseActive:!this.state.isEditLicenseActive})}},{key:"render",value:function(){var e=this.props,t=e.license,n=e.canUploadLicense,a=e.isProductOperational,i=e.onGoToApp,o=e.status,s=this.state,l=s.license,c=s.error,u=s.isLoading,p=s.isEditLicenseActive,d=!_.isEmpty(t)&&t.trial;return r.a.createElement(lt,null,r.a.createElement(oe,null),r.a.createElement(T.MessageContainer,{wide:!0,size:"large",textAlign:"left",loading:u},r.a.createElement(T.Header,{as:"h2"},r.a.createElement(T.Icon,{name:"key"})," License Management"),r.a.createElement(Ot,{isTrial:d,status:o,canUploadLicense:n,isEditLicenseActive:p,onLicenseButtonClick:this.onLicenseButtonClick}),n&&p?r.a.createElement(wt,{error:c,isLoading:u,license:l,onChange:this.onLicenseEdit,onErrorDismiss:this.onErrorDismiss,onUpload:this.onLicenseUpload}):r.a.createElement(se,{license:t}),r.a.createElement(T.Grid,{columns:"equal"},r.a.createElement(T.Grid.Column,{textAlign:"left",verticalAlign:"middle"},r.a.createElement(ce,null)),r.a.createElement(T.Grid.Column,{textAlign:"right",verticalAlign:"middle"},r.a.createElement(T.Button,{content:"Go to app",icon:"arrow right",color:"green",labelPosition:"right",fluid:!1,disabled:!a,onClick:i})))))}}]),t}(a.Component);w()(Pt,"propTypes",{isProductOperational:O.a.bool.isRequired,license:O.a.object.isRequired,onLicenseChange:O.a.func.isRequired,onGoToApp:O.a.func.isRequired,status:O.a.oneOf([y.a.LICENSE.ACTIVE,y.a.LICENSE.EMPTY,y.a.LICENSE.EXPIRED]).isRequired}),w()(Pt,"defaultProps",{});var Tt=n(320),St=n(116),kt=Object(i.connect)((function(e,t){var n=_.get(e,"manager",{}),a=_.get(n,"license",{});return{canUploadLicense:z.a.isUserAuthorized(y.a.permissions.LICENSE_UPLOAD,n),isProductOperational:St.a.isProductOperational(a),license:_.get(a,"data",{}),status:_.get(a,"status",y.a.LICENSE.EMPTY)}}),(function(e,t){return{onLicenseChange:function(t){e(Object(Tt.a)(t))},onGoToApp:function(){e(Object(B.push)(y.a.HOME_PAGE_PATH))}}}))(Pt),It=n(335),Dt=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state={showMaintenanceModal:!1},a.toolbox=z.a.getToolbox((function(){}),(function(){}),null),a}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){ye.a.getPoller().start(),this.props.onGetClusterStatus()}},{key:"componentDidUpdate",value:function(){this.props.maintenanceStatus!==y.a.MAINTENANCE_ACTIVATED&&this.props.navigateToHome()}},{key:"componentWillUnmount",value:function(){ye.a.getPoller().stop()}},{key:"render",value:function(){var e=this;_e.a.turnOff();var t=this.props,n=t.canMaintenanceMode,a=t.isFetchingClusterStatus,i=t.showServicesStatus,o=this.state.showMaintenanceModal;return r.a.createElement(lt,null,r.a.createElement(oe,null),r.a.createElement(T.MessageContainer,{wide:!0},r.a.createElement(T.Header,{as:"h2"},"Maintenance mode"),r.a.createElement("p",null,"Server is on maintenance mode and is not available at the moment."),n&&r.a.createElement(T.MaintenanceModeActivationButton,{activate:!1,onClick:function(){return e.setState({showMaintenanceModal:!0})}}),i&&r.a.createElement("div",{style:{fontSize:"1rem"}},r.a.createElement(T.Divider,null),r.a.createElement(x,null),!a&&r.a.createElement(It.a,{toolbox:this.toolbox}))),n&&r.a.createElement(T.MaintenanceModeModal,{show:o,onHide:function(){return e.setState({showMaintenanceModal:!1})}}))}}]),t}(a.Component);Dt.propTypes={canMaintenanceMode:O.a.bool.isRequired,isFetchingClusterStatus:O.a.bool.isRequired,maintenanceStatus:O.a.string.isRequired,navigateToHome:O.a.func.isRequired,onGetClusterStatus:O.a.func.isRequired,showServicesStatus:O.a.bool.isRequired};var At=Object(i.connect)((function(e){var t=z.a.isUserAuthorized(y.a.permissions.STAGE_MAINTENANCE_MODE,e.manager),n=z.a.isUserAuthorized(y.a.permissions.STAGE_SERVICES_STATUS,e.manager);return{canMaintenanceMode:t,isFetchingClusterStatus:_.get(e.manager,"clusterStatus.isFetching"),maintenanceStatus:_.get(e.manager,"maintenance"),showServicesStatus:n}}),(function(e){return{navigateToHome:function(){return e(Object(B.push)(y.a.HOME_PAGE_PATH))},onGetClusterStatus:function(){e(Object(N.a)())}}}))(Dt),jt=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){window.location=this.props.url}},{key:"render",value:function(){return r.a.createElement("section",null,"Redirecting to ",this.props.url,"...")}}]),t}(a.Component),Rt=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(f.a,null,r.a.createElement(v.a,{exact:!0,path:y.a.LOGIN_PAGE_PATH,render:function(){return e.props.isSamlEnabled?r.a.createElement(jt,{url:e.props.samlSsoUrl}):r.a.createElement(yt,null)}}),r.a.createElement(v.a,{exact:!0,path:y.a.LOGOUT_PAGE_PATH,render:function(){return e.props.isSamlEnabled?r.a.createElement(jt,{url:e.props.samlPortalUrl}):r.a.createElement(E.a,{to:y.a.LOGIN_PAGE_PATH})}}),r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_PAGE_PATH,component:gt}),r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_NO_TENANTS_PAGE_PATH,component:gt}),r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_404_PAGE_PATH,component:gt}),this.props.isLoggedIn&&this.props.isLicenseRequired&&r.a.createElement(v.a,{exact:!0,path:y.a.LICENSE_PAGE_PATH,component:kt}),this.props.isLoggedIn&&r.a.createElement(v.a,{exact:!0,path:y.a.MAINTENANCE_PAGE_PATH,component:At}),r.a.createElement(v.a,{render:function(t){return e.props.isLoggedIn?e.props.isInMaintenanceMode?r.a.createElement(E.a,{to:y.a.MAINTENANCE_PAGE_PATH}):e.props.isProductOperational?r.a.createElement(st,t):r.a.createElement(E.a,{to:y.a.LICENSE_PAGE_PATH}):r.a.createElement(E.a,{to:y.a.LOGIN_PAGE_PATH})}}))}}]),t}(a.Component);t.a=Object(i.connect)((function(e){return{isProductOperational:St.a.isProductOperational(_.get(e,"manager.license",{})),isLicenseRequired:_.get(e,"manager.license.isRequired",!1),isLoggedIn:St.a.isLoggedIn(),isInMaintenanceMode:e.manager&&e.manager.maintenance===y.a.MAINTENANCE_ACTIVATED,isSamlEnabled:_.get(e,"config.app.saml.enabled",!1),samlPortalUrl:_.get(e,"config.app.saml.portalUrl",""),samlSsoUrl:_.get(e,"config.app.saml.ssoUrl","")}}),(function(e,t){return{}}))(Rt)},824:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(765),o=n(26),s=n(182),l=n(766),c=n(255),u=n.n(c),p=n(5),d=n.n(p),h=n(6),m=n.n(h),g=function(){function e(){d()(this,e)}return m()(e,null,[{key:"save",value:function(e,t){try{var n=JSON.stringify({manager:e.manager});localStorage.setItem("state-".concat(t),n)}catch(e){console.error(e)}}},{key:"load",value:function(e){try{var t=localStorage.getItem("state-".concat(e));if(null===t)return;return{manager:JSON.parse(t).manager}}catch(e){return void console.error(e)}}}]),e}(),f=n(24),v=n.n(f),E=n(13),y=n(318),b=n.n(y),w=n(19);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.e:return{id:b()(),name:t.name,width:t.width||t.widgetDefinition.initialWidth,height:t.height||t.widgetDefinition.initialHeight,x:t.x,y:t.y,definition:t.widgetDefinition.id,configuration:O({},w.a.buildConfig(t.widgetDefinition),{},t.configuration),drillDownPages:{}};case E.L:return O({},e,{name:t.name});case E.m:return O({},e,{configuration:t.configuration});case E.s:return O({},e,{maximized:t.maximized});case E.t:return O({},e,{maximized:!1});case E.i:return O({},e,{x:t.gridData.x,y:t.gridData.y,width:t.gridData.width,height:t.gridData.height});case E.a:var n=O({},e,{drillDownPages:O({},e.drillDownPages)});return n.drillDownPages[t.drillDownName]=t.drillDownPageId,n;default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.e:return t.widgetDefinition?[].concat(v()(e),[P(void 0,t)]):e;case E.L:case E.m:case E.s:return e.map((function(e){return e.id===t.widgetId?P(e,t):e}));case E.t:return e.map((function(e){return e.maximized?P(e,t):e}));case E.i:return e.map((function(e){return e.id===t.widgetId?P(e,t):e}));case E.J:var n=_.findIndex(e,{id:t.widgetId});return[].concat(v()(e.slice(0,n)),v()(e.slice(n+1)));case E.a:return e.map((function(e){return e.id===t.widgetId?P(e,t):e}));default:return e}};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.b:return{id:t.newPageId,name:t.name,description:"",widgets:[]};case E.k:return{isDrillDown:!0,id:t.newPageId,name:t.name,description:"",widgets:[]};case E.a:var n=k({},e,{widgets:T(e.widgets,t)});return t.parentPageId&&t.drillDownPageId&&(e.id===t.parentPageId?(n.children=n.children||[],n.children.push(t.drillDownPageId)):e.id===t.drillDownPageId&&(n.parent=t.parentPageId)),n;case E.h:return k({},e,{description:t.description});case E.K:return k({},e,{name:t.name});default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.b:case E.k:return[].concat(v()(e),[I(void 0,t)]);case E.e:case E.L:case E.i:case E.m:case E.s:case E.J:return e.map((function(e){return e.id===t.pageId?k({},e,{widgets:T(e.widgets,t)}):e}));case E.t:return e.map((function(e){return k({},e,{widgets:T(e.widgets,t)})}));case E.G:var n=_.findIndex(e,{id:t.pageId});return[].concat(v()(e.slice(0,n)),v()(e.slice(n+1)));case E.K:case E.h:return e.map((function(e){return e.id===t.pageId?I(e,t):e}));case E.a:var a=null;_.each(e,(function(e){_.each(e.widgets,(function(n){n.id===t.widgetId&&(a=e.id)}))}));var r=k({},t,{parentPageId:a});return e.map((function(e){return I(e,r)}));case E.M:var i=t.pageIndex,o=t.newPageIndex,s=0,l=0,c=e.slice(0);_.each(c,(function(e){e.isDrillDown||(i-=1,o-=1),i>=0&&(s+=1),o>=0&&(l+=1)}));var u=c.splice(s,1)[0];return c.splice(l,0,u),c;case E.eb:return t.pages;case E.Q:case E.r:return[];default:return e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.jb:return v()(t.tours);default:return e}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ib:return R({},t.templates);case E.c:case E.l:return R({},e,{templatesDef:R({},e.templatesDef,r()({},t.templateId,R({},[t.templateId],{pages:t.pages})))});case E.H:return R({},e,{templatesDef:_.omit(e.templatesDef,[t.templateId])});case E.d:return R({},e,{pagesDef:R({},e.pagesDef,r()({},t.pageId,{name:t.name,widgets:t.widgets}))});case E.I:return R({},e,{pagesDef:_.omit(e.pagesDef,[t.pageId])});default:return e}},x=n(113),M=n.n(x);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return e.map((function(e){return e.id===t?U({},e,{},n):e}))}var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ob:return U({},e,{isLoading:!0,error:null});case E.mb:return U({},e,{isLoading:!1,error:t.error});case E.nb:return{templates:t.templates,pages:t.pages,isLoading:!1,error:null};case E.pb:return U({},e,{templates:_.map(e.templates,(function(e){return U({},e,{selected:!e.selected&&e.id===t.templateId})}))});case E.D:return U({},e,{pages:_.map(e.pages,(function(e){return U({},e,{selected:!e.selected&&e.id===t.pageId})}))});case E.E:return U({},e,{isPageEditMode:t.isPageEditMode,page:{id:t.pageId,name:t.pageName,widgets:[]}});case E.v:return U({},e,{page:U({},e.page,{oldId:e.page.id,id:t.pageId,name:t.pageName})});case E.u:var n={id:b()(),name:t.name,width:t.width||t.widgetDefinition.initialWidth,height:t.height||t.widgetDefinition.initialHeight,x:t.x,y:t.y,definition:t.widgetDefinition.id,configuration:U({},w.a.buildConfig(t.widgetDefinition),{},t.configuration),drillDownPages:{}};return U({},e,{page:U({},e.page,{widgets:[].concat(v()(e.page.widgets),[n])})});case E.C:var a=F(e.page.widgets,t.widgetId,{name:t.name});return U({},e,{page:U({},e.page,{widgets:a})});case E.B:a=_.filter(e.page.widgets,(function(e){return e.id!==t.widgetId}));return U({},e,{page:U({},e.page,{widgets:a})});case E.z:a=F(e.page.widgets,t.widgetId,{configuration:t.configuration});return U({},e,{page:U({},e.page,{widgets:a})});case E.A:a=F(e.page.widgets,t.widgetId,{maximized:t.maximized});return U({},e,{page:U({},e.page,{widgets:a})});case E.w:var r={x:t.gridData.x,y:t.gridData.y,width:t.gridData.width,height:t.gridData.height};a=F(e.page.widgets,t.widgetId,r);return U({},e,{page:U({},e.page,{widgets:a})});case E.lb:e.pages,e.templates;var i=M()(e,["pages","templates"]);return i;case E.x:e.page;var o=M()(e,["page"]);return o;case E.y:return U({},e,{showDrillDownWarn:t.show});default:return e}};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.Z:var n=G({},e);return n[t.key]=t.value,n;case E.j:return{};default:return e}},W=n(90),H=n.n(W);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.P:return Y({},e,{isFetching:!0});case E.R:var n=_.get(t.tenants,"items[0].name",null);return _.isEmpty(e.selected)||null==_.find(t.tenants.items,{name:e.selected})||(n=e.selected),Y({},e,{isFetching:!1,items:t.tenants.items,selected:n,lastUpdated:t.receivedAt});case E.p:return Y({},e,{isFetching:!1,error:t.error,items:[],lastUpdated:t.receivedAt});case E.S:return Y({},e,{selected:t.tenant})}};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.N:return J({},e,{isFetching:!0});case E.X:return{isFetching:!1,error:void 0,status:t.status,services:t.services||e.services};case E.n:return J({},e,{isFetching:!1,error:t.error});default:return e}},Q=n(116);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.Q:return ee({},e,{data:{},status:"",isRequired:t.licenseRequired});case E.cb:return ee({},e,{},e,{data:t.license,status:Q.a.getLicenseStatus(t.license)});default:return ee({},e)}};function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.O:return ae({},e,{isLoggingIn:!0});case E.Q:return ae({},e,{isLoggingIn:!1,username:t.username,auth:{role:t.role,groupSystemRoles:{},tenantsRoles:{}},err:null,tenants:[],lastUpdated:t.receivedAt,clusterStatus:{},license:te(e.license,t),version:t.version});case E.r:return ae({},e,{isLoggingIn:!1,auth:{role:null,groupSystemRoles:{},tenantsRoles:{}},err:null,tenants:{},lastUpdated:t.receivedAt,clusterStatus:{},license:{},version:{}});case E.o:return ae({},e,{isLoggingIn:!1,username:t.username,auth:{role:null,groupSystemRoles:{},tenantsRoles:{}},err:null!=t.error&&"object"===H()(t.error)?t.error.message:t.error,tenants:{},lastUpdated:t.receivedAt,clusterStatus:{},license:{},version:{}});case E.fb:return ae({},e,{username:t.username,auth:{role:t.role,groupSystemRoles:t.groupSystemRoles,tenantsRoles:t.tenantsRoles}});case E.N:case E.X:case E.n:return ae({},e,{clusterStatus:Z(e.clusterStatus,t)});case E.db:return ae({},e,{version:t.version});case E.cb:return ae({},e,{license:te(e.license,t)});case E.bb:return ae({},e,{maintenance:t.maintenance});case E.P:case E.R:case E.p:case E.S:return ae({},e,{tenants:X(e.tenants,t)});case E.T:return ae({},e,{activeExecutions:t.activeExecutions?t.activeExecutions:{}});case E.g:return ae({},e,{cancelExecution:t.execution,cancelAction:t.action});case E.hb:return ae({},e,{roles:t.roles,permissions:t.permissions});default:return e}};function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.Y:return oe({},e,{isEditMode:t.isEditMode});case E.W:return oe({},e,{clientConfig:t.config});case E.r:return oe({},e,{clientConfig:null,isEditMode:!1});default:return e}};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.V:return ce({},e,{loading:t.isLoading});case E.U:return ce({},e,{error:t.error,loading:!1});case E.gb:return ce({},e,{currentPageId:t.pageId});case E.Q:return ce({},e,{loading:!0});case E.r:return ce({},e,{error:t.error,loading:!1});case E.f:return ce({},e,{sidebarIsOpen:!e.sidebarIsOpen});default:return e}};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.vb:return _.find(e,{id:t.widgetId})?e.map((function(e){return e.id===t.widgetId?de({},e,{},{loading:!0,canceled:!1,error:null}):e})):[].concat(v()(e),[{id:t.widgetId,data:{},loading:!0,canceled:!1,error:null}]);case E.ub:return e.map((function(e){return e.id===t.widgetId?de({},e,{},{loading:!1,error:t.error,canceled:!1}):e}));case E.wb:return e.map((function(e){return e.id===t.widgetId?de({},e,{},{loading:!1,data:t.data,recievedAt:t.recievedAt,error:null,canceled:!1}):e}));case E.tb:return e.map((function(e){return e.id===t.widgetId?de({},e,{},{loading:!1,error:null,canceled:!0}):e}));case E.sb:return[];default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ab:return t.drilldownContext;case E.F:var n=v()(e);return n.splice(-t.count,t.count),n;default:return e}},ge=Object(s.combineReducers)({app:ue,manager:re,pages:D,widgetDefinitions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.kb:return v()(t.widgetDefinitions);case E.q:return _.sortBy([].concat(v()(e),v()(t.widgetDefinitions)),["name"]);case E.rb:var n=_.reject(e,{id:t.widgetId});return _.sortBy([].concat(v()(n),v()(t.widgetDefinitions)),["name"]);case E.qb:return _.reject(e,{id:t.widgetId});default:return e}},tours:A,templates:N,templateManagement:q,context:B,drilldownContext:me,config:se,widgetData:he});function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=function(e,t){var n=g.load(t.mode);void 0!==n||(n={context:{},manager:{}}),(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{config:t})).manager.err=null,n.manager.isLoggingIn=!1;var a=Object(s.createStore)(Object(o.connectRouter)(e)(ge),n,Object(l.composeWithDevTools)(Object(s.applyMiddleware)(i.a,Object(o.routerMiddleware)(e))));return a.subscribe(u()((function(){g.save(a.getState(),t.mode)}),1e3)),a}},850:function(e,t,n){e.exports=n(851)},851:function(e,t,n){"use strict";n.r(t);var a=n(431);a.a.load().then(a.a.start)},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(2),l=n.n(s),c=n(114),u=n(226),p=function(){function e(){r()(this,e)}return o()(e,null,[{key:"CATEGORY",get:function(){return{BLUEPRINTS:"Blueprints",DEPLOYMENTS:"Deployments",BUTTONS_AND_FILTERS:"Buttons and Filters",CHARTS_AND_STATISTICS:"Charts and Statistics",EXECUTIONS_NODES:"Executions/Nodes",SYSTEM_RESOURCES:"System Resources",SPIRE:"Spire",OTHERS:"Others",ALL:"All"}}},{key:"CUSTOM_WIDGET_PERMISSIONS",get:function(){return{CUSTOM_ADMIN_ONLY:"widget_custom_admin",CUSTOM_SYS_ADMIN_ONLY:"widget_custom_sys_admin",CUSTOM_ALL:"widget_custom_all"}}}]),e}();l()(p,"POLLING_TIME_CONFIG",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{id:"pollingTime",name:"Refresh time interval",default:e,placeHolder:"Enter time interval in seconds",description:"Data of the widget will be refreshed per provided interval time in seconds",type:c.a.NUMBER_TYPE}})),l()(p,"PAGE_SIZE_CONFIG",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a.PAGE_SIZE_LIST(5)[0];return{id:"pageSize",default:e,hidden:!0}})),l()(p,"SORT_COLUMN_CONFIG",(function(e){return{id:"sortColumn",default:e,hidden:!0}})),l()(p,"SORT_ASCENDING_CONFIG",(function(e){return{id:"sortAscending",default:e,hidden:!0}})),l()(p,"WIDGET_PERMISSION",(function(e){return"widget_".concat(e)}))},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(13),r=n(101);function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var i=n(),o=i.app,s=i.manager,l=i.pages,c=new r.a(s),u=e&&!function(e,t){var n=_.find(t,{id:e})||{},a=_.find(_.get(n,"widgets"),{definition:"highAvailability"});return _.isObject(a)}(o.currentPageId,l);return t({type:a.N}),c.doGet("/cluster-status?summary=".concat(u)).then((function(e){var n=e.services,r=e.status;t(function(e,t){return{type:a.X,status:e,services:t}}(r,u?void 0:n))})).catch((function(e){var n;t((n=e,{type:a.n,error:n}))}))}}}});
\ No newline at end of file
+!function(e){function t(t){for(var a,o,s=t[0],l=t[1],c=t[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(t);d.length;)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/console";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([851,1]),n()}({100:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(13),r=n(77);function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var i=n(),o=i.app,s=i.manager,l=i.pages,c=new r.a(s),u=e&&!function(e,t){var n=_.find(t,{id:e})||{},a=_.find(_.get(n,"widgets"),{definition:"highAvailability"});return _.isObject(a)}(o.currentPageId,l);return t({type:a.N}),c.doGet("/cluster-status?summary=".concat(u)).then((function(e){var n=e.services,r=e.status;t(function(e,t){return{type:a.X,status:e,services:t}}(r,u?void 0:n))})).catch((function(e){var n;t((n=e,{type:a.n,error:n}))}))}}},101:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(2),l=n.n(s),c=function(){function e(){r()(this,e)}return o()(e,null,[{key:"on",value:function(e,t,n){this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push([t,n])}},{key:"trigger",value:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),a=this.events[e];a&&_.each(a,(function(e){var a=e[0],r=void 0===e[1]?t:e[1];a.apply(r,n)}))}},{key:"off",value:function(e,t){var n=this.events[e];n&&_.remove(n,(function(e){return e[0]===t}))}}]),e}();l()(c,"events",{})},102:function(e,t,n){"use strict";var a=n(13),r=n(5),i=n.n(r),o=n(6),s=n.n(o),l=n(32),c=n(117),u=function(){function e(){i()(this,e)}return s()(e,null,[{key:"load",value:function(e){console.log("Load templates");var t={},n={},a=new l.a(e);return Promise.all([a.doGet("/templates"),a.doGet("/templates/pages")]).then((function(e){var a=e[0],r=e[1],i=[];return a.forEach((function(e){i.push(c.a.fetchResource("templates/".concat(e.id,".json"),e.custom).then((function(n){return t[e.id]=n})).catch((function(t){throw new Error("Error loading template ".concat(e.id),t)})))})),r.forEach((function(e){i.push(c.a.fetchResource("templates/pages/".concat(e.id,".json"),e.custom).then((function(t){return n[e.id]=t})).catch((function(t){throw new Error("Error loading page template ".concat(e.id),t)})))})),Promise.all(i)})).then((function(){return{templatesDef:t,pagesDef:n}})).catch((function(e){console.error(e)}))}}]),e}();function p(){return function(e,t){return u.load(t().manager).then((function(t){return e((n=t,{type:a.jb,templates:n}));var n}))}}function d(e,t){return{type:a.c,templateId:e,pages:t}}function h(e,t){return{type:a.l,templateId:e,pages:t}}function m(e){return{type:a.H,templateId:e}}function g(e,t,n){return{type:a.d,pageId:e,name:t,widgets:n}}function f(e){return{type:a.I,pageId:e}}n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return f}))},1031:function(e,t,n){var a=n(1032);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(80)(a,r);a.locals&&(e.exports=a.locals)},1032:function(e,t,n){(e.exports=n(79)(!1)).push([e.i,'a:hover {\n  text-decoration: underline !important;\n  cursor: pointer; }\n\n.loadingSegment {\n  height: 100%;\n  z-index: 5 !important; }\n\n.ui.top.menu .right.menu .ui.dropdown.item {\n  padding: 5px 10px;\n  border-left: none;\n  height: 55px; }\n\n.dropDownText, .compactBlock {\n  display: inline-block; }\n\n.sidebar-button {\n  color: #FFFFFF;\n  padding: 15px; }\n\n@media (min-width: 992px) {\n  .show-on-small-screen {\n    display: none !important; } }\n\n@media (max-width: 800px) {\n  .hide-on-small-screen {\n    display: none !important; } }\n\n.main {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 55px;\n  overflow: auto; }\n  .main .sidebar.ui.left.menu {\n    z-index: 100;\n    top: 55px;\n    height: calc(100% - 55px) !important;\n    transition: all 500ms cubic-bezier(0.55, 0, 0.1, 1);\n    left: -200px; }\n    @media (min-width: 992px) {\n      .main .sidebar.ui.left.menu {\n        left: 0; } }\n    .main .sidebar.ui.left.menu.open {\n      left: 0 !important; }\n    .main .sidebar.ui.left.menu .item:before {\n      background-color: #C1C1C6; }\n  .main .ui.left.menu.sidebar.editSideBar {\n    height: calc(100% - 109px) !important; }\n  @media (min-width: 992px) {\n    .main .page {\n      margin-left: 13rem; } }\n  .main .page div.addWidget .ui.labeled.icon.button.addWidgetBtn {\n    position: absolute;\n    top: 2rem;\n    right: 15px; }\n  .main .ui.breadcrumb .section:not(.active) {\n    cursor: pointer; }\n\n.ui.segment.addPageContainer {\n  position: fixed;\n  left: 0px;\n  bottom: 0px;\n  width: 13rem;\n  z-index: 1;\n  transition: all 500ms cubic-bezier(0.55, 0, 0.1, 1);\n  left: -200px; }\n  @media (min-width: 992px) {\n    .ui.segment.addPageContainer {\n      left: 0px; } }\n  .ui.segment.addPageContainer.open {\n    left: 0px !important; }\n\n.grid-stack > .grid-stack-item.widget > .grid-stack-item-content {\n  overflow-x: initial;\n  overflow-y: initial; }\n\n.gridStackBottomSpace {\n  height: 150px; }\n\n.react-grid-item.widget {\n  z-index: auto !important; }\n\n.maximizeWidget .widget {\n  display: none; }\n  .maximizeWidget .widget.maximize {\n    display: block;\n    width: auto !important;\n    height: auto !important;\n    transform: translate(0px, 0px) !important;\n    position: fixed !important;\n    top: 8rem !important;\n    bottom: 1rem !important;\n    left: 14rem !important;\n    right: 1rem !important;\n    outline: 0; }\n    .maximizeWidget .widget.maximize .widget {\n      display: block; }\n\n.pageRemoveButton {\n  position: absolute;\n  right: 5px;\n  display: none;\n  visibility: hidden;\n  top: 40%; }\n\n.pageMenuItem:hover .pageRemoveButton {\n  display: block;\n  visibility: visible; }\n\n.pageDescription {\n  opacity: 0.6;\n  font-size: 12px; }\n  .pageDescription.editPlaceholder {\n    font-style: italic; }\n\n.pageTitle {\n  clear: both;\n  line-height: 1.5; }\n\n.pages .ui-sortable-helper {\n  background-color: rgba(255, 255, 255, 0.4) !important; }\n\n.pages .ui-sortable-placeholder {\n  height: 40px !important; }\n\n.react-grid-placeholder {\n  background-color: #ccc !important;\n  border: 2px dotted #777;\n  border-radius: 2px; }\n\n.layout.isEditMode {\n  background-color: #fafafa;\n  border: 1px solid #eee;\n  border-radius: 5px; }\n\n.layout > .react-draggable {\n  background-color: rgba(0, 0, 0, 0.04);\n  border-radius: 2px; }\n\n.layout > .react-draggable-dragging {\n  opacity: 0.3;\n  filter: blur(1px); }\n\n.layout .widgetItem {\n  height: 100%; }\n\n.layout .widgetWithoutContent {\n  overflow: auto; }\n\n.widget .widgetEditButtons, .widget .widgetViewButtons {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  display: none;\n  z-index: 5; }\n  .widget .widgetEditButtons a, .widget .widgetViewButtons a {\n    color: inherit !important; }\n  .widget .widgetEditButtons a:hover, .widget .widgetViewButtons a:hover {\n    text-decoration: none !important; }\n\n.widget .widgetViewButtons.alwaysOnTop {\n  display: block; }\n\n.widget:hover .widgetEditButtons, .widget:hover .widgetViewButtons {\n  display: block; }\n\n.widget:hover .ui.basic.segment.borderOnHover {\n  border: 1px solid rgba(34, 36, 38, 0.15); }\n\n.widget .row {\n  cursor: pointer; }\n  .widget .row .rowActions {\n    white-space: nowrap; }\n\n.widget .ui.segment.widgetItem {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; }\n\n.widget .widgetContent {\n  position: absolute;\n  top: 35px;\n  bottom: 15px;\n  left: 0px;\n  right: 0px;\n  overflow: auto;\n  padding: 15px; }\n  .widget .widgetContent.noHeader {\n    top: 0px; }\n  .widget .widgetContent.noBorder {\n    overflow: initial;\n    padding: 0px !important; }\n\n.uploadSnapshot {\n  float: right; }\n\n.createSnapshot {\n  float: right; }\n\n.snapshotsButtons {\n  position: relative;\n  bottom: 5px; }\n\n.editWidgetModal {\n  max-height: none; }\n\n.addWidgetModal {\n  max-height: 600px; }\n  .addWidgetModal .widgetsList {\n    height: 435px;\n    overflow: auto;\n    padding-top: 5px; }\n    .addWidgetModal .widgetsList .item {\n      padding: 30px 10px;\n      cursor: pointer;\n      align-items: center; }\n      .addWidgetModal .widgetsList .item:hover {\n        background-color: #eee;\n        border-radius: 5px; }\n      .addWidgetModal .widgetsList .item .image > img {\n        object-fit: contain;\n        height: 80px !important;\n        border-radius: 5px;\n        background: #fff;\n        border: 1px dotted #eee;\n        transition: all 500ms ease-in-out; }\n        .addWidgetModal .widgetsList .item .image > img:hover {\n          transform: scale(1.3);\n          box-shadow: 0px 8px 20px -6px rgba(0, 0, 0, 0.75); }\n  .addWidgetModal .widgetsList .selectWidgetButton {\n    margin-right: 10px !important; }\n  .addWidgetModal .addWidgetCheckbox {\n    margin-left: 10px;\n    margin-right: 20px;\n    margin-top: auto;\n    margin-bottom: auto;\n    height: 20px; }\n\n.logoPage.ui.segment {\n  margin: 0 !important;\n  padding: 0 !important;\n  overflow: auto;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  border: none !important;\n  border-radius: 0 !important; }\n  .logoPage.ui.segment .loginContainer {\n    margin: auto;\n    width: 350px;\n    height: 170px;\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0; }\n    .logoPage.ui.segment .loginContainer input,\n    .logoPage.ui.segment .loginContainer input:placeholder-shown {\n      margin: 0 50px;\n      color: #FFFFFF !important;\n      background: rgba(255, 255, 255, 0.3) !important; }\n    .logoPage.ui.segment .loginContainer input:focus,\n    .logoPage.ui.segment .loginContainer input:placeholder-shown:focus {\n      background: rgba(255, 255, 255, 0.6); }\n    .logoPage.ui.segment .loginContainer input::placeholder {\n      color: #FFFFFF;\n      opacity: 1 !important;\n      /* Firefox */ }\n    .logoPage.ui.segment .loginContainer button {\n      display: block;\n      margin: 30px auto;\n      width: 50%;\n      border-radius: 25px;\n      color: #FFFFFF; }\n  .logoPage.ui.segment .loginContainerExtended {\n    height: 400px; }\n\n.keyIndicator {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n.keyIndicator > div {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  white-space: nowrap; }\n\n.manager .icon.statusIcon {\n  line-height: 18px;\n  margin-right: 0px;\n  margin-left: 7px; }\n\n.tenantsMenu .menu {\n  minWidth: 190px;\n  left: auto !important;\n  right: 0; }\n\n.tenantsMenu .configure.icon {\n  margin: 0 0 0 0.5em !important;\n  opacity: 0.5 !important; }\n\n.usersMenu .dropdown.icon {\n  margin: 0 0 0 0.4em !important; }\n\n.usersMenu > span {\n  margin-top: 1px; }\n\n.tenantsMenu .dropdown.icon, .helpMenu .dropdown.icon {\n  margin: 0 0 0 0.4em !important;\n  vertical-align: middle; }\n\n.tenantsMenu i + span, .helpMenu i + span {\n  vertical-align: middle; }\n\ntable.servicesData {\n  margin-left: auto !important;\n  margin-right: auto !important; }\n\ntable.servicesData button.refreshButton {\n  width: auto !important; }\n\n.helpMenu .help.icon {\n  margin: 0 !important; }\n\n.helpMenu a {\n  color: inherit !important; }\n\n.helpMenu a:hover {\n  text-decoration: none !important; }\n\n.managerVersion {\n  font-size: 0.8em; }\n\n.ui.menu:not(.vertical) .item.configPanel {\n  flex-direction: row;\n  align-items: flex-end; }\n\n.ui.inline.loader.widgetLoader {\n  position: absolute;\n  left: auto;\n  bottom: auto;\n  display: none;\n  right: 50px;\n  z-index: 5; }\n  .ui.inline.loader.widgetLoader.header {\n    top: 4px; }\n  .ui.inline.loader.widgetLoader.noheader {\n    top: 5px; }\n\n/* Grid table */\n.gridTable .noDataRow {\n  height: 50px; }\n\n.actionField {\n  margin-left: auto !important;\n  padding-right: 0px !important; }\n  .actionField > button {\n    margin-right: 1em; }\n  .actionField > button:last-child, .actionField > div:last-child button {\n    margin-right: 0 !important; }\n  .actionField > div {\n    display: inline-block; }\n\n.actionIcons > i.icon {\n  margin-right: 2px !important; }\n\n.dataExpandable-appear {\n  opacity: 0.01; }\n\n.dataExpandable-appear.dataExpandable-appear-active {\n  opacity: 1;\n  transition: opacity .5s ease-in; }\n\n.dataExpandable-enter {\n  opacity: 0.01; }\n\n.dataExpandable-enter.dataExpandable-enter-active {\n  opacity: 1;\n  transition: opacity 500ms ease-in; }\n\n/* Pagination */\n.gridPagination .pagination.menu .item {\n  padding-top: 0.78571429em !important;\n  padding-bottom: 0.78571429em !important; }\n\n.gridPagination .compact.dropdown {\n  min-width: 50px !important; }\n\n/* Segment list */\n.segmentList .segments {\n  border: none !important; }\n\n.segmentList .segment {\n  box-shadow: none !important; }\n  .segmentList .segment .nodeState .segment {\n    padding: 2px 0px !important; }\n  .segmentList .segment .ui.inverted.darkyellow {\n    background-color: #ffa000 !important;\n    color: #FFFFFF !important; }\n  .segmentList .segment .nodeState .icon {\n    margin-right: 0px; }\n\n.segmentList .segment:hover {\n  background-color: #f3f4f5; }\n\n.segmentList .menuAction {\n  position: absolute;\n  right: 10px; }\n\n.segmentList .ui.icon.header {\n  color: inherit; }\n  .segmentList .ui.icon.header .content {\n    margin-bottom: 5px; }\n  .segmentList .ui.icon.header .icon {\n    font-size: 2em;\n    margin-bottom: 0px; }\n\n.segmentList .ui.header a {\n  color: inherit; }\n\n.segmentList .row.bottomDivider img {\n  width: auto;\n  max-width: 150px !important;\n  height: 70px;\n  display: inline-block; }\n\n.segmentList .row.bottomDivider .ui.header {\n  margin-left: 2rem;\n  margin-top: auto !important;\n  vertical-align: middle !important;\n  display: inline-block;\n  max-width: calc(100% - 150px); }\n\n.ui.grid .rightDivider {\n  position: relative; }\n\n.ui.grid .rightDivider::after {\n  content: "";\n  border-left: 1px solid rgba(34, 36, 38, 0.15);\n  border-right: 1px solid rgba(255, 255, 255, 0.1);\n  height: calc(100% - 2rem);\n  position: absolute;\n  right: 0;\n  top: 1rem;\n  width: 0px; }\n\n.ui.grid .bottomDivider {\n  position: relative; }\n\n.ui.grid .bottomDivider::after {\n  content: "";\n  border-top: 1px solid rgba(34, 36, 38, 0.15);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  width: calc(100% - 2rem);\n  position: absolute;\n  left: 1rem;\n  bottom: 0px;\n  height: 0px; }\n\n.breakWord {\n  display: block !important;\n  word-wrap: break-word; }\n\n/* Popup Menu */\n.popupMenu {\n  padding: 0 !important; }\n  .popupMenu .ui.menu {\n    border: none !important;\n    width: inherit !important;\n    min-width: 12rem; }\n  .popupMenu .ui.menu a:hover {\n    text-decoration: none !important; }\n  .popupMenu .ui.vertical.menu .menu .item {\n    color: #000000; }\n  .popupMenu .ui.vertical.menu .menu .item:hover {\n    background: rgba(0, 0, 0, 0.03); }\n\n/* Modal */\n.ui.modal.readmeModal img {\n  max-width: 100% !important; }\n\n.ui.modal.unlimited > .content {\n  max-height: none;\n  overflow: inherit; }\n\n.confirmModal.ui.modal > .content, .setVisibilityModal.ui.modal > .content {\n  font-size: 1.3em;\n  line-height: 1.28571429em;\n  font-weight: 700; }\n\n.ui.modal.tiny {\n  width: 500px !important;\n  margin-left: -222px !important; }\n\n.ui.tiny.modal > .header:not(.ui) {\n  font-size: 1.3em; }\n\n/* Center vertically */\n.rightFloated {\n  float: right; }\n\n.leftFloated {\n  float: left; }\n\n.verticalCenter {\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%); }\n\n.alignCenter {\n  text-align: center !important; }\n\n.noWrap {\n  white-space: nowrap !important; }\n\n.fullHeight {\n  height: 100%; }\n\n.noPadded {\n  padding: 0px !important; }\n\n.ui.dropdown .menu > .item.indent {\n  padding-left: 30px !important; }\n\n.ui.dropdown > a.label {\n  text-decoration: none !important; }\n\n.ui.dropdown.multiple[role=combobox][aria-expanded=false] {\n  overflow-y: auto;\n  max-height: 35px; }\n\n.ui.form .inline.fields {\n  align-items: unset !important; }\n\n.ui.divided.light.list > .item {\n  border-top: 1px solid #F0F0F0; }\n\n.ui.divided.light.list > .item:first-child {\n  border-top: none; }\n\n.ui.fullscreen.scrolling.modal.readmeModal,\n.ui.fullscreen.modal.readmeModal {\n  left: auto !important; }\n\n/* A href underscore */\na.underline {\n  text-decoration: none !important;\n  color: inherit; }\n  a.underline:hover {\n    color: inherit; }\n  a.underline::before {\n    backface-visibility: hidden;\n    background-color: inherit;\n    bottom: 1px;\n    content: "";\n    height: 1px;\n    left: 0;\n    position: absolute;\n    top: auto;\n    transform: scaleX(0);\n    transition: all 0.2s ease 0s;\n    width: 100%; }\n  a.underline:hover::before {\n    background-color: #000000;\n    transform: scaleX(1); }\n\n.clickable {\n  cursor: pointer; }\n\n.superscripted {\n  vertical-align: super; }\n\n.gaugeContainer {\n  width: 100%;\n  height: 100%; }\n  .gaugeContainer svg {\n    width: 100%;\n    height: 100%; }\n  .gaugeContainer .backgroundColor {\n    fill: #A4A4A4; }\n  .gaugeContainer .okColor {\n    fill: #269FA9; }\n  .gaugeContainer .lowColor {\n    fill: #FF2832; }\n  .gaugeContainer .highColor {\n    fill: #23804D; }\n\n/* NodesTree */\n.nodes-tree li .rc-tree-node-content-wrapper {\n  display: inline !important;\n  padding: 1px 3px 3px 0  !important; }\n\n.typesHierarchy .rc-tree-switcher_open {\n  display: none !important; }\n\n/* Splitter */\n.widgetContent .splitter-layout {\n  top: 1rem;\n  bottom: 0;\n  left: 1rem;\n  right: 1rem;\n  width: inherit;\n  height: inherit; }\n  .widgetContent .splitter-layout > .layout-splitter {\n    background-color: #eee; }\n\n.ui.sidebar.editModeSidebar {\n  box-shadow: none !important;\n  background-color: transparent !important;\n  max-width: 500px !important;\n  margin: 0 calc(50% - 250px) !important;\n  display: block; }\n  @media (min-width: 992px) {\n    .ui.sidebar.editModeSidebar {\n      left: 6.5rem !important; } }\n  .ui.sidebar.editModeSidebar .content {\n    margin-top: 10px;\n    display: inline-block;\n    width: 100%; }\n  .ui.sidebar.editModeSidebar .button {\n    margin-left: 5px;\n    margin-right: 5px; }\n\n.emptyPage {\n  padding-top: 10rem; }\n\n.forceMaxWidth {\n  white-space: pre-wrap;\n  /* Since CSS 2.1 */\n  white-space: -moz-pre-wrap;\n  /* Mozilla, since 1999 */\n  white-space: -o-pre-wrap;\n  /* Opera 7 */\n  word-wrap: break-word;\n  /* Internet Explorer 5.5+ */\n  max-width: 500px;\n  margin: 1px; }\n\n.topRightCorner {\n  position: absolute;\n  top: 1rem;\n  right: 1rem; }\n\n.setVisibility {\n  margin-top: 10px;\n  text-align: center; }\n\n.hopscotch-close {\n  cursor: pointer; }\n\n.ui.ordered.list .list > .item:before, .ui.ordered.list > .item:before, ol.ui.list li:before {\n  position: relative !important;\n  margin-right: 0.25rem !important;\n  content: counters(ordered, ".") "." !important;\n  vertical-align: inherit !important; }\n\n.widgetButton {\n  width: 100%; }\n',""])},1112:function(e,t){},1114:function(e,t){},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(7),r=n.n(a),i=n(24),o=n.n(i),s=n(5),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(6),m=n.n(h),g=n(10),f=n.n(g),v=n(2),E=n.n(v),y=n(0),b=n.n(y),w=n(1),C=n.n(w),O=n(3),P=n(151);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var S=function(e){function t(e,n){var a;return l()(this,t),(a=u()(this,d()(t).call(this,e,n))).toolbox=Object(P.b)((function(){}),(function(){}),null),a.state=t.isListType(e.type)?{options:[]}:{},a}return f()(t,e),m()(t,null,[{key:"isListType",value:function(e){return e===t.LIST_TYPE||e===t.NUMBER_LIST_TYPE||e===t.MULTI_SELECT_LIST_TYPE||e===t.BOOLEAN_LIST_TYPE||e===t.EDITABLE_LIST_TYPE||e===t.NUMBER_EDITABLE_LIST_TYPE}}]),m()(t,[{key:"_initOptions",value:function(e){if(e.type===t.BOOLEAN_LIST_TYPE)this.setState({options:[{text:"false",value:!1},{text:"true",value:!0}]});else if(t.isListType(e.type)&&e.items){var n=!1,a=_.map(e.items,(function(t){return _.isObject(t)||(t={name:t,value:t}),t.value===e.value&&(n=!0),{text:t.name,value:t.value}}));e.type===t.MULTI_SELECT_LIST_TYPE||n||a.push({text:e.value,value:e.value}),this.setState({options:a})}}},{key:"_storeValueInContext",value:function(e,t){this.toolbox.getContext().setValue([e],t),this.toolbox.getEventBus().trigger("".concat(e,":change"))}},{key:"_handleInputChange",value:function(e,t){this.props.storeValueInContext&&this._storeValueInContext(t.name,t.value),this.props.onChange(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{genericType:this.props.type}))}},{key:"componentDidMount",value:function(){this.props.storeValueInContext&&this._storeValueInContext(this.props.name,this.props.value),this._initOptions(this.props)}},{key:"componentDidUpdate",value:function(e){this.props.items!==e.items&&this._initOptions(this.props)}},{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(JSON.stringify(this.props),JSON.stringify(e))||!_.isEqual(JSON.stringify(this.state),JSON.stringify(t))}},{key:"render",value:function(){var e,n=this;if(this.props.type===t.STRING_TYPE||this.props.type===t.NUMBER_TYPE||this.props.type===t.PASSWORD_TYPE)e=C.a.createElement(O.Input,{icon:this.props.icon,name:this.props.name,type:this.props.type===t.STRING_TYPE?"text":this.props.type,placeholder:this.props.placeholder,value:null===this.props.value?"":this.props.value,onChange:this._handleInputChange.bind(this),max:this.props.type===t.NUMBER_TYPE?this.props.max:null,min:this.props.type===t.NUMBER_TYPE?this.props.min:null});else if(this.props.type===t.BOOLEAN_TYPE)e=C.a.createElement(O.Checkbox,{name:this.props.name,toggle:!0,checked:_.isBoolean(this.props.value)&&this.props.value||_.isString(this.props.value)&&"true"===this.props.value,onChange:this._handleInputChange.bind(this)});else if(t.isListType(this.props.type))e=C.a.createElement(O.Dropdown,{fluid:!0,selection:!0,value:this.props.value,name:this.props.name,multiple:this.props.type===t.MULTI_SELECT_LIST_TYPE,allowAdditions:this.props.type===t.EDITABLE_LIST_TYPE||this.props.type===t.NUMBER_EDITABLE_LIST_TYPE,search:this.props.type===t.EDITABLE_LIST_TYPE||this.props.type===t.NUMBER_EDITABLE_LIST_TYPE,placeholder:this.props.placeholder||"Please select",options:this.state.options,onAddItem:function(e,t){var a=t.value;n.setState({options:[{text:a,value:a}].concat(o()(n.state.options))})},onChange:this._handleInputChange.bind(this),clearable:!1});else if(this.props.type===t.CUSTOM_TYPE){var a=_.keys(t.defaultProps),i=_.omit(this.props,[].concat(o()(a),["name","label","component"])),s=this.props.component;if(_.isUndefined(s))return new Error("For `".concat(this.props.type,"` type `component` prop have to be supplied."));e=C.a.createElement(s,r()({name:this.props.name,value:_.isUndefined(this.props.value)?this.props.default:this.props.value,onChange:this._handleInputChange.bind(this)},i))}return C.a.createElement(O.Form.Field,{className:this.props.name,help:this.props.description,label:this.props.label,required:this.props.required,error:this.props.error},e)}}],[{key:"formatValue",value:function(e,n){return e===t.MULTI_SELECT_LIST_TYPE?n=_.split(n,","):e===t.BOOLEAN_TYPE?n=_.isBoolean(n)&&n||_.isString(n)&&"true"===n:e!==t.NUMBER_TYPE&&e!==t.NUMBER_LIST_TYPE&&e!==t.NUMBER_EDITABLE_LIST_TYPE||(n=parseInt(n)||0),n}}]),t}(w.Component);E()(S,"STRING_TYPE","string"),E()(S,"PASSWORD_TYPE","password"),E()(S,"NUMBER_TYPE","number"),E()(S,"BOOLEAN_TYPE","boolean"),E()(S,"BOOLEAN_LIST_TYPE","booleanList"),E()(S,"LIST_TYPE","list"),E()(S,"NUMBER_LIST_TYPE","numberList"),E()(S,"MULTI_SELECT_LIST_TYPE","multiSelectList"),E()(S,"EDITABLE_LIST_TYPE","editableList"),E()(S,"NUMBER_EDITABLE_LIST_TYPE","numberEditableList"),E()(S,"CUSTOM_TYPE","custom"),E()(S,"propTypes",{label:b.a.string.isRequired,name:b.a.string.isRequired,placeholder:b.a.string,error:b.a.bool,type:b.a.string,icon:b.a.string,description:b.a.oneOfType([b.a.string,b.a.element]),value:b.a.any,required:b.a.bool,onChange:b.a.func,storeValueInContext:b.a.bool,items:b.a.array,max:b.a.number,min:b.a.number}),E()(S,"defaultProps",{placeholder:"",error:!1,type:S.STRING_TYPE,icon:null,description:"",value:"",onChange:function(){},storeValueInContext:!1,items:[],max:null,min:null})},1149:function(e,t,n){var a={"./af":552,"./af.js":552,"./ar":553,"./ar-dz":554,"./ar-dz.js":554,"./ar-kw":555,"./ar-kw.js":555,"./ar-ly":556,"./ar-ly.js":556,"./ar-ma":557,"./ar-ma.js":557,"./ar-sa":558,"./ar-sa.js":558,"./ar-tn":559,"./ar-tn.js":559,"./ar.js":553,"./az":560,"./az.js":560,"./be":561,"./be.js":561,"./bg":562,"./bg.js":562,"./bm":563,"./bm.js":563,"./bn":564,"./bn.js":564,"./bo":565,"./bo.js":565,"./br":566,"./br.js":566,"./bs":567,"./bs.js":567,"./ca":568,"./ca.js":568,"./cs":569,"./cs.js":569,"./cv":570,"./cv.js":570,"./cy":571,"./cy.js":571,"./da":572,"./da.js":572,"./de":573,"./de-at":574,"./de-at.js":574,"./de-ch":575,"./de-ch.js":575,"./de.js":573,"./dv":576,"./dv.js":576,"./el":577,"./el.js":577,"./en-SG":578,"./en-SG.js":578,"./en-au":579,"./en-au.js":579,"./en-ca":580,"./en-ca.js":580,"./en-gb":581,"./en-gb.js":581,"./en-ie":582,"./en-ie.js":582,"./en-il":583,"./en-il.js":583,"./en-nz":584,"./en-nz.js":584,"./eo":585,"./eo.js":585,"./es":586,"./es-do":587,"./es-do.js":587,"./es-us":588,"./es-us.js":588,"./es.js":586,"./et":589,"./et.js":589,"./eu":590,"./eu.js":590,"./fa":591,"./fa.js":591,"./fi":592,"./fi.js":592,"./fo":593,"./fo.js":593,"./fr":594,"./fr-ca":595,"./fr-ca.js":595,"./fr-ch":596,"./fr-ch.js":596,"./fr.js":594,"./fy":597,"./fy.js":597,"./ga":598,"./ga.js":598,"./gd":599,"./gd.js":599,"./gl":600,"./gl.js":600,"./gom-latn":601,"./gom-latn.js":601,"./gu":602,"./gu.js":602,"./he":603,"./he.js":603,"./hi":604,"./hi.js":604,"./hr":605,"./hr.js":605,"./hu":606,"./hu.js":606,"./hy-am":607,"./hy-am.js":607,"./id":608,"./id.js":608,"./is":609,"./is.js":609,"./it":610,"./it-ch":611,"./it-ch.js":611,"./it.js":610,"./ja":612,"./ja.js":612,"./jv":613,"./jv.js":613,"./ka":614,"./ka.js":614,"./kk":615,"./kk.js":615,"./km":616,"./km.js":616,"./kn":617,"./kn.js":617,"./ko":618,"./ko.js":618,"./ku":619,"./ku.js":619,"./ky":620,"./ky.js":620,"./lb":621,"./lb.js":621,"./lo":622,"./lo.js":622,"./lt":623,"./lt.js":623,"./lv":624,"./lv.js":624,"./me":625,"./me.js":625,"./mi":626,"./mi.js":626,"./mk":627,"./mk.js":627,"./ml":628,"./ml.js":628,"./mn":629,"./mn.js":629,"./mr":630,"./mr.js":630,"./ms":631,"./ms-my":632,"./ms-my.js":632,"./ms.js":631,"./mt":633,"./mt.js":633,"./my":634,"./my.js":634,"./nb":635,"./nb.js":635,"./ne":636,"./ne.js":636,"./nl":637,"./nl-be":638,"./nl-be.js":638,"./nl.js":637,"./nn":639,"./nn.js":639,"./pa-in":640,"./pa-in.js":640,"./pl":641,"./pl.js":641,"./pt":642,"./pt-br":643,"./pt-br.js":643,"./pt.js":642,"./ro":644,"./ro.js":644,"./ru":645,"./ru.js":645,"./sd":646,"./sd.js":646,"./se":647,"./se.js":647,"./si":648,"./si.js":648,"./sk":649,"./sk.js":649,"./sl":650,"./sl.js":650,"./sq":651,"./sq.js":651,"./sr":652,"./sr-cyrl":653,"./sr-cyrl.js":653,"./sr.js":652,"./ss":654,"./ss.js":654,"./sv":655,"./sv.js":655,"./sw":656,"./sw.js":656,"./ta":657,"./ta.js":657,"./te":658,"./te.js":658,"./tet":659,"./tet.js":659,"./tg":660,"./tg.js":660,"./th":661,"./th.js":661,"./tl-ph":662,"./tl-ph.js":662,"./tlh":663,"./tlh.js":663,"./tr":664,"./tr.js":664,"./tzl":665,"./tzl.js":665,"./tzm":666,"./tzm-latn":667,"./tzm-latn.js":667,"./tzm.js":666,"./ug-cn":668,"./ug-cn.js":668,"./uk":669,"./uk.js":669,"./ur":670,"./ur.js":670,"./uz":671,"./uz-latn":672,"./uz-latn.js":672,"./uz.js":671,"./vi":673,"./vi.js":673,"./x-pseudo":674,"./x-pseudo.js":674,"./yo":675,"./yo.js":675,"./zh-cn":676,"./zh-cn.js":676,"./zh-hk":677,"./zh-hk.js":677,"./zh-tw":678,"./zh-tw.js":678};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1149},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(320),l=n.n(s),c=n(14),u=n(19),p=n(215),d=n(32),h=function(){function e(){r()(this,e)}return o()(e,null,[{key:"login",value:function(e,t){return new p.a({basicAuth:btoa("".concat(e,":").concat(t))}).doPost(u.a.Url.url("/auth/login"),null,null,!0,null,!0)}},{key:"getUserData",value:function(e){return new d.a(e).doGet("/auth/user",null,!0)}},{key:"logout",value:function(e){return new d.a(e).doPost("/auth/logout",null,null,!0,null,!0)}},{key:"isLoggedIn",value:function(){return!!l.a.get(c.a.TOKEN_COOKIE_NAME)}},{key:"isProductOperational",value:function(e){var t=_.get(e,"isRequired",!1),n=_.get(e,"data.trial",!1),a=_.get(e,"status",c.a.LICENSE.EMPTY);return!t||(n?_.isEqual(a,c.a.LICENSE.ACTIVE):!_.isEqual(a,c.a.LICENSE.EMPTY))}},{key:"getLicenseStatus",value:function(e){return _.isEmpty(e)?c.a.LICENSE.EMPTY:e.expired?c.a.LICENSE.EXPIRED:c.a.LICENSE.ACTIVE}}]),e}()},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(256),l=n.n(s),c=n(14),u=n(19),p=function(){function e(){r()(this,e)}return o()(e,null,[{key:"getResourceUrl",value:function(e,t){return"".concat(t?c.a.USER_DATA_PATH:c.a.APP_DATA_PATH,"/").concat(e)}},{key:"fetchResource",value:function(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return l()(u.a.Url.url(e.getResourceUrl(t,n)),{credentials:"same-origin"}).then((function(e){if(!(e.status>=400))return a?_.toLower(e.headers.get("content-type")).indexOf("application/json")>=0?e.json():e.text():e;console.error(e.statusText)}))}}]),e}()},1297:function(e,t,n){var a=n(1298);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(80)(a,r);a.locals&&(e.exports=a.locals)},1298:function(e,t,n){(e.exports=n(79)(!1)).push([e.i,".servicesData a:hover {\n    text-decoration: none !important;\n}\n",""])},13:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"fb",(function(){return r})),n.d(t,"k",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"q",(function(){return s})),n.d(t,"rb",(function(){return l})),n.d(t,"sb",(function(){return c})),n.d(t,"lb",(function(){return u})),n.d(t,"jb",(function(){return p})),n.d(t,"kb",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"l",(function(){return m})),n.d(t,"H",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"I",(function(){return v})),n.d(t,"pb",(function(){return E})),n.d(t,"ob",(function(){return y})),n.d(t,"nb",(function(){return b})),n.d(t,"qb",(function(){return _})),n.d(t,"mb",(function(){return w})),n.d(t,"D",(function(){return C})),n.d(t,"E",(function(){return O})),n.d(t,"v",(function(){return P})),n.d(t,"u",(function(){return T})),n.d(t,"C",(function(){return S})),n.d(t,"B",(function(){return k})),n.d(t,"w",(function(){return I})),n.d(t,"z",(function(){return D})),n.d(t,"A",(function(){return A})),n.d(t,"x",(function(){return j})),n.d(t,"y",(function(){return R})),n.d(t,"Z",(function(){return N})),n.d(t,"j",(function(){return x})),n.d(t,"K",(function(){return M})),n.d(t,"L",(function(){return L})),n.d(t,"J",(function(){return U})),n.d(t,"s",(function(){return F})),n.d(t,"t",(function(){return q})),n.d(t,"i",(function(){return z})),n.d(t,"m",(function(){return G})),n.d(t,"G",(function(){return B})),n.d(t,"h",(function(){return W})),n.d(t,"M",(function(){return H})),n.d(t,"hb",(function(){return V})),n.d(t,"ib",(function(){return Y})),n.d(t,"a",(function(){return X})),n.d(t,"Y",(function(){return K})),n.d(t,"O",(function(){return J})),n.d(t,"Q",(function(){return Z})),n.d(t,"o",(function(){return Q})),n.d(t,"r",(function(){return $})),n.d(t,"gb",(function(){return ee})),n.d(t,"bb",(function(){return te})),n.d(t,"P",(function(){return ne})),n.d(t,"R",(function(){return ae})),n.d(t,"p",(function(){return re})),n.d(t,"N",(function(){return ie})),n.d(t,"X",(function(){return oe})),n.d(t,"n",(function(){return se})),n.d(t,"eb",(function(){return le})),n.d(t,"db",(function(){return ce})),n.d(t,"cb",(function(){return ue})),n.d(t,"S",(function(){return pe})),n.d(t,"T",(function(){return de})),n.d(t,"g",(function(){return he})),n.d(t,"W",(function(){return me})),n.d(t,"V",(function(){return ge})),n.d(t,"U",(function(){return fe})),n.d(t,"f",(function(){return ve})),n.d(t,"wb",(function(){return Ee})),n.d(t,"vb",(function(){return ye})),n.d(t,"xb",(function(){return be})),n.d(t,"ub",(function(){return _e})),n.d(t,"tb",(function(){return we})),n.d(t,"ab",(function(){return Ce})),n.d(t,"F",(function(){return Oe}));var a="ADD_PAGE",r="SET_PAGES",i="CREATE_DRILLDOWN_PAGE",o="ADD_WIDGET",s="INSTALL_WIDGET",l="UNINSTALL_WIDGET",c="UPDATE_WIDGET",u="STORE_WIDGETS",p="STORE_TEMPLATES",d="STORE_TOURS",h="ADD_TEMPLATE",m="EDIT_TEMPLATE",g="REMOVE_TEMPLATE",f="ADD_TEMPLATE_PAGE",v="REMOVE_TEMPLATE_PAGE",E="TEMPLATE_MANAGEMENT_LOADING",y="TEMPLATE_MANAGEMENT_FETCH",b="TEMPLATE_MANAGEMENT_ERROR",_="TEMPLATE_MANAGEMENT_SELECT",w="TEMPLATE_MANAGEMENT_CLEAR",C="PAGE_MANAGEMENT_SELECT",O="PAGE_MANAGEMENT_SHOW",P="PAGE_MANAGEMENT_CHANGE_NAME",T="PAGE_MANAGEMENT_ADD_WIDGET",S="PAGE_MANAGEMENT_RENAME_WIDGET",k="PAGE_MANAGEMENT_REMOVE_WIDGET",I="PAGE_MANAGEMENT_CHANGE_WIDGET",D="PAGE_MANAGEMENT_EDIT_WIDGET",A="PAGE_MANAGEMENT_MAXIMIZE_WIDGET",j="PAGE_MANAGEMENT_CLEAR",R="PAGE_MANAGEMENT_DRILLDOWN_WARN",N="SET_CONTEXT_VALUE",x="CLEAR_CONTEXT",M="RENAME_PAGE",L="RENAME_WIDGET",U="REMOVE_WIDGET",F="MAXIMIZE_WIDGET",q="MINIMIZE_WIDGETS",z="CHANGE_WIDGET_GRID_DATA",G="EDIT_WIDGET",B="REMOVE_PAGE",W="CHANGE_PAGE_DESCRIPTION",H="REORDER_PAGE",V="STORE_CURRENT_PAGE",Y="STORE_RBAC",X="ADD_DRILLDOWN_PAGE",K="SET_CONFIG_EDIT_MODE",J="REQ_LOGIN",Z="RES_LOGIN",Q="ERR_LOGIN",$="LOGOUT",ee="SET_USER_DATA",te="SET_LDAP",ne="REQ_TENANTS",ae="RES_TENANTS",re="ERR_TENANTS",ie="REQ_CLUSTER_STATUS",oe="SET_CLUSTER_STATUS",se="ERR_CLUSTER_STATUS",le="SET_MANAGER_VERSION",ce="SET_MANAGER_LICENSE",ue="SET_MAINTENANCE_STATUS",pe="SELECT_TENANT",de="SET_ACTIVE_EXECUTIONS",he="CANCEL_EXECUTION",me="SET_CLIENT_CONFIG",ge="SET_APP_LOADING",fe="SET_APP_ERROR",ve="APP_SIDEBAR_TOOGLE",Ee="WIDGET_FETCH_LOADING",ye="WIDGET_FETCH_ERROR",be="WIDGET_FETCH_RES",_e="WIDGET_FETCH_CANCELED",we="WIDGET_DATA_CLEAR",Ce="SET_DRILLDOWN_CONTEXT",Oe="POP_DRILLDOWN_CONTEXT"},1304:function(e,t,n){(e.exports=n(79)(!1)).push([e.i,"/* FormGroup.js */\n.ui.form .inline.fields .field:last-child{\n    padding-right: 0;\n}\n/* InputDate.js */\n.input-time-filter {\n    font-family: inherit;\n    font-size: inherit;\n    background-color: #fff;\n    color: #000;\n    border: 0 none #aeaeae;\n    border-radius: 0.3rem;\n    min-width: 300px;\n}\n\n.react-datepicker__month-container {\n    float: left;\n    width: 240px;\n}\n\n.react-datepicker__time-container {\n    width: 90px;\n}\n\n.react-datepicker__day--outside-month {\n    color: #c0c0c0;\n}\n\n.react-datepicker__day, .react-datepicker__day-name {\n    width: 2rem;\n    padding: 1px 0 0 0;\n}\n\n.react-datepicker__day:hover {\n    color: white;\n    background-color: grey;\n}\n\n.react-datepicker__header {\n    border-bottom: 0 none #aeaeae;\n}\n\n.react-datepicker__day--in-range {\n    background: lightgrey;\n    color: black;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list {\n    padding-right: unset;\n    padding-left: unset;\n    width: 100%;\n}\n\n.react-datepicker__day--range-end, .react-datepicker__day--range-start {\n    border: 1px solid grey;\n    padding: 0;\n    border-radius: 0.3rem;\n}\n\n.react-datepicker__day--selected,\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--selected,\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--selected:hover{\n    background-color: #c0c1c2;\n    color: black;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box {\n    width: 100%;\n    display: inline-block;\n}\n\n.react-datepicker__navigation--next--with-time:not(.react-datepicker__navigation--next--with-today-button) {\n    right: 105px;\n}\n\n/*Handle smaller viewports*/\n@media only screen and (max-width: 1400px) {\n    .ui.flowing.popup {\n        left: 0 !important;\n    }\n}\n\n.fixed-width {\n    width: 1090px !important;\n}\n\n.top-padded-10 {\n    margin-top: 10px;\n}\n\n/* InputJson - react-json-view */\n.react-json-view .key-modal-request {\n    top: -7px !important;\n}\n\n.react-json-view .key-modal-request > div {\n    padding: 5px !important;\n    margin-top: 0px !important;\n    background-color: #e0e1e2 !important;\n    width: 270px !important;\n}\n\n.react-json-view .key-modal-request > div > div:first-child {\n    color: inherit !important;\n    padding-right: 5px;\n}\n\n.react-json-view .key-modal-request > div > div {\n    display: inline-block !important;\n}\n\n.react-json-view .key-modal-request > div > span {\n    background-color: inherit !important;\n    line-height: 14px !important;\n}\n\n.react-json-view .key-modal-request > div > span > .key-modal-cancel > svg {\n    color: inherit !important;\n}\n\n.react-json-view .key-modal-request input {\n    font-size: 14px !important;\n}",""])},134:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=e("div.splashPage"),l=function(){function e(){r()(this,e)}return o()(e,null,[{key:"turnOn",value:function(){s.hasClass("active")||(s.show(),s.addClass("active"))}},{key:"turnOff",value:function(){s.hasClass("active")&&(s.fadeOut("slow"),s.removeClass("active"))}}]),e}()}).call(this,n(43))},14:function(e,t,n){"use strict";t.a={CONTEXT_PATH:"/console",ERROR_404_PAGE_PATH:"/404",ERROR_NO_TENANTS_PAGE_PATH:"/noTenants",ERROR_PAGE_PATH:"/error",HOME_PAGE_PATH:"/",LOGIN_PAGE_PATH:"/login",LOGOUT_PAGE_PATH:"/logout",MAINTENANCE_PAGE_PATH:"/maintenance",LICENSE_PAGE_PATH:"/license",USER_DATA_PATH:"/userData",APP_DATA_PATH:"/appData",TOKEN_COOKIE_NAME:"XSRF-TOKEN",EDITION:{PREMIUM:"premium",COMMUNITY:"community"},LICENSE:{EMPTY:"no_license",EXPIRED:"expired_license",ACTIVE:"active_license"},NO_LICENSE_ERROR_CODE:"missing_cloudify_license",EXPIRED_LICENSE_ERROR_CODE:"expired_cloudify_license",DEFAULT_TENANT:"default_tenant",MODE_MAIN:"main",MODE_CUSTOMER:"customer",permissions:{STAGE_SERVICES_STATUS:"stage_services_status",STAGE_EDIT_MODE:"stage_edit_mode",STAGE_INSTALL_WIDGETS:"stage_install_widgets",STAGE_MAINTENANCE_MODE:"stage_maintenance_mode",STAGE_CONFIGURE:"stage_configure",STAGE_TEMPLATE_MANAGEMENT:"stage_template_management",CREATE_GLOBAL_RESOURCE:"create_global_resource",LICENSE_LIST:"license_list",LICENSE_UPLOAD:"license_upload"},visibility:{PRIVATE:{name:"private",icon:"lock",color:"red",title:"Private resource"},TENANT:{name:"tenant",icon:"user",color:"green",title:"Tenant resource"},GLOBAL:{name:"global",icon:"globe",color:"blue",title:"Global resource"},UNKNOWN:{name:"unknown",icon:"question",color:"grey",title:"Unknown resource visibility"}},MAINTENANCE_ACTIVATING:"activating",MAINTENANCE_ACTIVATED:"activated",MAINTENANCE_DEACTIVATED:"deactivated",DEFAULT_ALL:"*",PAGE_MANAGEMENT_VIEW:"view",PAGE_MANAGEMENT_EDIT:"edit",PRIVATE_RESOURCE:"private",WIDGET_ID_HEADER:"widget-id"}},1436:function(e,t,n){var a=n(1437);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(80)(a,r);a.locals&&(e.exports=a.locals)},1437:function(e,t,n){(e.exports=n(79)(!1)).push([e.i,"a.step:hover {\n    text-decoration: none !important;\n}\n\n.step.completed:before {\n    font-size: 1.5em !important;\n}",""])},147:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f}));var a=n(26),r=n(13),i=n(39),o=n(59),s=n(32),l=n(14),c=n(184),u=4;function p(e){return{type:r.fb,pages:e,receivedAt:Date.now()}}function d(e){return function(t,n){var a=n().manager;if(_.get(a,"tenants.selected",l.a.DEFAULT_ALL)!==e)return new s.a(n().manager).doGet("ua/clear-pages",{tenant:e});t(m())}}function h(){return function(e,t){var n={appData:_.pick(t(),"pages"),version:u};return new s.a(t().manager).doPost("/ua",null,n)}}function m(){return function(e){var t=c.a.getAutoSaver();return t.stop(),e(Object(o.c)(!0)),e(p([])),e(Object(i.e)()).then((function(){e(h()).then((function(){e(Object(o.c)(!1)),e(Object(a.push)(l.a.HOME_PAGE_PATH))}))})).catch((function(t){throw e(Object(o.b)(t.message)),e(Object(a.push)(l.a.ERROR_PAGE_PATH)),t})).finally((function(){t.initFromStore(),t.start()}))}}function g(){return function(e,t){var n=t().manager;return new s.a(n).doGet("/ua").then((function(t){return t&&t.appDataVersion===u&&t.appData.pages&&t.appData.pages.length>0?e(p(t.appData.pages)):e(m())}))}}function f(){return function(e,t){return e(Object(o.c)(!0)),e(g()).then((function(){var n=function(e,t){return _.find(e,{id:t})},r=t(),i=r.app.currentPageId,s=r.pages,c=n(s,i);if(c){if(c.isDrillDown){var u=n(s,c.parent);e(u?Object(a.push)("/page/".concat(u.id)):Object(a.push)(l.a.HOME_PAGE_PATH))}}else e(Object(a.push)(l.a.HOME_PAGE_PATH));e(Object(o.c)(!1))}))}}},151:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=(n(1097),n(53)),l=n(39),c=n(101),u=n(67),p=function(){function e(t){r()(this,e),this.store=t,this.context=t.getState().context}return o()(e,[{key:"setValue",value:function(e,t){this.store.dispatch(Object(u.b)(e,t))}},{key:"getValue",value:function(e){return this.context[e]}}]),e}(),d=n(77),h=n(215),m=n(32),g=n(9),f=n.n(g),v=n(8),E=n.n(v),y=n(183),b=n.n(y),w=n(10),C=n.n(w),O=n(14),P=function(e){function t(e,n){var a;return r()(this,t),(a=f()(this,E()(t).call(this,n))).widgetId=e,a}return C()(t,e),o()(t,[{key:"_buildHeaders",value:function(){var e=b()(E()(t.prototype),"_buildHeaders",this).call(this);return e[O.a.WIDGET_ID_HEADER]=this.widgetId,e}},{key:"_buildActualUrl",value:function(e,n){return b()(E()(t.prototype),"_buildActualUrl",this).call(this,"/wb/".concat(e),n)}}]),t}(m.a);n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return I}));var T=function(){function e(t){var n=this;r()(this,e),this.store=t,this._initFromStore(),this.unsubscribe=t.subscribe((function(){n._initFromStore()}))}return o()(e,[{key:"_initFromStore",value:function(){var e=this.store.getState();this.templates=e.templates||{templatesDef:{}},this._Manager=new d.a(e.manager||{}),this._Internal=new m.a(e.manager||{}),this._Context=new p(this.store),this.widgetDefinitions=e.widgetDefinitions||[]}},{key:"drillDown",value:function(e,t,n,a){this.store.dispatch(Object(s.d)(e,this.templates.pagesDef[t],this.widgetDefinitions,n,a))}},{key:"goToHomePage",value:function(){this.store.dispatch(Object(l.i)())}},{key:"goToParentPage",value:function(){this.store.dispatch(Object(l.l)())}},{key:"goToPage",value:function(e){this.store.dispatch(Object(l.k)(e))}},{key:"getEventBus",value:function(){return c.a}},{key:"getManager",value:function(){return this._Manager}},{key:"getInternal",value:function(){return this._Internal}},{key:"getWidgetBackend",value:function(){var e=this.store.getState(),t=this.getWidget();return new P(_.get(t,"definition.id",""),e.manager||{})}},{key:"getExternal",value:function(e){return new h.a(e)}},{key:"getNewManager",value:function(){return new d.a}},{key:"getContext",value:function(){return this._Context}},{key:"refresh",value:function(){}},{key:"loading",value:function(e){}},{key:"getWidget",value:function(){}}]),e}(),S=null,k=function(e){S=new T(e)},I=function(e,t,n){return new Proxy(S,{get:function(a,r){return"refresh"===r?e:"loading"===r?t:"getWidget"===r?function(){return n}:a[r]}})}},152:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a="NO_TENANTS_ERR",r="UNAUTHORIZED_ERR",i="LICENSE_ERR"},154:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(70),l=n(100),c=n(19),u=null,p=function(){function e(t){r()(this,e),this.store=t,this.pollerTimer=null,this.fetchMaintenanceStatusPromise=null,this.fetchClusterStatusPromise=null,this.isActive=!1,this.interval=t.getState().config.app.maintenancePollingInterval}return o()(e,[{key:"getManagerIp",value:function(){return _.get(this.store.getState(),"config.manager.ip")}},{key:"start",value:function(){this.isActive||(console.log("Starting status polling for manager ".concat(this.getManagerIp())),this.isActive=!0,this.fetchStatus().then(this.startPolling.bind(this)))}},{key:"stop",value:function(){this.isActive&&(console.log("Stopping status polling for manager ".concat(this.getManagerIp())),this.isActive=!1,this.stopPolling())}},{key:"stopPolling",value:function(){clearTimeout(this.pollerTimer),this.fetchMaintenanceStatusPromise&&this.fetchMaintenanceStatusPromise.cancel(),this.fetchClusterStatusPromise&&this.fetchClusterStatusPromise.cancel()}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),console.log("Polling status for manager ".concat(this.getManagerIp()," - time interval: ").concat(this.interval," sec")),this.pollerTimer=setTimeout((function(){e.fetchStatus().then(e.startPolling.bind(e))}),this.interval)}},{key:"fetchStatus",value:function(){var e=this.store.dispatch(Object(s.d)(this.store.getState().manager));this.fetchMaintenanceStatusPromise=c.a.makeCancelable(e);var t=this.store.dispatch(Object(l.a)(!0));return this.fetchClusterStatusPromise=c.a.makeCancelable(t),Promise.all([this.fetchMaintenanceStatusPromise.promise,this.fetchClusterStatusPromise.promise])}}],[{key:"create",value:function(t){u=new e(t)}},{key:"getPoller",value:function(){return u}}]),e}()},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n(782),y=n(156),b=n(93),_=function(e){function t(e,n){return r()(this,t),l()(this,u()(t).call(this,e,n))}return d()(t,e),o()(t,[{key:"render",value:function(){return React.createElement(E.CopyToClipboard,{text:this.props.text},this.props.content?React.createElement(y.a,{animated:"vertical",basic:!0,className:this.props.className,onClick:function(e){return e.stopPropagation()}},React.createElement(y.a.Content,{visible:!0},this.props.content),React.createElement(y.a.Content,{hidden:!0},React.createElement(b.a,{name:"copy"}))):React.createElement(y.a,{basic:!0,compact:!0,icon:"copy",className:this.props.className,onClick:function(e){return e.stopPropagation()}}))}}]),t}(v.Component);m()(_,"propTypes",{text:f.a.string,content:f.a.string,className:f.a.string}),m()(_,"defaultProps",{text:"",content:"",className:""})},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(147),l=null,c=function(){function e(t){var n=this;r()(this,e),this._store=t,this._isActive=!1,this.initFromStore(),this.unsubscribe=t.subscribe((function(){var e=n._store.getState();n._isActive&&n._hasDataChanged(e)&&n._validData(e)&&(n.initFromStore(),n._store.dispatch(Object(s.d)()))}))}return o()(e,[{key:"initFromStore",value:function(){var e=this._store.getState();this._pages=e.pages,this._username=_.get(e,"manager.username"),this._role=_.get(e,"manager.auth.role")}},{key:"_validData",value:function(e){return _.get(e,"manager.username")&&_.get(e,"manager.auth.role")}},{key:"_hasDataChanged",value:function(e){return this._username!==e.manager.username||this._role!==e.manager.auth.role||!_.isEqual(this._pages,e.pages)}},{key:"start",value:function(){this._isActive||(console.log("Starting UserAppDataAutoSaver for user ".concat(this._username," role ").concat(this._role)),this._isActive=!0)}},{key:"stop",value:function(){this._isActive&&(console.log("Stopping UserAppDataAutoSaver for user ".concat(this._username," role ").concat(this._role)),this._isActive=!1)}}],[{key:"create",value:function(t){l=new e(t)}},{key:"getAutoSaver",value:function(){return l}}]),e}()},187:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"PasswordModal",(function(){return y.a}));var r=n(2),i=n.n(r),o=n(5),s=n.n(o),l=n(6),c=n.n(l),u=n(32),p=n(19),d=function(){function e(t){s()(this,e),this.path=p.a.Url.url(t),this.loaded=!1}return c()(e,[{key:"load",value:function(e,t){var n=this;console.log("Loading javascript from ".concat(this.path,"..."));var a=this;return new Promise((function(r,i){var o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",a.path),e&&o.setAttribute("id",e),o.onload=function(){console.log(n.path,"loaded"),a.loaded=!0,r()},o.onerror=function(){t?i("Error loading ".concat(n.path)):(console.error("Error loading ".concat(n.path)),r({error:"Error loading ".concat(n.path)}))},document.getElementsByTagName("head")[0].appendChild(o)}))}}]),e}(),h=function(){function e(t){s()(this,e),this.path=p.a.Url.url(t),this.loaded=!1}return c()(e,[{key:"load",value:function(){var e=this;return new Promise((function(t,n){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",e.path),a.onload=function(){e.loaded=!0,t()},document.getElementsByTagName("head")[0].appendChild(a)}))}}]),e}(),m=(n(551),n(15)),g=n.n(m),f=n(771),v=n.n(f),E=n(3),y=n(317),b=n(117),w=n(92),C=function e(t){s()(this,e),this.color="blue",this.categories=[w.a.CATEGORY.OTHERS],this.hasReadme=!1,this.hasStyle=!1,this.hasTemplate=!1,this.initialConfiguration=[],this.initialHeight=12,this.initialWidth=3,this.isReact=!0,this.permission=w.a.CUSTOM_WIDGET_PERMISSIONS.CUSTOM_ALL,this.showBorder=!0,this.showHeader=!0,this.supportedEditions=[],Object.assign(this,t),this.name||console.error("Missing widget name. Widget data is :",t),this.id||console.error("Missing widget id. Widget data is :",t)};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n.d(t,"a",(function(){return S}));var P=n(1440),T=[],S=function(){function e(){s()(this,e)}return c()(e,null,[{key:"init",value:function(){window.Stage={defineWidget:function(e){T.push(new C(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{id:document.currentScript.id})))},Basic:E,Shared:a,ComponentToHtmlString:function(e){return P.renderToString(e)},GenericConfig:w.a,Common:[],defineCommon:function(e){Stage.Common[e.name]=e.common},Utils:p.a},window.moment=g.a,window.markdown=v.a}},{key:"_loadWidgets",value:function(t){console.log("Load widgets");var n=new u.a(t);return Promise.all([new d(b.a.getResourceUrl("widgets/common/common.js",!1)).load(),n.doGet("/widgets/list")]).then((function(t){var n=t[1],a=[];n.forEach((function(t){a.push(e._loadWidget(t,!1))}));var r=_.keyBy(n,"id");return Promise.all(a).then((function(){return r}))}))}},{key:"_loadWidget",value:function(e,t){var n="".concat(b.a.getResourceUrl("widgets",e.isCustom),"/").concat(e.id,"/widget.js");return new d(n).load(e.id,t)}},{key:"_loadWidgetsResources",value:function(e){console.log("Load widgets resources");var t=[];return T.forEach((function(n){n.isCustom=e[n.id].isCustom,n.hasTemplate&&t.push(b.a.fetchResource("widgets/".concat(n.id,"/widget.html"),n.isCustom).then((function(e){e&&(n.template=e)}))),n.hasStyle&&t.push(new h(b.a.getResourceUrl("widgets/".concat(n.id,"/widget.css"),n.isCustom)).load()),n.hasReadme&&t.push(b.a.fetchResource("widgets/".concat(n.id,"/README.md"),n.isCustom).then((function(e){e&&(n.readme=e)})))})),Promise.all(t)}},{key:"_initWidgets",value:function(){console.log("Init widgets"),_.each(T,(function(e){e.init&&"function"==typeof e.init&&e.init()}));var e=_.sortBy(T,["name"]);return T=[],Promise.resolve(e)}},{key:"load",value:function(t){return e._loadWidgets(t).then((function(t){return e._loadWidgetsResources(t)})).then((function(){return e._initWidgets()})).catch((function(e){console.error(e),T=[]}))}},{key:"_installWidget",value:function(e,t,n){var a=new u.a(n);return t?(console.log("Install widget from url",t),a.doPut("/widgets/install",{url:t})):(console.log("Install widget from file"),a.doUpload("/widgets/install",{},{widget:e}))}},{key:"_updateWidget",value:function(e,t,n,a){var r=new u.a(a);return n?(console.log("Update widget ".concat(e," from url"),n),r.doPut("/widgets/update",{url:n,id:e})):(console.log("Update widget ".concat(e," from file")),r.doUpload("/widgets/update",{id:e},{widget:t}))}},{key:"_validateWidget",value:function(t,n){var a=[];if(_.isEmpty(T))a.push("Widget not properly initialized. Please check if widget.js is correctly defined.");else if(T.length>1)a.push("Only single widget should be defined within widget.js");else{var r=T[0];_.includes(_.keys(n.permissions),r.permission)||a.push("Specified widget permission ('".concat(r.permission,"') not found in available permissions list.")),_.isEmpty(r.id)&&a.push("Mandatory field - 'id' - not specified in widget definition."),_.isEmpty(r.name)&&a.push("Mandatory field - 'name' - not specified in widget definition.")}if(!_.isEmpty(a)){var i=a.length>1?"Multiple errors occured: ".concat(_.join(a," ")):a[0];return e.uninstall(t,n).then((function(){throw new Error(i)}))}return Promise.resolve()}},{key:"install",value:function(t,n,a){var r={};return e._installWidget(t,n,a).then((function(t){return r=t,e._loadWidget(t,!0)})).then((function(){return e._validateWidget(r.id,a)})).then((function(){return e._loadWidgetsResources(_.keyBy([r],"id"))})).then((function(){return e._initWidgets()})).catch((function(e){throw T=[],console.error(e),e}))}},{key:"update",value:function(t,n,a,r){var i={};return e._updateWidget(t,n,a,r).then((function(t){return i=t,e._loadWidget(t,!0)})).then((function(){return e._validateWidget(i.id,r)})).then((function(){return e._loadWidgetsResources(_.keyBy([i],"id"))})).then((function(){return e._initWidgets()})).catch((function(e){throw T=[],console.error(e),e}))}},{key:"uninstall",value:function(e,t){return new u.a(t).doDelete("/widgets/".concat(e))}}]),e}()},19:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(2),l=n.n(s),c=n(768),u=n.n(c),p=n(33),d=n.n(p),h=n(151),m=n(114),g=n(74),f=n(326),v=function(){function e(){r()(this,e)}return o()(e,null,[{key:"formatTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD HH:mm:ss",a=moment.utc(e,n).local();return a.isValid()?a.format(t):""}},{key:"formatLocalTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=moment(e,n);return a.isValid()?a.format(t):""}}]),e}(),E=n(14),y=function(){function e(){r()(this,e)}return o()(e,null,[{key:"url",value:function(e){return e===E.a.HOME_PAGE_PATH?E.a.CONTEXT_PATH:E.a.CONTEXT_PATH+(d.a.startsWith(e,"/")?"":"/")+e}},{key:"isUrl",value:function(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e)}},{key:"redirectToPage",value:function(e){window.open(e,"_blank")}},{key:"widgetResourceUrl",value:function(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return r?e.url("".concat(a?E.a.USER_DATA_PATH:E.a.APP_DATA_PATH,"/widgets/").concat(t).concat(d.a.startsWith(n,"/")?"":"/").concat(n)):"".concat(a?E.a.USER_DATA_PATH:E.a.APP_DATA_PATH,"/widgets/").concat(t).concat(d.a.startsWith(n,"/")?"":"/").concat(n)}}]),e}();n.d(t,"a",(function(){return b}));var b=function(){function e(){r()(this,e)}return o()(e,null,[{key:"makeCancelable",value:function(e){var t=!1;return{promise:new Promise((function(n,a){e.then((function(e){return t?a({isCanceled:!0}):n(e)})),e.catch((function(e){return a(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}}},{key:"formatTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD HH:mm:ss";return v.formatTimestamp(e,t,n)}},{key:"formatLocalTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return v.formatLocalTimestamp(e,t,n)}},{key:"resolveMessage",value:function(e){for(var t,n,a=/<(\w+)[^<]*>/,r=/[',",`]([^',^",^`]+)[',",`]/,i=/(\w+)=[',",`]([^',^",^`]+)[',",`]/g,o="";t=a.exec(e);){for(var s=t[0],l=(o=t[1].toLowerCase(),[]);n=i.exec(s);)l.push({key:n[1],value:n[2]});l.length>0?l.length>1?(o+=" with",d.a.each(l,(function(e,t){o+=" ".concat(e.key,"=").concat(e.value," ").concat(t<l.length-1?" and":"")}))):o+=" ".concat(l[0].value):(n=r.exec(s))&&(o+=" ".concat(n[1])),e=e.replace(s,o)}return e}},{key:"getMD5",value:function(e){return u()(e)}},{key:"url",value:function(e){return y.url(e)}},{key:"isUrl",value:function(e){return y.isUrl(e)}},{key:"redirectToPage",value:function(e){return y.redirectToPage(e)}},{key:"widgetResourceUrl",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return y.widgetResourceUrl(e,t,n,a)}},{key:"buildConfig",value:function(e){var t={};return d.a.each(e.initialConfiguration,(function(n){if(n.id){var a=n.default&&!n.value?n.default:d.a.isUndefined(n.value)?null:n.value;t[n.id]=m.a.formatValue(n.type,a)}else console.log('Cannot process config for widget :"'.concat(e.name,'" , because it missing an Id '),n)})),t}},{key:"getToolbox",value:function(e,t,n){return Object(h.b)(e,t,n)}},{key:"isUserAuthorized",value:function(e,t){var n=t.permissions[e],a=t.auth.role,r=d.a.keys(t.auth.groupSystemRoles),i=t.auth.tenantsRoles[t.tenants.selected],o=i?i.roles:[],s=d.a.uniq(o.concat(a,r));return d.a.intersection(n,s).length>0}},{key:"isWidgetPermitted",value:function(e,t){if(d.a.isEmpty(e))return!0;var n=d.a.get(t,"license.data.license_edition","");return d.a.includes(e,n)}}]),e}();l()(b,"Execution",g.a),l()(b,"Json",f.a),l()(b,"Time",v),l()(b,"Url",y)},210:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(7),r=n.n(a),i=n(2),o=n.n(i),s=n(5),l=n.n(s),c=n(6),u=n.n(c),p=n(9),d=n.n(p),h=n(8),m=n.n(h),g=n(10),f=n.n(g),v=n(1),E=n.n(v),y=n(342);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e,t=w({},this.props);return t.options&&(t.options=(e=t.options,_.map(e,(function(e){return w({},e,{"option-value":String(e.value)||"empty-option"})})))),E.a.createElement(y.a,r()({clearable:!0},t))}}]),t}(y.a)},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(230),b=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).state={hidden:!1},a.visibilityTimeout=null,a}return d()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e){this.props.error&&!_.isEqual(this.props.error,e.error)&&(this.setState({hidden:!1}),this.props.error&&this._setVisibilityTimeout(t.MESSAGE_VISIBLE_TIMEOUT))}},{key:"componentDidMount",value:function(){this._setVisibilityTimeout(t.MESSAGE_VISIBLE_TIMEOUT)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.visibilityTimeout)}},{key:"_setVisibilityTimeout",value:function(e){var t=this;this.props.autoHide&&(clearTimeout(this.visibilityTimeout),this.visibilityTimeout=setTimeout((function(){t._handleDismiss()}),e))}},{key:"_handleDismiss",value:function(){this.setState({hidden:!0}),this.props.onDismiss()}},{key:"render",value:function(){if(!this.props.error)return null;var e=this.props.error,t=this.props.header;return _.isString(e)||_.isArray(e)||(e=this.props.error.message,t||(t=this.props.error.header)),E.a.createElement(y.a,{error:!0,className:this.props.className,hidden:this.state.hidden,onDismiss:this._handleDismiss.bind(this)},E.a.createElement(y.a.Header,null,t),_.isArray(e)&&!_.isEmpty(e)?E.a.createElement(y.a.List,{items:e}):E.a.createElement(y.a.Content,null,e))}}]),t}(v.Component);m()(b,"propTypes",{autoHide:f.a.bool,className:f.a.string,error:f.a.any,header:f.a.string,onDismiss:f.a.func}),m()(b,"defaultProps",{autoHide:!1,className:"",error:null,header:"Error Occured",onDismiss:function(){}}),m()(b,"MESSAGE_VISIBLE_TIMEOUT",1e4)},214:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(13);function r(e){return{type:a.ab,drilldownContext:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:a.F,count:e}}},215:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=(n(256),n(769)),l=n(770),c=n.n(l),u=n(19),p=n(260),d=n(152),h=c.a.getLogger("External"),m=function(){function t(e){r()(this,t),this._data=e}return o()(t,[{key:"doGet",value:function(e,t,n,a){return this._ajaxCall(e,"get",t,null,n,a)}},{key:"doPost",value:function(e,t,n,a,r,i){return this._ajaxCall(e,"post",t,n,a,r,null,i)}},{key:"doDelete",value:function(e,t,n,a,r){return this._ajaxCall(e,"delete",t,n,a,r)}},{key:"doPut",value:function(e,t,n,a,r){return this._ajaxCall(e,"put",t,n,a,r)}},{key:"doPatch",value:function(e,t,n,a,r){return this._ajaxCall(e,"PATCH",t,n,a,r)}},{key:"doDownload",value:function(e,t){return this._ajaxCall(e,"get",null,null,null,null,t)}},{key:"doUpload",value:function(e,t,a,r){var i=this,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=this._buildActualUrl(e,t);return h.debug("Uploading file for url: ".concat(e)),new Promise((function(e,t){var c=new XMLHttpRequest;(c.upload||c).addEventListener("progress",(function(e){var t=e.position||e.loaded,n=e.totalSize||e.total;h.debug("xhr progress: ".concat(Math.round(t/n*100),"%"))})),c.addEventListener("error",(function(e){h.error("xhr upload error",e,c.responseText);try{var n=JSON.parse(c.responseText);n.message?t({message:u.a.resolveMessage(n.message)}):t({message:e.message})}catch(e){h.error("Cannot parse upload error",e,c.responseText),t({message:c.responseText||e.message})}})),c.addEventListener("load",(function(n){h.debug("xhr upload complete",n,c.responseText);var a=c.status>=200&&c.status<300;try{var r=o||!a?JSON.parse(c.responseText):c.responseText;if(r.message)return h.error("xhr upload error",n,c.responseText),void t({message:u.a.resolveMessage(r.message)})}catch(e){h.error("Cannot parse upload response",e,c.responseText),t({message:c.responseText||e.message})}e(r)})),c.open(r||"put",l);var p=i._buildHeaders();_.forIn(p,(function(e,t){c.setRequestHeader(t,e)}));var d=new FormData;if(a)if(a instanceof File)if(s){var m=n(1107),g=new FileReader,f=new m;g.onload=function(e){var n=e.target.result;f.folder(a.name).file(a.name,n),f.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}}).then((function(e){d=new File([e],"".concat(a.name,".zip")),c.send(d)}),(function(e){var n="Cannot compress file. Error: ".concat(e);h.error(n),t({message:n})}))},g.onerror=function(e){var n="Cannot read file. Error code: ".concat(e.target.error.code);h.error(n),t({message:n})},g.readAsText(a)}else d=a,c.send(d);else _.forEach(a,(function(e,t){d.append(t,e)})),c.send(d);else c.send(d)}))}},{key:"_ajaxCall",value:function(e,t,n,a){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7?arguments[7]:void 0,c=this._buildActualUrl(e,n);h.debug("".concat(t," data. URL: ").concat(e));var u=Object.assign(this._buildHeaders(),this._contentType(),i),p={method:t,headers:u};if(a)try{_.isString(a)?(p.body=a,_.merge(p.headers,this._contentType("text/plain"))):p.body=JSON.stringify(a)}catch(e){h.error("Error stringifying data. URL: ".concat(c," data "),a)}return l&&(p.credentials="include"),o?fetch(c,p).then(this._checkStatus.bind(this)).then((function(e){return e.blob()})).then((function(e){return Object(s.saveAs)(e,o)})):fetch(c,p).then(this._checkStatus.bind(this)).then((function(e){return r?_.toLower(e.headers.get("content-type")).indexOf("application/json")>=0?e.json():e.text():e}))}},{key:"_isUnauthorized",value:function(e){return!1}},{key:"_isLicenseError",value:function(e,t){return!1}},{key:"_checkStatus",value:function(e){var t=this;return e.ok?e:this._isUnauthorized(e)?(p.a.getInterceptor().handle401(),Promise.reject(d.c)):e.text().then((function(n){try{var a=JSON.parse(n),r=u.a.resolveMessage(a.message);return t._isLicenseError(e,a)?(p.a.getInterceptor().handleLicenseError(a.error_code),Promise.reject(d.a)):Promise.reject({message:r||e.statusText,status:e.status})}catch(t){return h.error(t),Promise.reject({message:e.statusText,status:e.status})}}))}},{key:"_buildActualUrl",value:function(t,n){var a=n?(t.indexOf("?")>0?"&":"?")+e.param(n,!0):"";return"".concat(t).concat(a)}},{key:"_contentType",value:function(e){return{"content-type":e||"application/json"}}},{key:"_buildHeaders",value:function(){if(!this._data)return{};var e={};return this._data.basicAuth&&(e.Authorization="Basic ".concat(this._data.basicAuth)),e}}]),t}()}).call(this,n(43))},216:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return v}));var a=n(103),r=n.n(a),i=n(26),o=n(13),s=n(434),l=n(14);function c(e){_.includes(e.target.className,"hopscotch")||g(!1)}function u(e){"Escape"===e.key&&g(!1)}function p(){document.addEventListener("click",c),document.addEventListener("keydown",u)}function d(){document.removeEventListener("click",c),document.removeEventListener("keydown",u)}function h(t){r.a.registerHelper("redirectTo",(function(n,a,o,s,c){var u=function(e){return new Promise((function(t){return setTimeout(t,e)}))},p=function(){return new Promise((function(e){return requestAnimationFrame(e)}))},d=!1,h=setTimeout((function(){return d=!0}),5e3);return new Promise((function(t){return e("button.hopscotch-cta").addClass("ui button loading")&&t()})).then(t(Object(i.push)(n))).then((function(){return function(e,t){return _.isEqual(window.location.pathname,"".concat(l.a.CONTEXT_PATH).concat(e))?Promise.resolve("Page ".concat(t," found.")):(r.a.getCalloutManager().createCallout({id:"error",target:"div.logo",placement:"bottom",title:"No page",content:"Cannot find <strong>".concat(t||e,"</strong> page. Tours are intended to work only on default templates. Reset templates to finish this tour.")}),Promise.reject("Page ".concat(t," not found.")))}(n,a)})).then((function(){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.querySelector(t),i=null!==a&&"none"!==window.getComputedStyle(a).display;return i?n?(clearTimeout(h),Promise.resolve("Element for selector ".concat(t," found."))):u(500).then((function(){return e(t,!0)})):d?(r.a.getCalloutManager().createCallout({id:"error",target:"button#toursButton",placement:"top",xOffset:-270,arrowOffset:270,title:s||"No element",content:c||"Cannot find element for the next tour step on the screen."}),Promise.reject("Element for selector ".concat(t," not found."))):p().then((function(){return e(t)}))}(o)})).then((function(){return r.a.nextStep()})).catch((function(e){console.error(e),g(!0)}))})),r.a.registerHelper("onTourStart",p),r.a.registerHelper("onTourClose",d),r.a.registerHelper("showError",(function(e){r.a.getCalloutManager().createCallout({id:"error",target:"button#toursButton",placement:"top",xOffset:-270,arrowOffset:270,title:"No target element for next step",content:e||"Cannot find target element. Tours are intended to work only on default templates. Reset templates to finish this tour."})}))}function m(e){g(!1),r.a.startTour(s.a.parseTour(e))}function g(t){var n;r.a.endTour(),t?(n=null,n=setTimeout((function t(){e(".hopscotch-bubble").length>0?n=setTimeout(t,1e3):(clearTimeout(n),d())}),1e3)):(r.a.getCalloutManager().removeAllCallouts(),d())}function f(){return function(e,t){return h(e),s.a.load(t().manager).then((function(t){return e((n=t,{type:o.kb,tours:n}));var n}))}}function v(e){return function(t,n){var a=n().router.location.pathname;if(!_.isNil(e.startAt)&&e.startAt!==a)return sessionStorage.setItem("startedTour",e.id),Promise.resolve(t(Object(i.push)(e.startAt))).then((function(){return m(e)}));m(e)}}}).call(this,n(43))},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(13);function r(e){return{type:a.Y,isEditMode:e}}},226:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(230),b=n(93),w=n(210),C=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_handleChange",value:function(e,t){var n=t.value;this.props.onPageSizeChange(n)}},{key:"render",value:function(){if(this.props.totalSize<=0&&this.props.fetchSize<=0&&1===this.props.currentPage)return null;var e=(this.props.currentPage-1)*this.props.pageSize+1,n=this.props.totalSize>0?Math.min(e+this.props.pageSize-1,this.props.totalSize):e+this.props.fetchSize-1;e>n&&(e=n);var a=t.pageSizes(this.props.sizeMultiplier),r=_.map(a,(function(e){return{text:e,value:e}}));return _.indexOf(a,this.props.pageSize)<0&&r.unshift({text:this.props.pageSize,value:this.props.pageSize}),E.a.createElement("div",{className:"ui small form"},"Page size:",E.a.createElement(w.a,{compact:!0,upward:!0,search:!0,selection:!0,allowAdditions:!0,value:this.props.pageSize,additionLabel:"Set ",options:r,clearable:!1,onChange:this._handleChange.bind(this),id:"pageSizeField"}),"",e," to ",n,this.props.totalSize>0&&E.a.createElement("span",null,"of ",this.props.totalSize," entries"))}}]),t}(v.Component);m()(C,"propTypes",{currentPage:f.a.number.isRequired,pageSize:f.a.number.isRequired,totalSize:f.a.number,onPageSizeChange:f.a.func.isRequired,fetchSize:f.a.number,sizeMultiplier:f.a.number}),m()(C,"defaultProps",{currentPage:1,totalSize:-1,fetchSize:-1,sizeMultiplier:5}),m()(C,"pageSizes",(function(e){return[1,2,3,5,10].map((function(t){return e*t}))}));var O=n(1484),P=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e=this,t=Math.ceil(this.props.totalSize/this.props.pageSize);if(t<=1)return null;var n=1==this.props.currentPage,a=this.props.currentPage==t,r=t<=5?1:Math.max(this.props.currentPage-Math.floor(2.5),1);this.props.currentPage>5&&this.props.currentPage>t-Math.floor(2.5)&&(r=t-5+1);for(var i=Math.min(r+5-1,t),o=[],s=r;s<=i;s++)r>1&&t>5&&s==r?(o.push(E.a.createElement(O.a.Item,{key:s,content:"1",onClick:function(){return e.props.onPageChange(1)}})),r>2?o.push(E.a.createElement(O.a.Item,{key:s+1,content:"...",className:"disabled"})):o.push(E.a.createElement(O.a.Item,{key:s+1,content:"2",onClick:function(){return e.props.onPageChange(2)}}))):i<t&&s==i?(i<t-1?o.push(E.a.createElement(O.a.Item,{key:s+1,content:"...",className:"disabled"})):o.push(E.a.createElement(O.a.Item,{key:s+1,content:t-1,onClick:function(){return e.props.onPageChange(t-1)}})),o.push(E.a.createElement(O.a.Item,{key:s+2,content:t,onClick:function(){return e.props.onPageChange(t)}}))):function(e,t){o.push(E.a.createElement(O.a.Item,{key:e+1,active:t.props.currentPage==e,content:e,onClick:function(){return t.props.onPageChange(e)}}))}(s,this);return E.a.createElement(O.a,{pagination:!0,floated:"right",size:"small"},E.a.createElement(O.a.Item,{icon:"angle left",link:!0,className:n?"disabled":"",onClick:function(){n||e.props.onPageChange(e.props.currentPage-1)}}),o,E.a.createElement(O.a.Item,{icon:"angle right",link:!0,className:a?"disabled":"",onClick:function(){a||e.props.onPageChange(e.props.currentPage+1)}}))}}]),t}(v.Component);m()(P,"propTypes",{currentPage:f.a.number.isRequired,pageSize:f.a.number.isRequired,totalSize:f.a.number.isRequired,onPageChange:f.a.func.isRequired});var T=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e=this;if(this.props.currentPage<=1&&this.props.fetchSize<this.props.pageSize)return null;var t=1==this.props.currentPage,n=this.props.fetchSize<this.props.pageSize,a=this.props.currentPage<=4?1:Math.max(this.props.currentPage-Math.floor(2),1);this.props.currentPage>4&&this.props.currentPage>this.props.currentPage-Math.floor(2)&&(a=this.props.currentPage-4+1);for(var r=[],i=a;i<=this.props.currentPage;i++)a>1&&this.props.currentPage>4&&i==a?(r.push(E.a.createElement(O.a.Item,{key:i,content:"1",onClick:function(){return e.props.onPageChange(1)}})),a>2?r.push(E.a.createElement(O.a.Item,{key:i+1,content:"...",className:"disabled"})):r.push(E.a.createElement(O.a.Item,{key:i+1,content:"2",onClick:function(){return e.props.onPageChange(2)}}))):function(e,t){r.push(E.a.createElement(O.a.Item,{key:e+1,active:t.props.currentPage==e,content:e,onClick:function(){return t.props.onPageChange(e)}}))}(i,this);return E.a.createElement(O.a,{pagination:!0,floated:"right",size:"small"},E.a.createElement(O.a.Item,{icon:"angle left",link:!0,className:t?"disabled":"",onClick:function(){t||e.props.onPageChange(e.props.currentPage-1)}}),r,E.a.createElement(O.a.Item,{icon:"angle right",link:!0,className:n?"disabled":"",onClick:function(){n||e.props.onPageChange(e.props.currentPage+1)}}))}}]),t}(v.Component);m()(T,"propTypes",{currentPage:f.a.number.isRequired,pageSize:f.a.number.isRequired,fetchSize:f.a.number.isRequired,onPageChange:f.a.func.isRequired});var S=n(35);n.d(t,"a",(function(){return k}));var k=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).state={pageSize:e.pageSize,currentPage:1,showWarningPopup:!1},a.disableStateUpdate=!1,a}return d()(t,e),o()(t,[{key:"_changePageSize",value:function(e){var n=this,a=parseInt(e),r=!1;(_.isNaN(a)||a<1||a>500)&&(a=t.PAGE_SIZE_LIST(this.props.sizeMultiplier)[0],r=!0),this.setState({pageSize:a,currentPage:1,showWarningPopup:r},(function(){return r&&setTimeout((function(){return n.setState({showWarningPopup:!1})}),3e3),n.props.fetchData()}))}},{key:"_changePage",value:function(e,t){var n=this;this.setState({currentPage:e,pageSize:t||this.state.pageSize},(function(){n.props.fetchData()}))}},{key:"reset",value:function(e){this.setState({currentPage:1},e)}},{key:"componentDidUpdate",value:function(e){var t={};if(e.pageSize!==this.props.pageSize&&(t.pageSize=this.props.pageSize),this.props.totalSize>=0&&1!==this.state.currentPage){var n=Math.ceil(this.props.totalSize/this.props.pageSize);this.state.currentPage>n&&(t.currentPage=1)}_.isEmpty(t)||this._changePage(t.currentPage||this.state.currentPage,t.pageSize)}},{key:"render",value:function(){return E.a.createElement("div",null,this.props.children,(this.props.totalSize>t.PAGE_SIZE_LIST(this.props.sizeMultiplier)[0]||this.props.fetchSize>0||this.state.currentPage>1)&&E.a.createElement("div",{className:"ui two column grid gridPagination"},E.a.createElement("div",{className:"column"},E.a.createElement(S.a,{open:this.state.showWarningPopup,wide:"very"},E.a.createElement(S.a.Trigger,null,E.a.createElement(C,{currentPage:this.state.currentPage,pageSize:this.state.pageSize,totalSize:this.props.totalSize,fetchSize:this.props.fetchSize,onPageSizeChange:this._changePageSize.bind(this),sizeMultiplier:this.props.sizeMultiplier})),E.a.createElement(S.a.Content,null,E.a.createElement(y.a,{warning:!0},E.a.createElement(b.a,{name:"warning sign"}),"Only integer values between 1 and 500 are allowed.")))),E.a.createElement("div",{className:"right aligned column"},this.props.totalSize>0?E.a.createElement(P,{currentPage:this.state.currentPage,pageSize:this.state.pageSize,totalSize:this.props.totalSize,onPageChange:this._changePage.bind(this)}):E.a.createElement(T,{currentPage:this.state.currentPage,pageSize:this.state.pageSize,fetchSize:this.props.fetchSize,onPageChange:this._changePage.bind(this)}))))}}]),t}(v.Component);m()(k,"PAGE_SIZE_LIST",C.pageSizes),m()(k,"propTypes",{children:f.a.any.isRequired,fetchData:f.a.func.isRequired,pageSize:f.a.number.isRequired,totalSize:f.a.number,fetchSize:f.a.number,sizeMultiplier:f.a.number}),m()(k,"defaultProps",{totalSize:0,fetchSize:0,sizeMultiplier:5,pageSize:k.PAGE_SIZE_LIST(5)[0]})},257:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var a=n(13),r=n(77),i=n(59),o=n(217),s=n(67),l=n(147),c=n(216);function u(e){var t=new r.a(e);return function(e){return e({type:a.P}),t.doGet("/tenants",{_include:"name",_get_all_results:!0}).then((function(t){e(function(e){return{type:a.R,tenants:e,receivedAt:Date.now()}}(t))})).catch((function(t){return console.error(t),e(function(e){return{type:a.p,error:e,receivedAt:Date.now()}}(t.message)),Promise.reject(t)}))}}function p(e){return function(t){t(Object(i.c)(!0)),t(Object(o.a)(!1)),t(Object(s.a)()),t(function(e){return{type:a.S,tenant:e}}(e)),t(Object(l.b)()),t(Object(c.a)())}}},259:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(2),r=n.n(a),i=n(1),o=n.n(i),s=n(0),l=n.n(s),c=n(1457),u=n(93),p=n(188),d=n(29);function h(e){var t,n=e.name,a=e.isExternal,i=(t={},r()(t,d.d.manager,"settings"),r()(t,d.d.db,"database"),r()(t,d.d.broker,"comments"),t)[n];return o.a.createElement("div",{style:{verticalAlign:"middle",padding:10,overflow:"auto"}},o.a.createElement(c.a,{floated:"left",style:{margin:0}},o.a.createElement(u.a,{name:i,size:"large"})," ",d.e[n]),a&&o.a.createElement(p.a,{color:"black",style:{marginLeft:10,float:"right"}},"External"))}h.propTypes={name:l.a.oneOf(d.h).isRequired,isExternal:l.a.bool.isRequired}},260:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(26),l=n(67),c=n(59),u=n(14);function p(e){return function(t){t(Object(l.a)()),t(Object(c.b)(e)),t(Object(s.push)(u.a.ERROR_PAGE_PATH))}}n.d(t,"a",(function(){return h}));var d=null,h=function(){function e(t){r()(this,e),this._store=t}return o()(e,[{key:"handle401",value:function(){this._store.dispatch(Object(l.a)()),this._store.dispatch(Object(s.push)(u.a.LOGIN_PAGE_PATH))}},{key:"handleLicenseError",value:function(e){e===u.a.NO_LICENSE_ERROR_CODE?this._store.dispatch(p("No active license")):e===u.a.EXPIRED_LICENSE_ERROR_CODE&&this._store.dispatch(p("License has expired"))}}],[{key:"create",value:function(t){d=new e(t)}},{key:"getInterceptor",value:function(){return d}}]),e}()},29:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return h}));var a=Object.freeze({OK:"OK",Fail:"Fail",Degraded:"Degraded",Unknown:"Unknown"}),r=Object.freeze({manager:"Manager",db:"Database",broker:"Message Broker"}),i=Object.freeze({manager:"manager",db:"db",broker:"broker"}),o=_.keys(i),s=Object.freeze({OK:"OK",Fail:"Fail",Degraded:"Degraded",Unknown:"Unknown"}),l=_.keys(s),c=function(e){switch(e){case s.OK:return"#21ba45";case s.Degraded:return"#fbbd08";case s.Fail:return"#db2828";default:return"#aaaaaa"}},u=Object.freeze({OK:"OK",Fail:"Fail"}),p=_.keys(u),d=Object.freeze({Active:"Active",Inactive:"Inactive"}),h=_.keys(d)},3:function(e,t,n){"use strict";n.r(t);var a=n(1481),r=n(1489),i=n(156),o=n(1480),s=n(828),l=n(1472),c=n(1473),u=n(1485),p=n(1457),d=n(93),h=n(827),m=n(1453),g=n(1478),f=n(188),v=n(1479),E=n(1470),y=n(230),b=n(341),w=n(1491),C=n(1474),O=n(1452),P=n(1487),T=n(1486),S=n(1482),k=n(60),I=n(1455),D=n(679),A=n.n(D),j=n(5),R=n.n(j),N=n(6),x=n.n(N),M=n(9),L=n.n(M),U=n(8),F=n.n(U),q=n(10),z=n.n(q),G=n(2),B=n.n(G),W=n(0),H=n.n(W),V=n(1),Y=n.n(V),X=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(i.a,this.props)}}]),t}(V.Component);B()(X,"propTypes",{content:H.a.string,icon:H.a.string,className:H.a.string}),B()(X,"defaultProps",{content:"Save",icon:"checkmark",className:"ok"});var K=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(i.a,this.props)}}]),t}(V.Component);B()(K,"propTypes",{content:H.a.string,icon:H.a.string,className:H.a.string}),B()(K,"defaultProps",{content:"Cancel",icon:"remove",className:"basic cancel"});var J=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(b.a,{open:this.props.open,size:"small"},Y.a.createElement(b.a.Header,null,this.props.content),Y.a.createElement(b.a.Actions,null,Y.a.createElement(X,{onClick:this.props.onDismiss,content:"Ok",color:"green"})))}}]),t}(V.Component);B()(J,"propTypes",{open:H.a.bool,content:H.a.string,onDismiss:H.a.func}),B()(J,"defaultProps",{onDismiss:function(){}});var Z=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(d.a,{title:this.props.value?"Yes":"No",name:this.props.value?"checkmark box":"square outline"})}}]),t}(V.Component);B()(Z,"propTypes",{value:H.a.bool}),B()(Z,"defaultProps",{});var Q=n(181),$=n(7),ee=n.n($),te=n(113),ne=n.n(te),ae=n(1469),re=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this.props,t=e.confirmButton,n=e.cancelButton,a=e.className,r=ne()(e,["confirmButton","cancelButton","className"]);return Y.a.createElement(ae.a,ee()({},r,{confirmButton:t||"Yes",cancelButton:n||"No",className:"confirmModal ".concat(a)}))}}]),t}(V.Component);B()(re,"defaultProps",{className:""});var ie=n(336),oe=n(327),se=n(328),le={ClusterServicesList:ie.a,ClusterServicesOverview:oe.a,ClusterStatusIcon:se.a},ce=n(64),ue=n(191),pe=n(325),de=n(226),he=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(ue.a.Field,{className:"actionField"},this.props.children)}}]),t}(V.Component);B()(he,"propTypes",{children:H.a.any.isRequired});var me=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this.props.className+(_.isFunction(this.props.onClick)?" clickable":"");return Y.a.createElement(P.a,{secondary:this.props.selected,className:e,onClick:this.props.onClick},this.props.children)}}]),t}(V.Component);B()(me,"propTypes",{children:H.a.any.isRequired,selected:H.a.bool,onClick:H.a.func,className:H.a.string}),B()(me,"defaultProps",{selected:!1,className:""});var ge=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).paginationRef=Y.a.createRef(),a.state={searchText:"",searching:!1},a.debouncedSearch=_.debounce((function(){a.paginationRef.current.reset((function(){return Promise.resolve(a._fetchData()).then((function(){return a.setState({searching:!1})}))}))}),300,{maxWait:2e3}),a}return z()(t,e),x()(t,[{key:"_fetchData",value:function(){return this.props.fetchData({gridParams:{_search:this.state.searchText,currentPage:this.paginationRef.current.state.currentPage,pageSize:this.paginationRef.current.state.pageSize}})}},{key:"render",value:function(){var e=this,t=null,n=[];return Y.a.Children.forEach(this.props.children,(function(e){e&&e.type&&(e.type===he?t=e:n.push(e))})),Y.a.createElement("div",{className:"segmentList ".concat(this.props.className)},(t||this.props.searchable)&&Y.a.createElement(ue.a,{size:"small",as:"div"},Y.a.createElement(ue.a.Group,{inline:!0},this.props.searchable&&Y.a.createElement(pe.a,{search:this.state.searchText,searching:this.state.searching,onSearch:function(t){return e.setState({searchText:t,searching:!0},e.debouncedSearch)}}),t)),Y.a.createElement(de.a,{totalSize:this.props.totalSize,pageSize:this.props.pageSize,sizeMultiplier:this.props.sizeMultiplier,fetchData:this._fetchData.bind(this),fetchSize:this.props.fetchSize,ref:this.paginationRef},this.props.totalSize<=0&&this.props.fetchSize<=0&&(0===this.props.totalSize||0===this.props.fetchSize)?Y.a.createElement(y.a,{icon:!0},Y.a.createElement(d.a,{name:"ban"}),0===this.props.fetchSize&&this.paginationRef.current&&this.paginationRef.current.state.currentPage>1?Y.a.createElement("span",null,"No more data available"):Y.a.createElement("span",null,this.props.noDataMessage)):n))}}]),t}(V.Component);B()(ge,"Item",me),B()(ge,"Action",he),B()(ge,"propTypes",{children:H.a.any.isRequired,fetchData:H.a.func.isRequired,totalSize:H.a.number,fetchSize:H.a.number,pageSize:H.a.number,className:H.a.string,sizeMultiplier:H.a.number,searchable:H.a.bool,noDataMessage:H.a.string}),B()(ge,"defaultProps",{className:"",fetchData:function(){},totalSize:-1,fetchSize:-1,pageSize:0,sizeMultiplier:3,searchable:!1,noDataMessage:"No data available"});var fe=n(210),ve=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState(e),a}return z()(t,e),x()(t,[{key:"labelClicked",value:function(){this.props.isEditEnable&&this.setState({editing:!0})}},{key:"textChanged",value:function(e){this.setState({text:e.target.value})}},{key:"inputLostFocus",value:function(){this.props.isEditEnable&&(this.props.onEditDone(this.state.text),this.setState({editing:!1}))}},{key:"keyPressed",value:function(e){"Enter"===e.key&&this.inputLostFocus()}},{key:"render",value:function(){var e=this,t="".concat(this.props.className," ").concat(_.isEmpty(this.props.text)?"editPlaceholder":"");if(this.state.editing)return Y.a.createElement("input",{type:"text",value:this.state.text,autoFocus:!0,onClick:function(t){t.stopPropagation(),e.labelClicked()},onChange:this.textChanged.bind(this),onBlur:this.inputLostFocus.bind(this),onKeyPress:this.keyPressed.bind(this),className:t});var n=this.props.isEditEnable?this.props.text||this.props.placeholder:this.props.text;return Y.a.createElement("label",{onClick:function(t){t.stopPropagation(),e.labelClicked()},className:t},n)}}]),t}(V.Component);B()(ve,"propTypes",{text:H.a.string,placeholder:H.a.string,className:H.a.string,isEditEnable:H.a.bool,onEditDone:H.a.func}),B()(ve,"defaultProps",{text:"",placeholder:"",className:"",isEditEnable:!0,onEditDone:function(){}}),B()(ve,"initialState",(function(e){return{editing:!1,text:e.text}}));var Ee=n(212),ye=n(74),be=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this.props.execution,t=e.status_display||e.status,n=this.props.allowShowingPopup&&ye.a.isWaitingExecution(e)&&!_.isEmpty(e.scheduled_for);return this.props.showLabel?Y.a.createElement(wt.a,{on:n?"hover":[]},Y.a.createElement(wt.a.Trigger,null,Y.a.createElement(f.a,ee()({},this.props.labelProps,{onClick:function(e){return e.stopPropagation()}}),Y.a.createElement(d.a,ee()({},ye.a.getExecutionStatusIconParams(e),this.props.iconProps)),this.props.showWorkflowId&&e.workflow_id,this.props.showWorkflowId&&" ",t)),n?Y.a.createElement("span",null,"Scheduled for: ",Y.a.createElement("strong",null,e.scheduled_for)):null):Y.a.createElement(d.a,ee()({},ye.a.getExecutionStatusIconParams(e),this.props.iconProps,{onClick:function(e){return e.stopPropagation()}}))}}]),t}(V.Component);B()(be,"propTypes",{execution:H.a.object.isRequired,allowShowingPopup:H.a.bool,iconProps:H.a.object,labelProps:H.a.object,showLabel:H.a.bool,showWorkflowId:H.a.bool}),B()(be,"defaultProps",{allowShowingPopup:!0,iconProps:{},labelProps:{},showLabel:!0,showWorkflowId:!1});var _e=n(54),we=n(114),Ce=n(804),Oe=n(48),Pe=n(118),Te=n(19),Se=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e,n,a=this,r=(e={},B()(e,t.LINE_CHART_TYPE,Oe.j),B()(e,t.BAR_CHART_TYPE,Oe.d),B()(e,t.AREA_CHART_TYPE,Oe.b),e),i=(n={},B()(n,t.LINE_CHART_TYPE,Oe.i),B()(n,t.BAR_CHART_TYPE,Oe.c),B()(n,t.AREA_CHART_TYPE,Oe.a),n),o=["#000069","#28aae1","#f4773c","#21ba45","#af41f4"],s=Object(Pe.a)(".3s"),l=this.props.xDataKey===t.DEFAULT_X_DATA_KEY,c=function(e){var t=e.vertical,n=e.x,a=e.y,r=e.width,i=e.height,o=e.children,s=e.fill,l=t?n+20:n+r/2+10,c=t?i/2:a+i+20,u=t?"270 ".concat(l," ").concat(c):0,p={fill:s,stroke:s};return Y.a.createElement("text",{x:l,y:c,transform:"rotate(".concat(u,")"),textAnchor:"middle",style:p},o)},u=r[this.props.type],p=i[this.props.type],d=[],h=0;_.each(_.slice(this.props.charts,0,t.MAX_NUMBER_OF_CHARTS),(function(e){if(e.fieldNames)a.props.showYAxis&&d.push(Y.a.createElement(Oe.p,{key:"yaxis".concat(e.name),padding:{top:10},width:e.axisLabel?50:25,tickFormatter:s,tick:a.props.yAxisTick,label:Y.a.createElement(c,{vertical:!0},e.axisLabel)})),_.each(e.fieldNames,(function(e){var t=o[h++];d.push(Y.a.createElement(p,{key:e,isAnimationActive:!1,name:e,type:"monotone",dataKey:e,stroke:t,fill:t,fillOpacity:.3,dot:!1}))}));else{var t=o[h++],n={stroke:t},r=l?Y.a.createElement(Oe.p,{key:"yaxis".concat(e.name),dataKey:e.name,yAxisId:e.name,width:50,axisLine:n,tick:n,tickLine:n,tickFormatter:s,label:Y.a.createElement(c,{vertical:!0,fill:t},e.axisLabel)}):Y.a.createElement(Oe.p,{key:"yaxis".concat(e.name),dataKey:e.name,yAxisId:e.name,axisLine:n,width:30,allowDecimals:a.props.yAxisAllowDecimals,tickFormatter:a.props.yAxisDataFormatter});d.push(r),d.push(Y.a.createElement(p,{key:e.name,isAnimationActive:!1,name:e.label,type:"monotone",dataKey:e.name,stroke:t,fillOpacity:.3,fill:t,yAxisId:e.name}))}}));var m=function(e){return Te.a.Time.formatLocalTimestamp(e,a.props.xAxisTimeFormat,a.props.dataTimeFormat)};return Y.a.createElement(Oe.m,{width:"100%",height:"100%"},Y.a.createElement(u,{data:this.props.data,margin:{top:5,right:30,left:20,bottom:5},syncId:this.props.syncId,onClick:this.props.onClick},d,Y.a.createElement(Oe.f,{strokeDasharray:"3 3"}),this.props.showXAxis&&l?Y.a.createElement(Oe.o,{dataKey:this.props.xDataKey,tickFormatter:m,tick:this.props.xAxisTick}):Y.a.createElement(Oe.o,{dataKey:this.props.xDataKey}),this.props.showTooltip&&l?Y.a.createElement(Oe.n,{isAnimationActive:!1,formatter:s,labelFormatter:m,cursor:!1}):Y.a.createElement(Oe.n,{isAnimationActive:!1,formatter:this.props.tooltipFormatter,cursor:!1}),this.props.showLegend&&Y.a.createElement(Oe.h,null),this.props.showBrush&&Y.a.createElement(Oe.e,null)))}}]),t}(V.Component);B()(Se,"DEFAULT_X_DATA_KEY","time"),B()(Se,"LINE_CHART_TYPE","line"),B()(Se,"BAR_CHART_TYPE","bar"),B()(Se,"AREA_CHART_TYPE","area"),B()(Se,"MAX_NUMBER_OF_CHARTS",5),B()(Se,"propTypes",{data:H.a.array.isRequired,type:H.a.string.isRequired,charts:H.a.array.isRequired,xDataKey:H.a.string}),B()(Se,"defaultProps",{xDataKey:Se.DEFAULT_X_DATA_KEY,showXAxis:!0,showYAxis:!0,showBrush:!1,showTooltip:!0,showLegend:!0,dataTimeFormat:void 0,xAxisTimeFormat:"DD-MM-YYYY HH:mm",xAxisTick:{fontSize:"10px"},yAxisTick:{fontSize:"10px"},tooltipFormatter:void 0,yAxisAllowDecimals:!0,yAxisDataFormatter:void 0});var ke=function(e){function t(e){return R()(this,t),L()(this,F()(t).call(this,e))}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props.widget,e.widget)||!_.isEqual(this.state,t)||!_.isEqual(this.props.data,e.data)}},{key:"render",value:function(){var e=this.props.data;return Y.a.createElement(Oe.m,{width:"100%",height:"100%"},Y.a.createElement(Oe.l,null,Y.a.createElement(Oe.k,{dataKey:"value",data:e,labelLine:!0,label:!0,isAnimationActive:!1,cx:"40%"},e.map((function(e,t){return Y.a.createElement(Oe.g,{key:t,fill:e.color})}))),Y.a.createElement(Oe.h,{layout:"vertical",verticalAlign:"middle",align:"right"})))}}]),t}(V.Component);B()(ke,"propTypes",{widget:H.a.object.isRequired,data:H.a.array.isRequired,toolbox:H.a.object.isRequired});var Ie={Gauge:Ce.a,Graph:Se,PieGraph:ke},De=n(189),Ae=n.n(De),je=n(808),Re=n.n(je),Ne=(n(1397),n(809)),xe=n.n(Ne),Me=n(810),Le=n.n(Me),Ue=n(439),Fe=n.n(Ue),qe=n(811),ze=n.n(qe);Object(De.registerLanguage)("bash",Fe.a),Object(De.registerLanguage)("javascript",xe.a),Object(De.registerLanguage)("json",Le.a),Object(De.registerLanguage)("python",Fe.a),Object(De.registerLanguage)("yaml",ze.a);var Ge=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(Ae.a,{language:this.props.className,style:Re.a,codeTagProps:{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"}}},this.props.children)}}]),t}(V.Component);B()(Ge,"propTypes",{children:H.a.any,className:H.a.string}),B()(Ge,"defaultProps",{className:"json"});var Be=n(315),We=n(1483),He=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement("div",{className:"keyIndicator"},Y.a.createElement(We.a,null,Y.a.createElement(We.a.Value,null,Y.a.createElement(d.a,{name:this.props.icon})," ",this.props.number),Y.a.createElement(We.a.Label,null,this.props.title)))}}]),t}(V.Component);B()(He,"propTypes",{title:H.a.string.isRequired,icon:H.a.string.isRequired,number:H.a.number.isRequired}),B()(He,"defaultProps",{});var Ve=n(1490),Ye=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(P.a,{basic:!0,className:"loadingSegment"},Y.a.createElement(Ve.a,{active:!0,inverted:!0},Y.a.createElement(E.a,null,this.props.message)))}}]),t}(V.Component);function Xe(e){var t=e.message;return Y.a.createElement(Ve.a,{active:!0,inverted:!0},Y.a.createElement(E.a,null,t))}B()(Ye,"propTypes",{message:H.a.string}),B()(Ye,"defaultProps",{message:"Loading"}),Xe.propTypes={message:H.a.string},Xe.defaultProps={message:null};var Ke=n(1488),Je=n(1493),Ze=n(1471),Qe=n(1492),$e={Map:Ke.a,TileLayer:Je.a,Marker:Ze.a,Popup:Qe.a},et=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this.props.activate?"Activate Maintenance Mode":"Dectivate Maintenance Mode";return React.createElement(i.a,{color:"orange",icon:"doctor",content:e,className:"widgetButton",labelPosition:"left",onClick:this.props.onClick})}}]),t}(V.Component);B()(et,"props",{activate:H.a.bool.isRequired,onClick:H.a.func.isRequired});var tt=n(24),nt=n.n(tt),at=n(21),rt=n(14),it=n(70);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var st=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState,a.pollingTimeout=null,a}return z()(t,e),x()(t,[{key:"componentDidUpdate",value:function(e){!e.show&&this.props.show?(this.setState(t.initialState),this._loadPendingExecutions()):e.show&&!this.props.show&&(this._stopPolling(),this._stopFetchingData(),this.props.onClose())}},{key:"componentWillUnmount",value:function(){this._stopPolling()}},{key:"_loadPendingExecutions",value:function(){var e=this;this.props.manager.maintenance===rt.a.MAINTENANCE_DEACTIVATED&&(this.fetchDataPromise=Te.a.makeCancelable(this.props.onFetchActiveExecutions()),this.fetchDataPromise.promise.then((function(t){console.log("Maintenance data fetched"),e._startPolling()})).catch((function(t){e.setState({error:t.message}),e._startPolling()})))}},{key:"_stopPolling",value:function(){console.log("Stop polling maintenance data"),clearTimeout(this.pollingTimeout)}},{key:"_stopFetchingData",value:function(){this.fetchDataPromise&&this.fetchDataPromise.cancel()}},{key:"_startPolling",value:function(){var e=this;this._stopPolling(),this._stopFetchingData(),this.props.show&&(console.log("Polling maintenance data - time interval: ".concat(2," sec")),this.pollingTimeout=setTimeout((function(){e._loadPendingExecutions()}),2e3))}},{key:"onApprove",value:function(){return this.setState({loading:!0}),this.props.manager.maintenance===rt.a.MAINTENANCE_DEACTIVATED?this._activate():this._deactivate(),!1}},{key:"onDeny",value:function(){return this.props.onHide(),!0}},{key:"_activate",value:function(){var e=this;this.props.onMaintenanceActivate().then((function(){e.setState({error:"",loading:!1}),e.props.onHide()})).catch((function(t){e.setState({error:t.message,loading:!1})}))}},{key:"_deactivate",value:function(){var e=this;this.props.onMaintenanceDeactivate().then((function(){e.setState({error:"",loading:!1}),e.props.onHide()})).catch((function(t){e.setState({error:t.message,loading:!1})}))}},{key:"_cancelExecution",value:function(e,t){var n=this;this.setState({cancelling:[].concat(nt()(this.state.cancelling),[e.id])},(function(){return n.props.onCancelExecution(e,t).then((function(){n._loadPendingExecutions(),n.setState({error:"",cancelling:_.without(n.state.cancelling,e.id)})})).catch((function(e){n.setState({error:e.message})}))}))}},{key:"render",value:function(){var e=this;return Y.a.createElement(b.a,{open:this.props.show,onClose:function(){return e.props.onHide()}},Y.a.createElement(b.a.Header,null,Y.a.createElement(d.a,{name:"doctor"}),this.props.manager.maintenance===rt.a.MAINTENANCE_DEACTIVATED?"Are you sure you want to enter maintenance mode?":"Are you sure you want to exit maintenance mode?"),this.state.error||!_.isEmpty(this.props.activeExecutions.items)?Y.a.createElement(b.a.Content,null,Y.a.createElement(Ee.a,{error:this.state.error}),!_.isEmpty(this.props.activeExecutions.items)&&Y.a.createElement(ce.a,null,Y.a.createElement(ce.a.Column,{label:"Blueprint",width:"15%"}),Y.a.createElement(ce.a.Column,{label:"Deployment",width:"15%"}),Y.a.createElement(ce.a.Column,{label:"Workflow",width:"15%"}),Y.a.createElement(ce.a.Column,{label:"Id",width:"20%"}),Y.a.createElement(ce.a.Column,{label:"System",width:"5%"}),Y.a.createElement(ce.a.Column,{label:"Status",width:"15%"}),Y.a.createElement(ce.a.Column,{label:"Action"}),this.props.activeExecutions.items.map((function(t){return Y.a.createElement(ce.a.Row,{key:t.id},Y.a.createElement(ce.a.Data,null,t.blueprint_id),Y.a.createElement(ce.a.Data,null,t.deployment_id),Y.a.createElement(ce.a.Data,null,t.workflow_id),Y.a.createElement(ce.a.Data,null,t.id),Y.a.createElement(ce.a.Data,null,Y.a.createElement(Z,{value:t.is_system_workflow})),Y.a.createElement(ce.a.Data,null,Y.a.createElement(be,{execution:t})),Y.a.createElement(ce.a.Data,{className:"center aligned"},Y.a.createElement(Tt,{className:"menuAction"},Y.a.createElement(pt,{pointing:!0,vertical:!0},Y.a.createElement(pt.Item,{content:"Cancel",icon:"cancel",name:ye.a.CANCEL_ACTION,onClick:function(){return e._cancelExecution(t,ye.a.CANCEL_ACTION)}}),Y.a.createElement(pt.Item,{content:"Force Cancel",icon:Y.a.createElement(d.a,{name:"cancel",color:"red"}),name:ye.a.FORCE_CANCEL_ACTION,onClick:function(){return e._cancelExecution(t,ye.a.FORCE_CANCEL_ACTION)}}),Y.a.createElement(pt.Item,{content:"Kill Cancel",icon:Y.a.createElement(d.a,{name:"stop",color:"red"}),name:ye.a.KILL_CANCEL_EXECUTION,onClick:function(){return e._cancelExecution(t,ye.a.KILL_CANCEL_EXECUTION)}})))))})))):"",Y.a.createElement(b.a.Actions,null,Y.a.createElement(K,{onClick:this.onDeny.bind(this),content:"No",disabled:this.state.loading}),Y.a.createElement(X,{onClick:this.onApprove.bind(this),content:"Yes",icon:"doctor",color:"green",disabled:this.state.loading})))}}]),t}(V.Component);B()(st,"initialState",{cancelling:[],loading:!1,error:""}),B()(st,"propTypes",{show:H.a.bool.isRequired,manager:H.a.object.isRequired,activeExecutions:H.a.object,onHide:H.a.func.isRequired,onMaintenanceActivate:H.a.func.isRequired,onMaintenanceDeactivate:H.a.func.isRequired,onFetchActiveExecutions:H.a.func.isRequired}),B()(st,"defaultProps",{activeExecutions:{}});var lt=Object(at.connect)((function(e,t){return{manager:e.manager,show:t.show,onHide:t.onHide,activeExecutions:e.manager.activeExecutions}}),(function(e,t){return{onMaintenanceActivate:function(t){return e(Object(it.i)(t,!0))},onMaintenanceDeactivate:function(t){return e(Object(it.i)(t,!1))},onFetchActiveExecutions:function(t){return e(Object(it.b)(t))},onCancelExecution:function(t,n,a){return e(Object(it.a)(t,n,a))},onClose:function(){return e(Object(it.h)({}))}}}),(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},n,{},t,{onMaintenanceActivate:function(){return t.onMaintenanceActivate(e.manager)},onMaintenanceDeactivate:function(){return t.onMaintenanceDeactivate(e.manager)},onFetchActiveExecutions:function(){return t.onFetchActiveExecutions(e.manager)},onCancelExecution:function(n,a){return t.onCancelExecution(e.manager,n,a)}})}))(st),ct=n(1484),ut=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return Y.a.createElement(ct.a.Item,ee()({},this.props,{"option-value":this.props.name}))}}]),t}(ct.a.Item),pt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),t}(ct.a);B()(pt,"Item",ut);var dt=n(134),ht=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){dt.a.turnOff();var e={margin:this.props.margin,textAlign:this.props.textAlign},t=this.props.wide?{mobile:14,tablet:14,computer:12}:{mobile:12,tablet:8,computer:6};return Y.a.createElement(u.a,{centered:!0,container:!0,columns:1},Y.a.createElement(u.a.Column,t,Y.a.createElement(P.a,{size:this.props.size,padded:!0,raised:!0,style:e,loading:this.props.loading},this.props.children)))}}]),t}(V.Component);function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}B()(ht,"propTypes",{children:H.a.any.isRequired,textAlign:H.a.string,loading:H.a.bool,size:H.a.string,wide:H.a.bool,margin:H.a.string}),B()(ht,"defaultProps",{textAlign:"center",loading:!1,size:"big",wide:!1,margin:"80px auto"});var ft=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState(e),a.toolbox=Te.a.getToolbox((function(){}),(function(){}),null),a}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props,e)||!_.isEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e,n){n.blueprintId===this.props.value.blueprintId&&n.deploymentId===this.props.value.deploymentId&&n.nodeId===this.props.value.nodeId&&n.nodeInstanceId===this.props.value.nodeInstanceId||(this.setState(gt({},t.initialState(this.props))),this._fetchBlueprints(),this._fetchDeployments(),this._fetchNodes(),this._fetchNodeInstances())}},{key:"componentDidMount",value:function(){this._fetchBlueprints(),this._fetchDeployments(),this._fetchNodes(),this._fetchNodeInstances()}},{key:"_fetchData",value:function(e,t,n){var a,r=this,i="".concat(n,"Loading"),o=gt({},this.state.errors);o[n]=null,this.setState((a={},B()(a,i,!0),B()(a,n,[]),B()(a,"errors",o),a)),this.toolbox.getManager().doGet(e,t).then((function(e){var t,a=_.chain(e.items||[]).map((function(e){return e.id})).uniqWith(_.isEqual).value();r._isFilteringSetFor(n)&&(a=_.intersection(a,r._getAllowedOptionsFor(n)));var o=_.map(a,(function(e){return{text:e,value:e,key:e}}));r._isMultipleSetFor(n)||o.unshift({text:"",value:"",key:""}),r.setState((t={},B()(t,i,!1),B()(t,n,o),t))})).catch((function(e){var t;o[n]="Data fetching error: ".concat(e.message),r.setState((t={},B()(t,i,!1),B()(t,n,[]),B()(t,"errors",o),t))}))}},{key:"_fetchBlueprints",value:function(){var e=gt({},t.BASIC_PARAMS);this._fetchData("/blueprints",e,"blueprints")}},{key:"_fetchDeployments",value:function(){var e=gt({},t.BASIC_PARAMS);_.isEmpty(this.state.blueprintId)||(e.blueprint_id=this.state.blueprintId),this._fetchData("/deployments",e,"deployments")}},{key:"_fetchNodes",value:function(){var e=gt({},t.BASIC_PARAMS);_.isEmpty(this.state.blueprintId)||(e.blueprint_id=this.state.blueprintId),_.isEmpty(this.state.deploymentId)||(e.deployment_id=this.state.deploymentId),this._fetchData("/nodes",e,"nodes")}},{key:"_fetchNodeInstances",value:function(){var e=gt({},t.BASIC_PARAMS);_.isEmpty(this.state.deploymentId)||(e.deployment_id=this.state.deploymentId),_.isEmpty(this.state.nodeId)||(e.node_id=this.state.nodeId),this._fetchData("/node-instances",e,"nodeInstances")}},{key:"_handleInputChange",value:function(e,t,n,a){var r=this;this.setState(gt({},e,B()({},n.name,n.value)),(function(){_.isFunction(a)&&a(),r.props.onChange(t,{name:r.props.name,value:{blueprintId:r.state.blueprintId,deploymentId:r.state.deploymentId,nodeId:r.state.nodeId,nodeInstanceId:r.state.nodeInstanceId}})}))}},{key:"_isMultipleSetFor",value:function(e){return this.props.allowMultiple||this.props["allowMultiple".concat(_.upperFirst(e))]}},{key:"_getEmptyValueFor",value:function(e){return this._isMultipleSetFor(e)?[]:""}},{key:"_isFilteringSetFor",value:function(e){return!_.isEmpty(this.props["allowed".concat(_.upperFirst(e))])}},{key:"_getAllowedOptionsFor",value:function(e){return this.props["allowed".concat(_.upperFirst(e))]}},{key:"_selectBlueprint",value:function(e,t){var n=this;this._handleInputChange({deploymentId:this._getEmptyValueFor("deployments"),nodeId:this._getEmptyValueFor("nodes"),nodeInstanceId:this._getEmptyValueFor("nodeInstances")},e,t,(function(){n._fetchDeployments(),n._fetchNodes(),n._fetchNodeInstances()}))}},{key:"_selectDeployment",value:function(e,t){var n=this;this._handleInputChange({nodeId:this._getEmptyValueFor("nodes"),nodeInstanceId:this._getEmptyValueFor("nodeInstances")},e,t,(function(){n._fetchNodes(),n._fetchNodeInstances()}))}},{key:"_selectNode",value:function(e,t){var n=this;this._handleInputChange({nodeInstanceId:this._getEmptyValueFor("nodeInstances")},e,t,(function(){n._fetchNodeInstances()}))}},{key:"_selectNodeInstance",value:function(e,t){this._handleInputChange({},e,t)}},{key:"render",value:function(){var e=this.state.errors;return Y.a.createElement(_e.a.Group,{widths:"equal"},this.props.showBlueprints&&Y.a.createElement(_e.a.Field,{error:this.state.errors.blueprints},Y.a.createElement(_e.a.Dropdown,{search:!0,selection:!0,value:e.blueprints?this._getEmptyValueFor("blueprints"):this.state.blueprintId,multiple:this._isMultipleSetFor("blueprints"),placeholder:e.blueprints||"Blueprint",options:this.state.blueprints,onChange:this._selectBlueprint.bind(this),name:"blueprintId",loading:this.state.blueprintsLoading})),this.props.showDeployments&&Y.a.createElement(_e.a.Field,{error:this.state.errors.deployments},Y.a.createElement(_e.a.Dropdown,{search:!0,selection:!0,value:e.deployments?this._getEmptyValueFor("deployments"):this.state.deploymentId,multiple:this._isMultipleSetFor("deployments"),placeholder:e.deployments||"Deployment",options:this.state.deployments,onChange:this._selectDeployment.bind(this),name:"deploymentId",loading:this.state.deploymentsLoading})),this.props.showNodes&&Y.a.createElement(_e.a.Field,{error:this.state.errors.nodes},Y.a.createElement(_e.a.Dropdown,{search:!0,selection:!0,value:e.nodes?this._getEmptyValueFor("nodes"):this.state.nodeId,multiple:this._isMultipleSetFor("nodes"),placeholder:e.nodes||"Node",options:this.state.nodes,onChange:this._selectNode.bind(this),name:"nodeId",loading:this.state.nodesLoading})),this.props.showNodeInstances&&Y.a.createElement(_e.a.Field,{error:this.state.errors.nodeInstances},Y.a.createElement(_e.a.Dropdown,{search:!0,selection:!0,value:e.nodeInstances?this._getEmptyValueFor("nodeInstances"):this.state.nodeInstanceId,multiple:this._isMultipleSetFor("nodeInstances"),placeholder:e.nodeInstances||"Node Instance",options:this.state.nodeInstances,onChange:this._selectNodeInstance.bind(this),name:"nodeInstanceId",loading:this.state.nodeInstancesLoading})))}}]),t}(Y.a.Component);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}B()(ft,"EMPTY_VALUE",{blueprintId:"",deploymentId:"",nodeId:"",nodeInstanceId:""}),B()(ft,"propTypes",{name:H.a.string.isRequired,value:H.a.shape({blueprintId:H.a.oneOfType([H.a.string,H.a.array]).isRequired,deploymentId:H.a.oneOfType([H.a.string,H.a.array]).isRequired,nodeId:H.a.oneOfType([H.a.string,H.a.array]).isRequired,nodeInstanceId:H.a.oneOfType([H.a.string,H.a.array]).isRequired}).isRequired,onChange:H.a.func,allowMultiple:H.a.bool,allowMultipleBlueprints:H.a.bool,allowMultipleDeployments:H.a.bool,allowMultipleNodes:H.a.bool,allowMultipleNodeInstances:H.a.bool,allowedBlueprints:H.a.array,allowedDeployments:H.a.array,allowedNodes:H.a.array,allowedNodeInstances:H.a.array,showBlueprints:H.a.bool,showDeployments:H.a.bool,showNodes:H.a.bool,showNodeInstances:H.a.bool}),B()(ft,"defaultProps",{onChange:_.noop,allowMultiple:!1,allowMultipleBlueprints:!1,allowMultipleDeployments:!1,allowMultipleNode:!1,allowMultipleNodes:!1,allowedBlueprints:null,allowedDeployments:null,allowedNode:null,allowedNodes:null,showBlueprints:!0,showDeployments:!0,showNodes:!0,showNodeInstances:!0}),B()(ft,"initialState",(function(e){return{blueprints:[],deployments:[],nodes:[],nodeInstances:[],blueprintId:e.value.blueprintId,deploymentId:e.value.deploymentId,nodeId:e.value.nodeId,nodeInstanceId:e.value.nodeInstanceId,errors:{}}})),B()(ft,"BASIC_PARAMS",{_include:"id"});var yt=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState(e),a.toolbox=Te.a.getToolbox((function(){}),(function(){}),null),a}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props,e)||!_.isEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e){e.deploymentId!==this.props.deploymentId&&(this.setState(Et({},t.initialState(this.props))),this._fetchData())}},{key:"componentDidMount",value:function(){this._fetchData()}},{key:"_fetchData",value:function(){var e=this;if(!_.isEmpty(this.props.deploymentId)){var t={_include:"id",deployment_id:this.props.deploymentId},n=Et({},this.state.errors);n.nodeInstanceIds=null,this.setState({loading:!0,nodeInstances:[],errors:n}),this.toolbox.getManager().doGet("/node-instances",t).then((function(t){var n=_.chain(t.items||{}).map((function(e){return{text:e.id,value:e.id,key:e.id}})).unshift({text:"",value:"",key:""}).uniqWith(_.isEqual).value();e.setState({loading:!1,nodeInstances:n})})).catch((function(t){n.nodeInstanceIds="Data fetching error: ".concat(t.message),e.setState({loading:!1,nodeInstances:[],errors:n})}))}}},{key:"_handleInputChange",value:function(e,t){var n=this;this.setState({value:t.value},(function(){n.props.onChange(e,{name:n.props.name,value:n.state.value})}))}},{key:"render",value:function(){var e=this.state.errors;return Y.a.createElement(_e.a.Field,{error:this.state.errors.nodeInstanceIds,label:this.props.label,help:this.props.help},Y.a.createElement(_e.a.Dropdown,{search:!0,selection:!0,multiple:!0,value:e.nodeInstanceIds?"":this.state.value,placeholder:e.nodeInstanceIds||this.props.placeholder,options:this.state.nodeInstances,onChange:this._handleInputChange.bind(this),name:"nodeInstanceIds",loading:this.state.loading,upward:this.props.upward}))}}]),t}(Y.a.Component);B()(yt,"propTypes",{name:H.a.string.isRequired,value:H.a.array.isRequired,onChange:H.a.func.isRequired,deploymentId:H.a.string,label:H.a.string,placeholder:H.a.string,help:H.a.string,upward:H.a.bool}),B()(yt,"defaultProps",{label:"",placeholder:"",help:"",upward:!1}),B()(yt,"initialState",(function(e){return{value:e.value,nodeInstances:[],loading:!1,errors:{}}}));n(1403);var bt=n(190),_t=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){if(!_.isEmpty(this.props.children))return Y.a.createElement(bt.b,ee()({},this.props,{className:"nodes-tree ".concat(this.props.className)}),_.compact(_.castArray(this.props.children)));return this.props.treeData.length?Y.a.createElement(bt.b,ee()({},this.props,{className:"nodes-tree ".concat(this.props.className)}),function e(t){return _.compact(t).map((function(t){return t.children?Y.a.createElement(bt.a,{key:t.key,title:t.title},e(t.children)):Y.a.createElement(bt.a,{key:t.key,title:t.title})}))}(this.props.treeData)):Y.a.createElement(Ye,null)}}]),t}(V.Component);B()(_t,"Node",bt.a),B()(_t,"propTypes",bt.b.propTypes),B()(_t,"defaultProps",{treeData:[],selectable:!1,showIcon:!1,showLine:!0});var wt=n(35),Ct=n(442),Ot=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state={showPopup:!1,canConfirm:""},a}return z()(t,e),x()(t,[{key:"openPopup",value:function(){this.setState({canConfirm:this.props.onCanConfirm(),showPopup:!0})}},{key:"closePopup",value:function(){this.setState({showPopup:!1})}},{key:"handleCancel",value:function(){this.closePopup(),this.props.onCancel()}},{key:"handleConfirm",value:function(){this.closePopup(),this.props.onConfirm()}},{key:"render",value:function(){return Y.a.createElement(Ct.a,{trigger:this.props.trigger,on:"click",wide:"very",hideOnScroll:!0,open:this.state.showPopup,onOpen:this.openPopup.bind(this),onClose:this.closePopup.bind(this)},Y.a.createElement(p.a,null,this.state.canConfirm?this.state.canConfirm:this.props.content),this.state.canConfirm?Y.a.createElement("div",{className:"rightFloated"},Y.a.createElement(i.a,{icon:"checkmark",content:"Ok",color:"green",onClick:this.handleCancel.bind(this)})):Y.a.createElement("div",{className:"rightFloated"},Y.a.createElement(i.a,{icon:"remove",content:"Cancel",basic:!0,onClick:this.handleCancel.bind(this)}),Y.a.createElement(i.a,{icon:"checkmark",content:"Ok",color:"green",onClick:this.handleConfirm.bind(this)})))}}]),t}(V.Component);B()(Ot,"propTypes",{trigger:H.a.any,content:H.a.string,onCancel:H.a.func,onConfirm:H.a.func,onCanConfirm:H.a.func}),B()(Ot,"defaultProps",{onCancel:function(){},onConfirm:function(){},onCanConfirm:function(){}});var Pt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=_.omit(this.props,_.keys(t.propTypes));return Y.a.createElement(wt.a,ee()({on:["hover","focus"],hoverable:!0,wide:"very"},e),!_.isEmpty(this.props.header)&&Y.a.createElement(wt.a.Header,null,this.props.header),Y.a.createElement(wt.a.Trigger,null,this.props.trigger),Y.a.createElement(wt.a.Content,null,this.props.content))}}]),t}(Y.a.Component);B()(Pt,"propTypes",{content:H.a.any.isRequired,header:H.a.any,trigger:H.a.any}),B()(Pt,"defaultProps",{header:"",trigger:Y.a.createElement(d.a,{name:"help circle"})});var Tt=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state={opened:!1},a}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this,t=_.isEmpty(this.props.help)?Y.a.createElement(d.a,{link:!this.props.disabled,disabled:this.props.disabled,name:this.props.icon,bordered:this.props.bordered,className:this.props.className,onClick:function(e){e.stopPropagation()}}):Y.a.createElement("span",{onClick:function(e){e.stopPropagation()}},Y.a.createElement(wt.a,{trigger:Y.a.createElement(d.a,{name:this.props.icon,bordered:this.props.bordered,link:!this.props.disabled,className:this.props.className}),content:this.props.help}));return Y.a.createElement(wt.a,{trigger:t,on:"click",position:this.props.position,className:"popupMenu",offset:this.props.offset,open:!this.props.disabled&&this.state.opened,onClose:function(){return e.setState({opened:!1})},onOpen:function(){return e.setState({opened:!0})},onClick:function(t){t.stopPropagation(),e.setState({opened:!1})}},this.props.children)}}]),t}(V.Component);B()(Tt,"propTypes",{className:H.a.string,children:H.a.any.isRequired,position:H.a.string,offset:H.a.number,icon:H.a.string,disabled:H.a.bool,bordered:H.a.bool,help:H.a.string}),B()(Tt,"defaultProps",{className:"",position:"bottom right",offset:12,icon:"content",disabled:!1,bordered:!1,help:""});var St=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState(e),a}return z()(t,e),x()(t,[{key:"_handleInputChange",value:function(e,t){var n=this;this.setState({pageId:t.value},(function(){n.props.onChange(e,{name:n.props.name,value:n.state.pageId})}))}},{key:"_getPageName",value:function(e,t){var n=_.find(e,{id:t});return n.isDrillDown?"".concat(this._getPageName(e,n.parent)," > ").concat(n.name):n.name}},{key:"render",value:function(){var e=this,t=this.props.allowDrillDownPages?this.props.pages:_.filter(this.props.pages,(function(e){return!e.isDrillDown})),n=_.map(t,(function(n){return{text:e._getPageName(t,n.id),value:n.id,key:n.id}}));n.sort((function(e,t){return e.text.localeCompare(t.text)}));var a=n[0].value;return Y.a.createElement(_e.a.Dropdown,{name:"pageId",search:!0,selection:!0,value:this.state.pageId||a,options:n,onChange:this._handleInputChange.bind(this)})}}]),t}(Y.a.Component);B()(St,"propTypes",{name:H.a.string.isRequired,value:H.a.string.isRequired,pages:H.a.array.isRequired,onChange:H.a.func,allowDrillDownPages:H.a.bool}),B()(St,"initialState",(function(e){return{pageId:e.value,allowDrillDownPages:!1}}));var kt=Object(at.connect)((function(e){return{pages:e.pages}}))(St),It=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e){return!_.isEqual(this.props,e)}},{key:"getValueElement",value:function(e){var t=Te.a.Url,n=Te.a.Json,a={padding:"0.5em",whiteSpace:"pre-wrap",wordBreak:"break-word"},r=this.props.value;switch(n.toType(r)){case"array":case"object":return Y.a.createElement(Ge,{className:"json"},e);case"boolean":return Y.a.createElement("code",{style:a,className:"hljs-keyword"},e);case"number":return Y.a.createElement("code",{style:a,className:"hljs-number"},e);case"null":return Y.a.createElement("code",{style:a,className:"hljs-keyword"},e);case"string":return t.isUrl(e)?Y.a.createElement("a",{target:"_blank",href:e},e):Y.a.createElement("code",{style:a,className:"hljs-string"},e);default:return Y.a.createElement("code",{style:a,className:"hljs-literal"},e)}}},{key:"render",value:function(){var e=Te.a.Json,t=_.isObject(this.props.value)?e.stringify(this.props.value,!0):e.getStringValue(this.props.value);return this.props.showCopyButton?Y.a.createElement("div",null,Y.a.createElement(Q.a,{text:t,className:"rightFloated"}),this.getValueElement(t)):this.getValueElement(t)}}]),t}(V.Component);B()(It,"propTypes",{value:H.a.any,showCopyButton:H.a.bool}),B()(It,"defaultProps",{value:"",showCopyButton:!0});var Dt=function(e){function t(e,n){return R()(this,t),L()(this,F()(t).call(this,e,n))}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e){return!_.isEqual(this.props,e)}},{key:"render",value:function(){return Y.a.createElement(Pt,{flowing:!0,header:"Value style",content:Y.a.createElement(v.a,{bulleted:!0},Y.a.createElement(v.a.Item,null,"String:",Y.a.createElement(It,{value:"centos_core",showCopyButton:!1}),",",Y.a.createElement(It,{value:"763878b2-67d1-4a8b-9c44-cc3d17625eed",showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Boolean:",Y.a.createElement(It,{value:!0,showCopyButton:!1}),",",Y.a.createElement(It,{value:!1,showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Number:",Y.a.createElement(It,{value:623946,showCopyButton:!1}),",",Y.a.createElement(It,{value:3.14,showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Object:",Y.a.createElement(It,{value:{sku:"14.04.5-LTS",publisher:"Canonical",version:"latest",offer:"UbuntuServer"},showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Array:",Y.a.createElement(It,{value:["node_f73mxd","vm_32jdfg","host_f92mv7"],showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Link:",Y.a.createElement(It,{value:"https://cloudify.co",showCopyButton:!1})),Y.a.createElement(v.a.Item,null,"Null:",Y.a.createElement(It,{value:null,showCopyButton:!1})))})}}]),t}(V.Component),At=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"onCancel",value:function(){return this.props.onHide(),!0}},{key:"getContent",value:function(){return{__html:this.props.content}}},{key:"render",value:function(){return Y.a.createElement(b.a,{open:this.props.open,closeOnEscape:!0,closeOnRootNodeClick:!0,onClose:this.onCancel.bind(this),closeIcon:"close",className:"readmeModal unlimited ".concat(this.props.className),size:"fullscreen"},Y.a.createElement(b.a.Content,{style:{padding:"50px"}},Y.a.createElement("div",{dangerouslySetInnerHTML:this.getContent()})))}}]),t}(V.Component);B()(At,"propTypes",{content:H.a.string.isRequired,open:H.a.bool.isRequired,onHide:H.a.func.isRequired,className:H.a.string}),B()(At,"defaultProps",{className:""});var jt=n(33),Rt=n.n(jt),Nt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){var e=Rt.a.find(rt.a.visibility,{name:this.props.visibility})||rt.a.visibility.UNKNOWN;return this.props.showTitle?Y.a.createElement(wt.a,{trigger:Y.a.createElement(d.a,ee()({name:e.icon,color:e.color},Rt.a.omit(this.props,Rt.a.keys(t.propTypes)))),content:e.title}):Y.a.createElement(d.a,ee()({name:e.icon,color:e.color},Rt.a.omit(this.props,Rt.a.keys(t.propTypes))))}}]),t}(V.Component);B()(Nt,"propTypes",{visibility:H.a.oneOf([rt.a.visibility.PRIVATE.name,rt.a.visibility.TENANT.name,rt.a.visibility.GLOBAL.name,rt.a.visibility.UNKNOWN.name]),showTitle:H.a.bool}),B()(Nt,"defaultProps",{showTitle:!0,visibility:rt.a.visibility.UNKNOWN.name});var xt=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state={openConfirm:!1,visibility:null,popupOpened:!1},a}return z()(t,e),x()(t,[{key:"render",value:function(){var e=this,t=Rt.a.includes(this.props.allowedSettingTo,rt.a.visibility.TENANT.name)&&Rt.a.isEqual(this.props.visibility,rt.a.visibility.PRIVATE.name),n=Rt.a.includes(this.props.allowedSettingTo,rt.a.visibility.GLOBAL.name)&&!Rt.a.isEqual(this.props.visibility,rt.a.visibility.GLOBAL.name),a=n||t,r=Y.a.createElement(Nt,{visibility:this.props.visibility,className:this.props.className,link:n,onClick:function(e){return e.stopPropagation()},bordered:!0,disabled:!a,showTitle:!this.state.popupOpened}),o=Y.a.createElement("div",{className:"setVisibility"},Y.a.createElement(y.a,{warning:!0,content:"This operation cannot be reverted"}),t&&Y.a.createElement(i.a,{animated:!0,color:"green",onClick:function(t){t.stopPropagation(),e.setState({openConfirm:!0,visibility:rt.a.visibility.TENANT.name,popupOpened:!1})}},Y.a.createElement(i.a.Content,{visible:!0},"Tenant"),Y.a.createElement(i.a.Content,{hidden:!0},Y.a.createElement(d.a,{name:"user"}))),n&&Y.a.createElement(i.a,{animated:!0,color:"blue",onClick:function(t){t.stopPropagation(),e.setState({openConfirm:!0,visibility:rt.a.visibility.GLOBAL.name,popupOpened:!1})}},Y.a.createElement(i.a.Content,{visible:!0},"Global"),Y.a.createElement(i.a.Content,{hidden:!0},Y.a.createElement(d.a,{name:"globe"})))),s=Y.a.createElement(Ct.a,{flowing:!0,trigger:r,on:"click",header:"Change resource visibility",content:o,open:this.state.popupOpened,onOpen:function(){return e.setState({popupOpened:!0})},onClose:function(){return e.setState({popupOpened:!1})}});return a?Y.a.createElement("span",null,s,(t||n)&&Y.a.createElement(ae.a,{className:"setVisibilityModal",content:"Are you sure you want to change resource visibility to ".concat(this.state.visibility,"?"),open:this.state.openConfirm,onCancel:function(t){t.stopPropagation(),e.setState({openConfirm:!1,visibility:null})},onConfirm:function(t){t.stopPropagation(),e.props.onSetVisibility(e.state.visibility),e.setState({openConfirm:!1,visibility:null})}})):r}}]),t}(V.Component);B()(xt,"propTypes",{visibility:H.a.oneOf([rt.a.visibility.PRIVATE.name,rt.a.visibility.TENANT.name,rt.a.visibility.GLOBAL.name,rt.a.visibility.UNKNOWN.name]),onSetVisibility:H.a.func,allowedSettingTo:H.a.array,className:H.a.string}),B()(xt,"defaultProps",{visibility:rt.a.visibility.UNKNOWN.name,className:""});var Mt=Object(at.connect)((function(e,t){var n=t.allowedSettingTo;return _.includes(t.allowedSettingTo,rt.a.visibility.GLOBAL.name)&&!Te.a.isUserAuthorized(rt.a.permissions.CREATE_GLOBAL_RESOURCE,e.manager)&&(n=_.without(n,rt.a.visibility.GLOBAL.name)),{allowedSettingTo:n}}),(function(e,t){return{}}))(xt),Lt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"render",value:function(){return _.isNil(this.props.defaultValue)||_.isEqual(this.props.value,this.props.defaultValue)?null:Y.a.createElement(wt.a,{trigger:Y.a.createElement(d.a,{name:"undo",link:!0,onClick:this.props.onClick})},"Revert to default value")}}]),t}(V.Component);function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}B()(Lt,"propTypes",{value:H.a.any,defaultValue:H.a.any,onClick:H.a.func}),B()(Lt,"defaultProps",{onClick:_.noop});var qt=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState(e),_.extend(a._getStartDateState(a.state.start),a._getEndDateState(a.state.end)),a}return z()(t,e),x()(t,[{key:"componentDidMount",value:function(){var e=t.initialState(this.props);_.extend(e,this._getStartDateState(e.start),this._getEndDateState(e.end)),this.setState(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props,e)||!_.isEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e,n){var a=!_.isEqual(_.pick(this.state,Object.keys(t.EMPTY_VALUE)),this.props.defaultValue),r=this.props.value,i={};n.dirty!=a&&(i.dirty=a),e.value!=r&&_.extend(i,Ft({},r),this._getStartDateState(r.start),this._getEndDateState(r.end)),_.isEmpty(i)||this.setState(i)}},{key:"_handleInputChange",value:function(e,t,n){this.setState(B()({},t.name,t.value),n)}},{key:"_getStartDateState",value:function(e){var t={startError:!1};if(this._isValidDate(e)){var n=moment(e||{});_.extend(t,{startDate:n})}return t}},{key:"_getEndDateState",value:function(e){var t={endError:!1};if(this._isValidDate(e)){var n=moment(e||{});_.extend(t,{endDate:n})}return t}},{key:"_getStartState",value:function(e){return{startError:!1,start:moment(e).format(t.DATETIME_FORMAT)}}},{key:"_getEndState",value:function(e){return{endError:!1,end:moment(e).format(t.DATETIME_FORMAT)}}},{key:"_handleCustomInputChange",value:function(e,n){var a=this;this._handleInputChange(e,n,(function(){var e={range:t.CUSTOM_RANGE};_.isEqual(n.name,"startDate")?_.extend(e,a._getStartState(n.value)):_.isEqual(n.name,"endDate")?_.extend(e,a._getEndState(n.value)):_.isEqual(n.name,"start")?_.extend(e,a._getStartDateState(n.value)):_.isEqual(n.name,"end")&&_.extend(e,a._getEndDateState(n.value)),a.setState(e)}))}},{key:"_isValidDate",value:function(e){return moment(e||{}).isValid()}},{key:"_getTimeFilterObject",value:function(){var e={range:this.state.range};return _.isEqual(this.state.range,t.CUSTOM_RANGE)?(e.start=this.state.start,e.end=this.state.end):(e.start=_.get(this.props.ranges[this.state.range],"start",""),e.end=_.get(this.props.ranges[this.state.range],"end","")),e}},{key:"_getResetState",value:function(e){var t=e?this.props.defaultValue:this.props.value,n=moment();return Ft({},t,{startDate:n,endDate:n})}},{key:"_isRangeSelected",value:function(e){return _.isEqual(this.state.range,e)}},{key:"_handleRangeButtonClick",value:function(e,t){var n=this.props.ranges[t.name].start,a=this.props.ranges[t.name].end,r=this._getStartDateState(n),i=this._getEndDateState(a);this.setState(Ft({range:t.name,start:n,end:a},r,{},i))}},{key:"_handleCustomRangeButtonClick",value:function(e,t){var n={range:t.name};_.extend(n,this._getStartState(this.state.startDate)),_.extend(n,this._getEndState(this.state.endDate)),this.setState(n)}},{key:"_handleResetButtonClick",value:function(){var e=this._getResetState(!0);this.setState(e)}},{key:"_handleApplyButtonClick",value:function(e,t){var n=this,a=this._isValidDate(this.state.start),r=this._isValidDate(this.state.end),i=a&&r,o={startError:!a,endError:!r,isOpen:!i};this.setState(o,(function(){i&&n.props.onChange(e,{name:n.props.name,value:n._getTimeFilterObject()})}))}},{key:"_handleCancelButtonClick",value:function(e,t){var n=this,a=this._getResetState(!1);this.setState(Ft({},a,{isOpen:!1}),(function(){return n.props.onCancel(e,{name:n.props.name,value:n._getTimeFilterObject()})}))}},{key:"render",value:function(){var e=this,n=this.state.start?"from [".concat(this.state.start,"] "):"",a=this.state.end?" until [".concat(this.state.end,"]"):"",r=this._isRangeSelected(t.CUSTOM_RANGE)?"".concat(n).concat(a):this.state.range,o=Y.a.createElement("div",null,"ISO-8601-compatible date/time expected",Y.a.createElement("br",null),"Example:",Y.a.createElement("br",null),"2017-09-21 10:10");return Y.a.createElement(wt.a,{basic:!0,hoverable:!1,flowing:!0,open:this.state.isOpen},Y.a.createElement(wt.a.Trigger,null,Y.a.createElement(_e.a.Input,{value:r,placeholder:this.props.placeholder,icon:"dropdown",fluid:!0,onChange:function(){},onFocus:function(){return e.setState({isOpen:!0,startError:!1,endError:!1})}})),Y.a.createElement(u.a,{className:"fixed-width"},Y.a.createElement(u.a.Row,{columns:_.isEmpty(this.props.ranges)?2:3},!_.isEmpty(this.props.ranges)&&Y.a.createElement(u.a.Column,{width:4},Y.a.createElement(P.a,{padded:!0},Y.a.createElement(f.a,{attached:"top"},"Range:"),Y.a.createElement(v.a,null,_.map(this.props.ranges,(function(t,n){return Y.a.createElement(v.a.Item,{key:n},Y.a.createElement(i.a,{active:e._isRangeSelected(n),key:n,name:n,fluid:!0,onClick:e._handleRangeButtonClick.bind(e)},n))})),Y.a.createElement(v.a.Item,null,Y.a.createElement(i.a,{active:this._isRangeSelected(t.CUSTOM_RANGE),name:t.CUSTOM_RANGE,fluid:!0,onClick:this._handleCustomRangeButtonClick.bind(this)},t.CUSTOM_RANGE))))),Y.a.createElement(u.a.Column,{width:_.isEmpty(this.props.ranges)?8:6},Y.a.createElement(P.a,{padded:!0},Y.a.createElement(f.a,{attached:"top"},"From:"),Y.a.createElement(v.a,null,Y.a.createElement(v.a.Item,null,Y.a.createElement(wt.a,{wide:!0},Y.a.createElement(wt.a.Trigger,null,Y.a.createElement(_e.a.Input,{fluid:!0,name:"start",type:"text",value:this.state.start,placeholder:"Start date/time",error:this.state.startError,onChange:this._handleCustomInputChange.bind(this)})),o)),Y.a.createElement(v.a.Item,null,Y.a.createElement(_e.a.InputDate,{name:"startDate",value:this.state.startDate,onChange:this._handleCustomInputChange.bind(this),startDate:this.state.startDate,endDate:this.state.endDate,maxDate:moment()}))))),Y.a.createElement(u.a.Column,{width:_.isEmpty(this.props.ranges)?8:6},Y.a.createElement(P.a,{padded:!0},Y.a.createElement(f.a,{attached:"top"},"To:"),Y.a.createElement(v.a,null,Y.a.createElement(v.a.Item,null,Y.a.createElement(wt.a,{wide:!0},Y.a.createElement(wt.a.Trigger,null,Y.a.createElement(_e.a.Input,{fluid:!0,name:"end",type:"text",value:this.state.end,placeholder:"End date/time",error:this.state.endError,onChange:this._handleCustomInputChange.bind(this)})),o)),Y.a.createElement(v.a.Item,null,Y.a.createElement(_e.a.InputDate,{name:"endDate",value:this.state.endDate,onChange:this._handleCustomInputChange.bind(this),startDate:this.state.startDate,endDate:this.state.endDate,maxDate:moment()}))))))),Y.a.createElement("div",{className:"rightFloated top-padded-10"},Y.a.createElement(i.a,{onClick:this._handleResetButtonClick.bind(this),content:"Reset",icon:"undo",disabled:!this.state.dirty}),Y.a.createElement(K,{onClick:this._handleCancelButtonClick.bind(this),className:"cancel"}),Y.a.createElement(X,{onClick:this._handleApplyButtonClick.bind(this),content:"Apply",positive:!0})))}}]),t}(Y.a.Component);function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}B()(qt,"EMPTY_VALUE",{range:"",start:"",end:""}),B()(qt,"propTypes",{name:H.a.string.isRequired,defaultValue:H.a.shape({range:H.a.string.isRequired,start:H.a.string.isRequired,end:H.a.string.isRequired}),value:H.a.shape({range:H.a.string.isRequired,start:H.a.string.isRequired,end:H.a.string.isRequired}),ranges:H.a.object,onChange:H.a.func,onCancel:H.a.func}),B()(qt,"defaultProps",{defaultValue:qt.EMPTY_VALUE,value:qt.EMPTY_VALUE,ranges:{},onChange:function(){},onCancel:function(){}}),B()(qt,"initialState",(function(e){return Ft({},e.defaultValue,{},e.value,{startDate:moment(),endDate:moment(),isOpen:!1,dirty:!1,startError:!1,endError:!1})})),B()(qt,"TIME_FORMAT","HH:mm"),B()(qt,"DATE_FORMAT","YYYY-MM-DD"),B()(qt,"DATETIME_FORMAT","".concat(qt.DATE_FORMAT," ").concat(qt.TIME_FORMAT)),B()(qt,"CUSTOM_RANGE","Custom Range");var Gt=function(e){function t(e,n){var a;return R()(this,t),(a=L()(this,F()(t).call(this,e,n))).state=t.initialState,a}return z()(t,e),x()(t,[{key:"handleDataPickerChange",value:function(e,n){var a=t.getDateString(n.value);this.setState({dirty:!_.isEqual(a,this.props.defaultValue),dateValue:n.value,dateError:!1}),this.props.onChange(e,{name:this.props.name,value:a})}},{key:"handleInputChange",value:function(e,n){this.props.onChange(e,{name:this.props.name,value:n.value}),this.setState(t.getDateState(this.state.dateValue,n.value))}},{key:"handleResetButtonClick",value:function(e){this.props.onChange(e,{name:this.props.name,value:this.props.defaultValue}),this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dirty:!1},t.getDateState(this.state.dateValue,this.props.defaultValue)))}},{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props,e)||!_.isEqual(this.state,t)}},{key:"render",value:function(){var e=this;return Y.a.createElement(wt.a,{hoverable:!0,flowing:!0,onClose:function(){return e.setState({isOpen:!1})},open:this.state.isOpen,position:"top right"},Y.a.createElement(wt.a.Trigger,null,Y.a.createElement(_e.a.Input,{name:"value",value:this.props.value,placeholder:this.props.placeholder,fluid:!0,action:!0,error:this.state.dateError,onChange:this.handleInputChange.bind(this),onClick:function(){return e.setState({isOpen:!1})}},Y.a.createElement("input",null),Y.a.createElement(i.a,{onClick:function(){return e.setState({isOpen:!0})},icon:"calendar"}),Y.a.createElement(i.a,{onClick:this.handleResetButtonClick.bind(this),icon:"cancel",disabled:!this.state.dirty}))),Y.a.createElement(_e.a.InputDate,{name:"dateValue",value:this.state.dateValue,onChange:this.handleDataPickerChange.bind(this),minDate:this.props.minDate,maxDate:this.props.maxDate,timeIntervals:this.props.timeIntervals}))}}],[{key:"getDateString",value:function(e){return moment(e).format(t.DATETIME_FORMAT)}},{key:"getDerivedStateFromProps",value:function(e,n){return e.value!==t.getDateString(n.dateValue)?t.getDateState(n.dateValue,e.value):null}},{key:"getDateState",value:function(e,t){return _.isEmpty(t)?{dateError:!1,dateValue:void 0}:moment(t).isValid()?{dateError:!1,dateValue:e}:{dateError:!0,dateValue:void 0}}}]),t}(Y.a.Component);B()(Gt,"TIME_FORMAT","HH:mm"),B()(Gt,"DATE_FORMAT","YYYY-MM-DD"),B()(Gt,"DATETIME_FORMAT","".concat(Gt.DATE_FORMAT," ").concat(Gt.TIME_FORMAT)),B()(Gt,"propTypes",{defaultValue:H.a.string.isRequired,name:H.a.string.isRequired,value:H.a.string.isRequired,minDate:H.a.object,maxDate:H.a.object,onChange:H.a.func,placeholder:H.a.string,timeIntervals:H.a.number}),B()(Gt,"defaultProps",{minDate:void 0,maxDate:void 0,onChange:_.noop,placeholder:Gt.DATETIME_FORMAT,timeIntervals:5}),B()(Gt,"initialState",{dateError:!1,dateValue:null,dirty:!1,isOpen:!1});var Bt=function(e){function t(){return R()(this,t),L()(this,F()(t).apply(this,arguments))}return z()(t,e),x()(t,[{key:"onClick",value:function(){var e=this.props.disallowGlobal?_.dropRight(t.visibilitiesOrder):t.visibilitiesOrder,n=e.indexOf(this.props.visibility);n>=0&&n<e.length-1?this.props.onVisibilityChange(e[n+1]):this.props.onVisibilityChange(e[0])}},{key:"render",value:function(){return Y.a.createElement(wt.a,null,Y.a.createElement(wt.a.Trigger,null,Y.a.createElement(Nt,{visibility:this.props.visibility,link:this.props.allowChange,disabled:!this.props.allowChange,showTitle:!1,title:null,className:this.props.className,onClick:this.onClick.bind(this)})),Y.a.createElement(wt.a.Header,null,"Visibility"),Y.a.createElement(wt.a.Content,null,t.visibilityTitle[this.props.visibility]))}}]),t}(V.Component);B()(Bt,"visibilitiesOrder",[rt.a.visibility.TENANT.name,rt.a.visibility.PRIVATE.name,rt.a.visibility.GLOBAL.name]),B()(Bt,"propTypes",{visibility:H.a.oneOf([rt.a.visibility.PRIVATE.name,rt.a.visibility.TENANT.name,rt.a.visibility.GLOBAL.name,rt.a.visibility.UNKNOWN.name]),onVisibilityChange:H.a.func,disallowGlobal:H.a.bool,allowChange:H.a.bool,className:H.a.string}),B()(Bt,"defaultProps",{visibility:rt.a.visibility.UNKNOWN.name,onVisibilityChange:function(){},disallowGlobal:!1,allowChange:!0,className:""}),B()(Bt,"visibilityTitle",_.reduce(rt.a.visibility,(function(e,t){return e[t.name]=t.title,e}),{}));var Wt=Object(at.connect)((function(e,t){return{disallowGlobal:t.disallowGlobal||!Te.a.isUserAuthorized(rt.a.permissions.CREATE_GLOBAL_RESOURCE,e.manager)}}),(function(e,t){return{}}))(Bt),Ht=function(e){function t(e){return R()(this,t),L()(this,F()(t).call(this,e))}return z()(t,e),x()(t,[{key:"onClose",value:function(){return this.props.onClose()}},{key:"onStartOver",value:function(){return this.props.onStartOver(this.props.resetDataOnStartOver)}},{key:"onPrev",value:function(){return this.props.onPrev(this.props.id)}},{key:"onNext",value:function(){return this.props.onNext(this.props.id)}},{key:"render",value:function(){return Y.a.createElement(Y.a.Fragment,null,this.props.children,this.props.showClose&&Y.a.createElement(i.a,{floated:this.props.closeFloated,icon:this.props.closeIcon,content:this.props.closeLabel,labelPosition:"left",onClick:this.onClose.bind(this)}),this.props.showStartOver&&Y.a.createElement(i.a,{icon:this.props.startOverIcon,content:this.props.startOverLabel,disabled:this.props.disabled,labelPosition:"left",onClick:this.onStartOver.bind(this)}),Y.a.createElement(i.a.Group,null,this.props.showPrev&&Y.a.createElement(i.a,{icon:this.props.prevIcon,content:this.props.prevLabel,disabled:this.props.disabled,labelPosition:"left",onClick:this.onPrev.bind(this)}),this.props.showNext&&Y.a.createElement(i.a,{icon:this.props.nextIcon,content:this.props.nextLabel,disabled:this.props.disabled,labelPosition:"right",onClick:this.onNext.bind(this)})))}}]),t}(V.Component);B()(Ht,"propTypes",{id:H.a.string.isRequired,onClose:H.a.func.isRequired,onStartOver:H.a.func.isRequired,onPrev:H.a.func.isRequired,onNext:H.a.func.isRequired,onError:H.a.func.isRequired,onLoading:H.a.func.isRequired,onReady:H.a.func.isRequired,fetchData:H.a.func.isRequired,wizardData:H.a.object.isRequired,toolbox:H.a.object.isRequired,disabled:H.a.bool,startOverLabel:H.a.string,startOverIcon:H.a.string,showStartOver:H.a.bool,resetDataOnStartOver:H.a.bool,prevLabel:H.a.string,prevIcon:H.a.string,showPrev:H.a.bool,nextLabel:H.a.string,nextIcon:H.a.string,showNext:H.a.bool}),B()(Ht,"defaultProps",{disabled:!1,closeLabel:"Close",closeIcon:"cancel",showClose:!0,closeFloated:"left",startOverLabel:"Start Over",startOverIcon:"undo",showStartOver:!1,resetDataOnStartOver:!1,prevLabel:"Back",prevIcon:"arrow left",showPrev:!0,nextLabel:"Next",nextIcon:"arrow right",showNext:!0});var Vt=function(e){function t(e){return R()(this,t),L()(this,F()(t).call(this,e))}return z()(t,e),x()(t,[{key:"render",value:function(){return this.props.children||null}}]),t}(V.Component);B()(Vt,"propTypes",{id:H.a.string.isRequired,onChange:H.a.func.isRequired,onError:H.a.func.isRequired,onLoading:H.a.func.isRequired,onReady:H.a.func.isRequired,stepData:H.a.object.isRequired,wizardData:H.a.object.isRequired,errors:H.a.object.isRequired,loading:H.a.bool.isRequired,toolbox:H.a.object.isRequired});n(1436);function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt=function(e){function t(e){var n;return R()(this,t),(n=L()(this,F()(t).call(this,e))).state=t.initialState(e.steps),n}return z()(t,e),x()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props.open,e.open)||!_.isEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e){e.open&&!this.props.open&&this.setState(Xt({},t.initialState(this.props.steps)))}},{key:"getStepNameByIndex",value:function(e){return t.getStepNameById(this.props.steps[e].id)}},{key:"showCloseModal",value:function(){this.setState({showCloseModal:!0})}},{key:"hideCloseModal",value:function(){this.setState({showCloseModal:!1})}},{key:"onStartOver",value:function(e){if(e)this.setState(Xt({},t.initialState(this.props.steps)));else{var n=this.getStepNameByIndex(0),a={},r=!0,i=!1,o=void 0;try{for(var s,l=this.props.steps[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=t.getStepNameById(c.id);a[u]=Xt({},this.state[u],{state:t.DISABLED_STATE,errors:{}})}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}a[n].state=t.ACTIVE_STATE,this.setState(Xt({activeStepIndex:0,previousStepIndex:this.state.activeStepIndex},a,{error:null,loading:!1}))}}},{key:"onNext",value:function(e,n){var a;if(this.getStepNameByIndex(this.state.activeStepIndex)===t.getStepNameById(e)){var r=this.state.activeStepIndex+1,i=this.state.activeStepIndex,o=this.getStepNameByIndex(r),s=this.getStepNameByIndex(i),l=Xt({},this.state.wizardData,{},n);this.setState((a={activeStepIndex:r,previousStepIndex:i},B()(a,o,Xt({},this.state[o],{state:t.ACTIVE_STATE})),B()(a,s,Xt({},this.state[s],{state:t.COMPLETED_STATE})),B()(a,"wizardData",l),B()(a,"error",null),B()(a,"loading",!1),a))}}},{key:"onPrev",value:function(e,n){var a;if(this.getStepNameByIndex(this.state.activeStepIndex)===t.getStepNameById(e)){var r=this.state.activeStepIndex-1,i=this.state.activeStepIndex,o=this.getStepNameByIndex(r),s=this.getStepNameByIndex(i),l=Xt({},this.state.wizardData,{},n);this.setState((a={activeStepIndex:r,previousStepIndex:i},B()(a,o,Xt({},this.state[o],{state:t.ACTIVE_STATE})),B()(a,s,Xt({},this.state[s],{state:t.DISABLED_STATE})),B()(a,"wizardData",l),B()(a,"error",null),a))}}},{key:"onError",value:function(e,n,a){var r=this;if(this.getStepNameByIndex(this.state.activeStepIndex)===t.getStepNameById(e)){if(!_.isNil(a)){var i=t.getStepNameById(e),o=this.state[i];return new Promise((function(e){var t;return r.setState((t={},B()(t,i,Xt({},o,{errors:a})),B()(t,"error",n),B()(t,"loading",!1),t),e)}))}return new Promise((function(e){return r.setState({error:n,loading:!1},e)}))}}},{key:"onLoading",value:function(){var e=this;return new Promise((function(t){return e.setState({loading:!0},t)}))}},{key:"onReady",value:function(){var e=this;return new Promise((function(t){return e.setState({loading:!1},t)}))}},{key:"onStepDataChanged",value:function(e,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(a){var r,i=t.getStepNameById(e),o=this.state[i];this.setState((r={},B()(r,i,Xt({},o,{data:n,errors:{}})),B()(r,"error",null),r))}else{var s=Xt({},this.state.wizardData,{},n);this.setState({wizardData:s})}}},{key:"fetchStepData",value:function(e){var n=t.getStepNameById(e),a=this.state[n];return Promise.resolve({stepData:a.data})}},{key:"render",value:function(){var e=this,n=this.props.steps,a=n[this.state.activeStepIndex],r=this.getStepNameByIndex(this.state.activeStepIndex),i=this.state[r],o="wizardModal ".concat(r);return Y.a.createElement(b.a,{open:this.props.open,onClose:this.props.onClose,className:o,closeIcon:!1,closeOnEscape:!1,closeOnDimmerClick:!1},Y.a.createElement(b.a.Header,null,this.props.header),Y.a.createElement(b.a.Description,null,Y.a.createElement(S.a.Group,{ordered:!0,fluid:!0,widths:n.length},_.map(n,(function(n,a){return Y.a.createElement(S.a,{active:e.state[e.getStepNameByIndex(a)].state===t.ACTIVE_STATE,completed:e.state[e.getStepNameByIndex(a)].state===t.COMPLETED_STATE,disabled:e.state[e.getStepNameByIndex(a)].state===t.DISABLED_STATE,id:n.id,key:n.id},Y.a.createElement(S.a.Content,null,Y.a.createElement(S.a.Title,null,n.title),Y.a.createElement(S.a.Description,null,n.description)))}))),Y.a.createElement(Ee.a,{error:this.state.error,onDismiss:function(){var t;return e.setState((t={},B()(t,r,Xt({},i,{errors:{}})),B()(t,"error",null),t))},autoHide:!0})),Y.a.createElement(b.a.Content,null,Y.a.createElement(a.Content,{stepData:i.data,wizardData:this.state.wizardData,onLoading:this.onLoading.bind(this),onReady:this.onReady.bind(this),onError:this.onError.bind(this),onChange:this.onStepDataChanged.bind(this),errors:i.errors,loading:this.state.loading,toolbox:this.props.toolbox})),Y.a.createElement(b.a.Actions,null,Y.a.createElement(a.Actions,{onClose:this.showCloseModal.bind(this),onStartOver:this.onStartOver.bind(this),onPrev:this.onPrev.bind(this),onNext:this.onNext.bind(this),onError:this.onError.bind(this),onLoading:this.onLoading.bind(this),onReady:this.onReady.bind(this),disabled:this.state.loading,showPrev:0!==this.state.activeStepIndex,fetchData:this.fetchStepData.bind(this,a.id),wizardData:this.state.wizardData,toolbox:this.props.toolbox}),Y.a.createElement(re,{content:"Are you sure you want to close the wizard?",open:this.state.showCloseModal,onConfirm:this.props.onClose,onCancel:this.hideCloseModal.bind(this)})))}}],[{key:"getStepNameById",value:function(e){return"".concat(e,"Step")}}]),t}(V.Component);function Jt(e){return e.displayName||e.name||"Component"}function Zt(e,t){var n=function(n){function a(e){return R()(this,a),L()(this,F()(a).call(this,e))}return z()(a,n),x()(a,[{key:"render",value:function(){return Y.a.createElement(e,ee()({id:t},this.props))}}]),a}(V.Component);return B()(n,"propTypes",_.omit(Vt.propTypes,"id")),n.displayName="StepContent(".concat(Jt(e),")"),n}function Qt(e,t){var n=function(n){function a(e){return R()(this,a),L()(this,F()(a).call(this,e))}return z()(a,n),x()(a,[{key:"render",value:function(){return Y.a.createElement(e,ee()({id:t},this.props))}}]),a}(V.Component);return B()(n,"propTypes",_.omit(Ht.propTypes,"id")),n.displayName="StepActions(".concat(Jt(e),")"),n}B()(Kt,"propTypes",{open:H.a.bool.isRequired,onClose:H.a.func.isRequired,steps:H.a.arrayOf(H.a.shape({id:H.a.string.isRequired,title:H.a.string.isRequired,description:H.a.string.isRequired,Content:H.a.func.isRequired,Actions:H.a.func.isRequired})).isRequired,toolbox:H.a.object.isRequired}),B()(Kt,"ACTIVE_STATE","active"),B()(Kt,"COMPLETED_STATE","completed"),B()(Kt,"DISABLED_STATE","disabled"),B()(Kt,"initialState",(function(e){var t=[],n={},a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value,c=Kt.getStepNameById(l.id);t.push(c),n[c]={state:Kt.DISABLED_STATE,data:{},errors:{}}}}catch(e){r=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n[t[0]].state=Kt.ACTIVE_STATE,Xt({activeStepIndex:0,previousStepIndex:-1,steps:t},n,{wizardData:{},loading:!1,error:null,showCloseModal:!1})}));var $t={Step:{Actions:Ht,Content:Vt},Modal:Kt,Utils:{createWizardStep:function(e,t,n,a,r){return{id:e,title:t,description:n,Content:Zt(a,e),Actions:Qt(r,e)}}}};n.d(t,"Accordion",(function(){return a.a})),n.d(t,"Alert",(function(){return J})),n.d(t,"ApproveButton",(function(){return X})),n.d(t,"Breadcrumb",(function(){return r.a})),n.d(t,"Button",(function(){return i.a})),n.d(t,"CancelButton",(function(){return K})),n.d(t,"Card",(function(){return o.a})),n.d(t,"Checkbox",(function(){return s.a})),n.d(t,"Checkmark",(function(){return Z})),n.d(t,"Cluster",(function(){return le})),n.d(t,"Confirm",(function(){return re})),n.d(t,"Container",(function(){return l.a})),n.d(t,"CopyToClipboardButton",(function(){return Q.a})),n.d(t,"DataSegment",(function(){return ge})),n.d(t,"DataTable",(function(){return ce.a})),n.d(t,"Divider",(function(){return c.a})),n.d(t,"Dropdown",(function(){return fe.a})),n.d(t,"EditableLabel",(function(){return ve})),n.d(t,"ErrorMessage",(function(){return Ee.a})),n.d(t,"ExecutionStatus",(function(){return be})),n.d(t,"Form",(function(){return _e.a})),n.d(t,"GenericField",(function(){return we.a})),n.d(t,"Graphs",(function(){return Ie})),n.d(t,"Grid",(function(){return u.a})),n.d(t,"Header",(function(){return p.a})),n.d(t,"HighlightText",(function(){return Ge})),n.d(t,"Icon",(function(){return d.a})),n.d(t,"IdPopup",(function(){return Be.a})),n.d(t,"Image",(function(){return h.a})),n.d(t,"Input",(function(){return m.a})),n.d(t,"Item",(function(){return g.a})),n.d(t,"KeyIndicator",(function(){return He})),n.d(t,"Label",(function(){return f.a})),n.d(t,"Leaflet",(function(){return $e})),n.d(t,"List",(function(){return v.a})),n.d(t,"Link",(function(){return I.a})),n.d(t,"Loader",(function(){return E.a})),n.d(t,"Loading",(function(){return Ye})),n.d(t,"LoadingOverlay",(function(){return Xe})),n.d(t,"MaintenanceModeActivationButton",(function(){return et})),n.d(t,"MaintenanceModeModal",(function(){return lt})),n.d(t,"Menu",(function(){return pt})),n.d(t,"Message",(function(){return y.a})),n.d(t,"MessageContainer",(function(){return ht})),n.d(t,"Modal",(function(){return b.a})),n.d(t,"NodeFilter",(function(){return ft})),n.d(t,"NodeInstancesFilter",(function(){return yt})),n.d(t,"NodesTree",(function(){return _t})),n.d(t,"ParameterValue",(function(){return It})),n.d(t,"ParameterValueDescription",(function(){return Dt})),n.d(t,"PageFilter",(function(){return kt})),n.d(t,"Popup",(function(){return wt.a})),n.d(t,"PopupConfirm",(function(){return Ot})),n.d(t,"PopupHelp",(function(){return Pt})),n.d(t,"PopupMenu",(function(){return Tt})),n.d(t,"Portal",(function(){return w.a})),n.d(t,"Progress",(function(){return C.a})),n.d(t,"Radio",(function(){return O.a})),n.d(t,"ResourceVisibility",(function(){return Mt})),n.d(t,"ReadmeModal",(function(){return At})),n.d(t,"RevertToDefaultIcon",(function(){return Lt})),n.d(t,"Segment",(function(){return P.a})),n.d(t,"Sidebar",(function(){return T.a})),n.d(t,"SplitterLayout",(function(){return A.a})),n.d(t,"Step",(function(){return S.a})),n.d(t,"Table",(function(){return k.a})),n.d(t,"TimeFilter",(function(){return qt})),n.d(t,"TimePicker",(function(){return Gt})),n.d(t,"VisibilityIcon",(function(){return Nt})),n.d(t,"VisibilityField",(function(){return Wt})),n.d(t,"Wizard",(function(){return $t}))},315:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(188),b=n(181),w=n(35),C=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement(w.a,{wide:!0,hoverable:!0,position:"right center"},E.a.createElement(w.a.Trigger,null,E.a.createElement(y.a,{style:{opacity:this.props.selected?"1":"0.2"}},this.props.label)),E.a.createElement(w.a.Content,null,E.a.createElement("div",{className:"noWrap"},this.props.buttonPosition===t.buttonPositions.left?E.a.createElement(E.a.Fragment,null,E.a.createElement(b.a,{content:"Copy ".concat(this.props.label),text:this.props.id}),"",E.a.createElement("strong",null,this.props.id)):E.a.createElement(E.a.Fragment,null,E.a.createElement("strong",null,this.props.id),"",E.a.createElement(b.a,{content:"Copy ".concat(this.props.label),text:this.props.id})))))}}]),t}(E.a.Component);m()(C,"buttonPositions",Object.freeze({right:"right",left:"left"})),m()(C,"propTypes",{label:f.a.string,id:f.a.string,selected:f.a.bool,buttonPosition:f.a.oneOf(_.keys(C.buttonPositions))}),m()(C,"defaultProps",{label:"ID",id:"",selected:!0,buttonPosition:"left"})},317:function(e,t,n){"use strict";var a=n(56),r=n.n(a),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(21),u=n(77),p=n(3);function d(e){var t=e.onHide,n=e.open,a=e.manager,i=e.username,o=Object(s.useState)(!1),c=r()(o,2),u=c[0],d=c[1],h=Object(s.useState)(""),m=r()(h,2),g=m[0],f=m[1],v=Object(s.useState)(""),E=r()(v,2),y=E[0],b=E[1],w=Object(s.useState)({}),C=r()(w,2),O=C[0],P=C[1];Object(s.useEffect)((function(){n&&(d(!1),f(""),b(""),P({}))}),[n]);var T=function(){var e={};return _.isEmpty(g)&&(e.password="Please provide user password"),_.isEmpty(y)&&(e.confirmPassword="Please provide password confirmation"),_.isEmpty(g)||_.isEmpty(y)||g===y||(e.confirmPassword="Passwords do not match"),_.isEmpty(e)?(d(!0),a.doPost("/users/".concat(i),null,{password:g}).then((function(){P({}),t()})).catch((function(e){return P({error:e.message})})).finally((function(){return d(!1)}))):(P(e),!1)};return l.a.createElement(p.Modal,{open:n,onClose:function(){return t()},className:"userPasswordModal"},l.a.createElement(p.Modal.Header,null,l.a.createElement(p.Icon,{name:"lock"})," Change password for ",i),l.a.createElement(p.Modal.Content,null,l.a.createElement(p.Form,{loading:u,errors:O,onErrorsDismiss:function(){return P({})}},l.a.createElement(p.Form.Field,{label:"Password",error:O.password,required:!0},l.a.createElement(p.Form.Input,{name:"password",type:"password",value:g,onChange:function(e,t){var n=t.value;return f(n)}})),l.a.createElement(p.Form.Field,{label:"Confirm password",error:O.confirmPassword,required:!0},l.a.createElement(p.Form.Input,{name:"confirmPassword",type:"password",value:y,onChange:function(e,t){var n=t.value;return b(n)}})))),l.a.createElement(p.Modal.Actions,null,l.a.createElement(p.CancelButton,{onClick:function(){return t(),!0},disabled:u}),l.a.createElement(p.ApproveButton,{onClick:function(){return T(),!1},disabled:u,content:"Change",icon:"lock",color:"green"})))}d.propTypes={open:o.a.bool.isRequired,onHide:o.a.func.isRequired,manager:o.a.shape({doPost:o.a.func.isRequired}).isRequired,username:o.a.string.isRequired};t.a=Object(c.connect)((function(e,t){return{manager:new u.a(e.manager),username:t.username||e.manager.username}}))(d)},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(183),d=n.n(p),h=n(10),m=n.n(h),g=n(320),f=n.n(g),v=n(215),E=n(14),y=n(19),b=function(e){function t(e){return r()(this,t),l()(this,u()(t).call(this,e))}return m()(t,e),o()(t,[{key:"_buildHeaders",value:function(){if(!this._data)return{};var e={tenant:_.get(this._data,"tenants.selected",E.a.DEFAULT_TENANT)},t=f.a.get(E.a.TOKEN_COOKIE_NAME);return t&&(e["Authentication-Token"]=t),e}},{key:"_buildActualUrl",value:function(e,n){return d()(u()(t.prototype),"_buildActualUrl",this).call(this,y.a.Url.url(e),n)}},{key:"_isUnauthorized",value:function(e){return 401===e.status}},{key:"_isLicenseError",value:function(e,t){return 400===e.status&&(t.error_code===E.a.NO_LICENSE_ERROR_CODE||t.error_code===E.a.EXPIRED_LICENSE_ERROR_CODE)}}]),t}(v.a)},321:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(13);function r(e){return{type:a.db,license:e}}},325:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(191),b=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e=this;return E.a.createElement(y.a.Field,null,E.a.createElement(y.a.Input,{icon:"search",placeholder:"Search...",value:this.props.search,onChange:function(t){e.props.onSearch(t.target.value)},loading:this.props.searching}))}}]),t}(v.Component);m()(b,"propTypes",{search:f.a.string.isRequired,onSearch:f.a.func.isRequired,searching:f.a.bool}),m()(b,"defaultProps",{searching:!1})},326:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=function(){function e(){r()(this,e)}return o()(e,null,[{key:"stringify",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!a&&""===t)return"";var r=t;return"object"!==e.toType(t)&&"array"!==e.toType(t)||(r=JSON.stringify(t,null,n?2:0)),_.trim(r,'"')}},{key:"toType",value:function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}},{key:"toCloudifyType",value:function(t){var n=e.toType(t);switch(n){case"boolean":case"string":return n;case"number":return _.isInteger(t)?"integer":"float";case"array":return"list";case"object":return"dict";default:return}}},{key:"getStringValue",value:function(t){var n=null;switch(e.toType(t)){case"array":case"object":n=JSON.stringify(t);break;case"boolean":case"string":case"number":default:n=String(t)}return n}},{key:"getTypedValue",value:function(t){if("string"===e.toType(t)){if("null"===t)return null;if("undefined"===t)return;if("true"===t)return!0;if("false"===t)return!1;var n=Number(t);if(!isNaN(n))return n;var a=null;try{a=JSON.parse(t)}catch(e){return t}return a}return t}}]),e}()},327:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(1),r=n.n(a),i=n(0),o=n.n(i),s=n(1455),l=n(60),c=n(230),u=n(259),p=n(29),d=n(212);n(1297);function h(e){var t=e.services,n=e.clickable,a=e.isFetching,i=e.fetchingError,o=e.header;return r.a.createElement(l.a,{celled:!0,basic:"very",collapsing:!0,className:"servicesData"},!_.isEmpty(o)&&r.a.createElement(l.a.Header,null,o),r.a.createElement(l.a.Body,null,a?null:i?r.a.createElement(d.a,{error:i,header:"Failed to fetch status"}):_.isEmpty(t)?r.a.createElement(c.a,null,r.a.createElement(c.a.Header,null,"No services available")):_.map(t,(function(e,t){return r.a.createElement(l.a.Row,{key:t,style:{backgroundColor:Object(p.c)(e.status)}},r.a.createElement(l.a.Cell,null,n?r.a.createElement(s.a,{to:"/page/admin_operations"},r.a.createElement(u.a,{isExternal:e.is_external,name:t})):r.a.createElement(u.a,{isExternal:e.is_external,name:t})))}))))}h.propTypes={services:o.a.shape(_.mapValues(p.d,(function(){return o.a.shape({status:o.a.oneOf(p.g),is_external:o.a.bool})}))),clickable:o.a.bool,isFetching:o.a.bool,fetchingError:o.a.string,header:o.a.node},h.defaultProps={services:_.mapValues(p.d,(function(){return{status:p.f.Unknown,is_external:!1}})),clickable:!1,isFetching:!1,fetchingError:"",header:null}},328:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n.n(a),i=n(0),o=n.n(i),s=n(93),l=n(29);function c(e){var t=e.status,n="grey";return t===l.i.Fail?n="red":t===l.i.Degraded?n="yellow":t===l.i.OK&&(n="green"),r.a.createElement(s.a,{name:"heartbeat",size:"large",color:n,className:"statusIcon"})}c.propTypes={status:o.a.string},c.defaultProps={status:""}},329:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a=n(7),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),w=n(3),C=function(t){function n(e,t){var a;return o()(this,n),(a=u()(this,d()(n).call(this,e,t))).inputRef=b.a.createRef(),a.state={value:"",title:""},a}return m()(n,t),l()(n,[{key:"_openFileSelection",value:function(e){return e.preventDefault(),this.inputRef.current.click(),!1}},{key:"_resetFileSelection",value:function(e){return e.preventDefault(),this.reset(),this.props.onReset(),!1}},{key:"_fileChanged",value:function(t){var n=e(t.currentTarget).val();if(n){var a=n.split("\\").pop();this.setState({value:a,title:n}),this.props.onChange(this.file(),a),this.props.showReset||this._resetFileSelection(t)}else this.reset()}},{key:"file",value:function(){return this.inputRef.current.files[0]}},{key:"reset",value:function(){e(this.inputRef.current).val(""),this.setState({value:"",title:""}),this.props.onChange(null,"")}},{key:"getOpenFolderButton",value:function(){var e=this,t=function(){return b.a.createElement(w.Button,r()({icon:"folder open",onClick:e._openFileSelection.bind(e),loading:e.props.loading,disabled:e.props.disabled},e.props.openButtonParams))};return _.isEmpty(this.props.help)?t():b.a.createElement(w.Popup,{trigger:t(),content:this.props.help})}},{key:"getResetFileButton",value:function(){return this.props.showReset?b.a.createElement(w.Button,{icon:"remove",onClick:this._resetFileSelection.bind(this),disabled:!this.state.value||this.props.disabled}):null}},{key:"getHiddenInput",value:function(){return b.a.createElement("input",{type:"file",name:this.props.name,hidden:!0,onChange:this._fileChanged.bind(this),ref:this.inputRef})}},{key:"render",value:function(){return this.props.showInput?b.a.createElement(b.a.Fragment,null,b.a.createElement(w.Input,{readOnly:!0,value:this.state.value,title:this.state.title,name:"fileName".concat(this.props.name),placeholder:this.props.placeholder,onClick:this._openFileSelection.bind(this),disabled:this.props.disabled,action:!0},b.a.createElement("input",null),this.getOpenFolderButton(),this.getResetFileButton()),this.getHiddenInput()):b.a.createElement(b.a.Fragment,null,this.getOpenFolderButton(),this.getResetFileButton(),this.getHiddenInput())}}]),n}(y.Component);f()(C,"propTypes",{name:E.a.string,placeholder:E.a.string,onChange:E.a.func,onReset:E.a.func,loading:E.a.bool,disabled:E.a.bool,showInput:E.a.bool,showReset:E.a.bool,openButtonParams:E.a.object,help:E.a.string}),f()(C,"defaultProps",{name:"",placeholder:"",onChange:function(){},onReset:function(){},loading:!1,disabled:!1,showInput:!0,showReset:!0,openButtonParams:{},help:""})}).call(this,n(43))},334:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(1472),b=n(1457),w=n(21),C=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e=this;return E.a.createElement("i",{className:"setting link icon small editWidgetIcon",onClick:function(t){t.stopPropagation(),e.props.onShowConfig()}})}}]),t}(v.Component);m()(C,"propTypes",{widgetId:f.a.string.isRequired,onShowConfig:f.a.func.isRequired});var O=n(53),P=n(40),T=n(7),S=n.n(T),k=n(3);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).state=t.initialState(e),a}return d()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e){!e.open&&this.props.open&&this.setState(t.initialState(this.props))}},{key:"onApprove",value:function(){var e=_.clone(this.props.configuration);return _.forEach(this.state.fields,(function(t,n){e[n]=t})),e&&this.props.onWidgetEdited(e),this.props.onHideConfig(),!0}},{key:"onDeny",value:function(){return this.props.onHideConfig(),!0}},{key:"_handleInputChange",value:function(e,t){var n=t.name,a=k.GenericField.formatValue(t.genericType,t.genericType===k.GenericField.BOOLEAN_TYPE?t.checked:t.value);this.setState({fields:D({},this.state.fields,m()({},n,a))})}},{key:"render",value:function(){var e=this;return E.a.createElement(k.Modal,{open:this.props.show,onClose:function(){return e.props.onHideConfig()},className:"editWidgetModal"},E.a.createElement(k.Modal.Header,null,"Configure Widget"),E.a.createElement(k.Modal.Content,null,E.a.createElement(k.Form,null,this.props.configDef.filter((function(e){return!e.hidden})).map((function(t){return E.a.createElement(k.GenericField,S()({},t,{key:t.id,name:t.id,label:t.name,value:e.state.fields[t.id],onChange:e._handleInputChange.bind(e)}))})),_.isEmpty(this.props.configDef)&&E.a.createElement(k.Message,null,"No configuration available for this widget"))),E.a.createElement(k.Modal.Actions,null,E.a.createElement(k.ApproveButton,{onClick:this.onApprove.bind(this)}),E.a.createElement(k.CancelButton,{onClick:this.onDeny.bind(this)})))}}]),t}(v.Component);m()(A,"propTypes",{configuration:f.a.object.isRequired,configDef:f.a.array.isRequired,widget:f.a.object.isRequired,show:f.a.bool.isRequired,onWidgetEdited:f.a.func.isRequired,onHideConfig:f.a.func.isRequired}),m()(A,"initialState",(function(e){var t={};return e.configDef.filter((function(e){return!e.hidden})).map((function(n){var a=_.get(e.configuration,"[".concat(n.id,"]"),n.value||n.default);t[n.id]=a})),{fields:t}}));var j=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).state={showConfig:!1},a}return d()(t,e),o()(t,[{key:"_showConfig",value:function(){this.setState({showConfig:!0})}},{key:"_hideConfig",value:function(){this.setState({showConfig:!1})}},{key:"render",value:function(){return E.a.createElement("span",null,E.a.createElement(C,{widgetId:this.props.widget.id,onShowConfig:this._showConfig.bind(this)}),E.a.createElement(A,{widget:this.props.widget,configDef:this.props.configDef,configuration:this.props.configuration,onWidgetEdited:this.props.onWidgetEdited,show:this.state.showConfig,onHideConfig:this._hideConfig.bind(this)}))}}]),t}(E.a.Component);m()(j,"propTypes",{widget:f.a.object,onWidgetEdited:f.a.func,configDef:f.a.array,configuration:f.a.object});var R=Object(w.connect)((function(e,t){return{pageId:t.pageId,widget:t.widget,pageManagementMode:t.pageManagementMode,configuration:t.widget.configuration||{},configDef:t.widget.definition.initialConfiguration||[],showConfig:t.widget.showConfig||!1}}),(function(e,t){return{onWidgetEdited:function(n){t.pageManagementMode?e(Object(P.j)(t.pageId,t.widget.id,n||t.widget.configuration||{})):e(Object(O.e)(t.pageId,t.widget.id,n||t.widget.configuration||{}))}}}))(j),N=n(818),x=n(19);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var L=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).widgetItemRef=E.a.createRef(),a.state={showReadmeModal:!1,readmeContent:""},a}return d()(t,e),o()(t,[{key:"_widgetConfigUpdate",value:function(e){e&&(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props.widget.configuration,{},e),this.props.onWidgetConfigUpdate(this.props.pageId,this.props.widget.id,e))}},{key:"_onKeyDown",value:function(e){27===e.keyCode&&this.props.onWidgetMaximize(this.props.pageId,this.props.widget.id,!1)}},{key:"_showReadmeModal",value:function(){var e=this.props.widget.definition.readme,t="";_.isEmpty(e)||(t=markdown.parse(this.props.widget.definition.readme)),this.setState({readmeContent:t,showReadmeModal:!0})}},{key:"_hideReadmeModal",value:function(){this.setState({readmeContent:"",showReadmeModal:!1})}},{key:"_isUserAuthorized",value:function(){return x.a.isUserAuthorized(this.props.widget.definition.permission,this.props.manager)}},{key:"componentDidUpdate",value:function(e,t){this.props.widget.maximized&&this.widgetItemRef.current.focus()}},{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props,e)||!_.isEqual(this.state,t)}},{key:"render",value:function(){var e=this;if(!this.props.widget.definition)return E.a.createElement("div",{tabIndex:this.props.widget.maximized?"-1":"",onKeyDown:this._onKeyDown.bind(this),ref:this.widgetItemRef,className:"widgetItem ui segment widgetWithoutContent"},E.a.createElement("div",{className:"widgetButtons",onMouseDown:function(e){return e.stopPropagation()}},this.props.isEditMode&&E.a.createElement("div",{className:"widgetEditButtons"},E.a.createElement("i",{className:"remove link icon small",onClick:function(){return e.props.onWidgetRemoved(e.props.pageId,e.props.widget.id)}}))),E.a.createElement("div",{className:"ui segment basic",style:{height:"100%"}},E.a.createElement("div",{className:"ui icon message error"},E.a.createElement("i",{className:"ban icon"}),"Cannot load widget ",this.props.widget.name,". It might not be installed in your env. Please contact administrator.")));var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return(e.props.widget.definition.helpUrl?E.a.createElement("a",{key:"helpLink",href:e.props.widget.definition.helpUrl,target:"_blank"},E.a.createElement(k.Icon,{name:"help circle",size:t,link:!0})):e.props.widget.definition.readme&&E.a.createElement(k.Icon,{key:"helpIcon",name:"help circle",size:t,link:!0,onClick:e._showReadmeModal.bind(e)}))};return E.a.createElement("div",{tabIndex:this.props.widget.maximized?"-1":"",onKeyDown:this._onKeyDown.bind(this),ref:this.widgetItemRef,className:"widgetItem ui segment\n                            ".concat(this.props.widget.definition&&!this.props.widget.definition.showBorder?"basic":"","\n                            ").concat(this.props.isEditMode&&this.props.widget.definition&&!this.props.widget.definition.showBorder?"borderOnHover ":"","\n                            ").concat(this.props.widget.definition&&this.props.widget.definition.color&&this.props.widget.definition.showBorder?this.props.widget.definition.color:"")},this.props.widget.definition&&this.props.widget.definition.showHeader&&E.a.createElement("h5",{className:"ui header dividing"},E.a.createElement(k.EditableLabel,{text:this.props.widget.name,placeholder:"Widget header",isEditEnable:this.props.isEditMode,onEditDone:function(t){return e.props.onWidgetNameChange(e.props.pageId,e.props.widget.id,t)}})),E.a.createElement("div",{className:"widgetButtons",onMouseDown:function(e){return e.stopPropagation()}},this.props.isEditMode?E.a.createElement("div",{className:"widgetEditButtons"},E.a.createElement(R,{pageId:this.props.pageId,widget:this.props.widget,pageManagementMode:this.props.pageManagementMode}),t("small"),E.a.createElement(k.Icon,{name:"remove",link:!0,size:"small",onClick:function(){return e.props.onWidgetRemoved(e.props.pageId,e.props.widget.id)}})):this.props.widget.definition.showHeader?E.a.createElement("div",{className:"widgetViewButtons ".concat(this.props.widget.maximized?"alwaysOnTop":"")},this.props.widget.maximized?[t(),E.a.createElement(k.Icon,{key:"compressIcon",name:"compress",link:!0,onClick:function(){return e.props.onWidgetMaximize(e.props.pageId,e.props.widget.id,!1)}})]:[t("small"),E.a.createElement(k.Icon,{key:"expandIcon",name:"expand",link:!0,size:"small",onClick:function(){return e.props.onWidgetMaximize(e.props.pageId,e.props.widget.id,!0)}})]):E.a.createElement("div",{className:"widgetViewButtons"},t("small"))),!this.props.widget.definition||_.isEmpty(_.get(this.props,"manager.tenants.selected"))||_.get(this.props,"manager.tenants.isFetching")?E.a.createElement(k.Loading,null):E.a.createElement(N.a,{widget:this.props.widget,context:this.props.context,manager:this.props.manager,data:this.props.widgetData,setContextValue:this.props.setContextValue,onWidgetConfigUpdate:this._widgetConfigUpdate.bind(this),fetchWidgetData:this.props.fetchWidgetData,pageId:this.props.pageId}),E.a.createElement(k.ReadmeModal,{open:this.state.showReadmeModal,content:this.state.readmeContent,onHide:this._hideReadmeModal.bind(this)}))}}]),t}(v.Component);m()(L,"propTypes",{pageId:f.a.string.isRequired,widget:f.a.object.isRequired,context:f.a.object.isRequired,manager:f.a.object.isRequired,widgetData:f.a.object,onWidgetNameChange:f.a.func.isRequired,setContextValue:f.a.func.isRequired,onWidgetRemoved:f.a.func.isRequired,onWidgetMaximize:f.a.func.isRequired,onWidgetConfigUpdate:f.a.func.isRequired,fetchWidgetData:f.a.func.isRequired,pageManagementMode:f.a.string});var U=n(67),F=n(337),q=Object(w.connect)((function(e,t){return{context:e.context,manager:e.manager||{},isEditMode:t.isEditMode,pageManagementMode:t.pageManagementMode,widgetData:_.find(e.widgetData,{id:t.widget.id})||{}}}),(function(e,t){return{onWidgetNameChange:function(n,a,r){t.pageManagementMode?e(Object(P.n)(n,a,r)):e(Object(O.k)(n,a,r))},setContextValue:function(t,n){e(Object(U.b)(t,n))},onWidgetRemoved:function(n,a){t.pageManagementMode?e(Object(P.m)(a)):e(Object(O.j)(n,a))},onWidgetMaximize:function(n,a,r){t.pageManagementMode?e(Object(P.l)(n,a,r)):e(Object(O.h)(n,a,r))},onWidgetConfigUpdate:function(n,a,r){t.pageManagementMode?e(Object(P.j)(n,a,r)):e(Object(O.e)(n,a,r))},fetchWidgetData:function(t,n,a){return e(Object(F.b)(t,n,a))}}}))(L),z=n(441),G=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.props.onItemAdded&&this.props.onItemAdded(this.props.id)}},{key:"componentWillUnmount",value:function(){this.props.onItemRemoved&&this.props.onItemRemoved(this.props.id)}},{key:"render",value:function(){return E.a.createElement("div",{id:this.props.id,className:this.props.className},this.props.children)}}]),t}(v.Component);m()(G,"propTypes",{id:f.a.string.isRequired,x:f.a.number,y:f.a.number,width:f.a.number,height:f.a.number,className:f.a.string,onItemAdded:f.a.func,onItemRemoved:f.a.func,maximized:f.a.bool}),m()(G,"defaultProps",{x:0,y:0,width:10,height:5,className:"",maximized:!1});var B=Object(z.WidthProvider)(z.Responsive),W=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_saveChangedItems",value:function(e){var t=this;this.props.isEditMode&&_.each(e,(function(e){t.props.onGridDataChange(e.i,{height:e.h,width:e.w,x:e.x,y:e.y})}))}},{key:"processGridItem",value:function(e){return e.type&&e.type!==G?[]:E.a.createElement("div",{key:e.props.id,className:[e.props.className,e.props.maximized&&"maximize"].join(" "),"data-grid":{x:e.props.x||0,y:e.props.y||0,w:e.props.width||10,h:e.props.height||5}},e)}},{key:"render",value:function(){return E.a.createElement(B,{className:["layout",this.props.isEditMode&&"isEditMode"].join(" "),breakpoints:{lg:1e3,md:800,sm:640,xs:320,xxs:0},cols:{lg:12,md:10,sm:8,xs:6,xxs:2},rowHeight:10,onLayoutChange:this._saveChangedItems.bind(this),isDraggable:this.props.isEditMode,isResizable:this.props.isEditMode,useCSSTransforms:!1},_.map(this.props.children,this.processGridItem.bind(this)))}}]),t}(v.Component);m()(W,"propTypes",{onGridDataChange:f.a.func.isRequired,isEditMode:f.a.bool.isRequired}),n.d(t,"a",(function(){return H}));var H=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_updateWidget",value:function(e,t){this.props.onWidgetsGridDataChange(this.props.pageId,e,t)}},{key:"render",value:function(){return _.isEmpty(this.props.widgets)?E.a.createElement(y.a,{className:"emptyPage alignCenter"},this.props.isEditMode?E.a.createElement(b.a,{size:"large"},"This page is empty, ",E.a.createElement("br",null),"don't be shy, give it a meaning!"):E.a.createElement(b.a,{size:"large"},"This page is empty")):E.a.createElement("div",null,E.a.createElement(W,{isEditMode:this.props.isEditMode,onGridDataChange:this._updateWidget.bind(this)},this.props.widgets.map((function(e){var t=(e.definition||{}).id;return E.a.createElement(G,{key:e.id,id:e.id,x:e.x,y:e.y,height:e.height,width:e.width,className:"widget ".concat(t,"Widget"),maximized:e.maximized},E.a.createElement(q,{widget:e,pageId:this.props.pageId,isEditMode:this.props.isEditMode,pageManagementMode:this.props.pageManagementMode}))}),this)),(this.props.isEditMode||this.props.pageManagementMode)&&E.a.createElement("div",{className:"gridStackBottomSpace"}))}}]),t}(v.Component);m()(H,"propTypes",{pageId:f.a.string.isRequired,widgets:f.a.array.isRequired,onWidgetsGridDataChange:f.a.func.isRequired,isEditMode:f.a.bool.isRequired,pageManagementMode:f.a.string})},335:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(21),b=n(39),w=n(3),C=0,O=Object(y.connect)(null,(function(e,t){return{onClick:function(){e(Object(b.a)("Page_".concat(C++)))}}}))((function(e){var t=e.onClick;return E.a.createElement(w.Button,{icon:"file text outline",labelPosition:"left",basic:!0,onClick:t,content:"Add Page",className:"addPageBtn"})})),P=n(53),T=n(40),S=n(24),k=n.n(S),I=n(4),D=n.n(I),A=n(101),j=n(19);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var N=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).widgetFileRef=E.a.createRef(),a.state=t.initialState,a}return d()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e){!e.open&&this.props.open&&(this.widgetFileRef.current&&this.widgetFileRef.current.reset(),this.setState(t.initialState))}},{key:"_installWidget",value:function(){var e=this,t=this.state.widgetFile?"":this.state.widgetUrl,n={};if(this.state.widgetFile||(_.isEmpty(t)?n.widgetUrl="Please provide the widget's archive URL or select a file":j.a.Url.isUrl(t)||(n.widgetUrl="Please provide valid URL for widget's archive")),!_.isEmpty(n))return this.setState({errors:n,scriptError:""}),!1;this.setState({loading:!0,errors:{},scriptError:""}),A.a.on("window:error",this._showScriptError,this),this.props.onWidgetInstalled(this.state.widgetFile,t).then((function(){A.a.off("window:error",e._showScriptError),e.setState({loading:!1,open:!1})})).catch((function(t){A.a.off("window:error",e._showScriptError),e.setState({errors:{error:t.message},loading:!1})}))}},{key:"_openModal",value:function(){this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.initialState,{open:!0}))}},{key:"_closeModal",value:function(){this.setState({open:!1})}},{key:"_showScriptError",value:function(e,t,n,a){this.setState({scriptError:"".concat(e," (").concat(t,":").concat(n,":").concat(a,")")})}},{key:"_handleInputChange",value:function(e,t){this.setState(w.Form.fieldNameValue(t))}},{key:"_onWidgetUrlFocus",value:function(){this.state.widgetFile&&(this.widgetFileRef.current&&this.widgetFileRef.current.reset(),this._onWidgetFileReset())}},{key:"_onWidgetFileChange",value:function(e){e&&this.setState({errors:{},widgetUrl:e.name,widgetFile:e})}},{key:"_onWidgetFileReset",value:function(){this.setState({errors:{},widgetUrl:"",widgetFile:null})}},{key:"render",value:function(){var e=this;return E.a.createElement(w.Modal,{trigger:this.props.trigger,dimmer:"blurring",open:this.state.open,className:this.props.className,onOpen:this._openModal.bind(this),onClose:this._closeModal.bind(this)},E.a.createElement(w.Modal.Header,null,E.a.createElement(w.Icon,{name:"puzzle"})," ",this.props.header),E.a.createElement(w.Modal.Content,null,E.a.createElement(w.Form,{errors:this.state.errors,ref:"installForm",loading:this.state.loading},E.a.createElement(w.Form.Field,{label:"Widget package",required:!0,error:this.state.errors.widgetUrl},E.a.createElement(w.Form.UrlOrFile,{name:"widget",value:this.state.widgetUrl,placeholder:"Provide the widget's archive URL or click browse to select a file",onChangeUrl:this._handleInputChange.bind(this),onFocusUrl:this._onWidgetUrlFocus.bind(this),onBlurUrl:function(){},onChangeFile:this._onWidgetFileChange.bind(this),onResetFile:this._onWidgetFileReset.bind(this),label:E.a.createElement(w.Label,null,this.state.widgetFile?"File":"URL"),fileInputRef:this.widgetFileRef}))),this.state.scriptError&&E.a.createElement(w.Message,{error:!0},this.state.scriptError)),E.a.createElement(w.Modal.Actions,null,E.a.createElement(w.Button,{icon:"remove",basic:!0,content:"Cancel",onClick:function(t){t.stopPropagation(),e._closeModal()}}),E.a.createElement(w.Button,{icon:"puzzle",content:this.props.buttonLabel,color:"green",onClick:function(t){t.stopPropagation(),e._installWidget()}})))}}]),t}(v.Component);m()(N,"initialState",{open:!1,loading:!1,widgetUrl:"",widgetFile:null,errors:{},scriptError:""}),m()(N,"propTypes",{trigger:f.a.object.isRequired,header:f.a.string.isRequired,buttonLabel:f.a.string.isRequired,onWidgetInstalled:f.a.func.isRequired,className:f.a.string}),m()(N,"defaultProps",{className:"installWidgetModal",onWidgetInstalled:function(){return Promise.resolve()}});var x=n(92),M=n(117);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e){function t(e,n){var a;return r()(this,t),a=l()(this,u()(t).call(this,e,n)),m()(D()(a),"_filterWidgets",(function(e,t){return a._doFilterWidgets(t)})),m()(D()(a),"_filterByCategory",(function(e,t){return a._doFilterWidgets(t,!0)})),a.state=U({},t.initialState(e),{open:!1,widgetsToAdd:[]}),a}return d()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e){_.isEqual(e.widgetDefinitions,this.props.widgetDefinitions)||this.setState(t.initialState(this.props))}},{key:"_openModal",value:function(){this.setState(U({},t.initialState(this.props),{open:!0,widgetsToAdd:[]}))}},{key:"_closeModal",value:function(){this.setState({open:!1})}},{key:"_openThumbnailModal",value:function(e,t){e.stopPropagation(),this.setState({showThumbnail:!0,thumbnailWidget:t})}},{key:"_closeThumbnailModal",value:function(){this.setState({showThumbnail:!1,thumbnailWidget:{}})}},{key:"_addWidgets",value:function(){var e=this;_.forEach(this.state.widgetsToAdd,(function(t){var n=_.find(e.props.widgetDefinitions,(function(e){return t===e.id}));n&&e.props.onWidgetAdded(n)})),this.setState(U({},this.state,{widgetsToAdd:[]})),this._closeModal()}},{key:"_toggleWidgetInstall",value:function(e){this.setState({widgetsToAdd:_.includes(this.state.widgetsToAdd,e)?_.without(this.state.widgetsToAdd,e):[].concat(k()(this.state.widgetsToAdd),[e])})}},{key:"_confirmRemove",value:function(e,t){var n=this;e.stopPropagation(),this.props.onWidgetUsed(t.id).then((function(e){n.setState({widget:t,usedByList:e,showConfirm:!0})})).catch((function(e){n.setState({error:e.message})}))}},{key:"_getWidgetsToAddWithout",value:function(e){return _.without(this.state.widgetsToAdd,e)}},{key:"_uninstallWidget",value:function(){var e=this,t=this.state.widget.id;this.setState({showConfirm:!1}),this.props.onWidgetUninstalled(t).then((function(){return e.setState({widgetsToAdd:e._getWidgetsToAddWithout(t)})}))}},{key:"_updateWidget",value:function(e,t,n){var a=this;return this.props.onWidgetUpdated(e.id,t,n).then((function(){return a.setState({widgetsToAdd:a._getWidgetsToAddWithout(e.id)})}))}},{key:"updateCategoriesCounter",value:function(e){var t=this.state.categories.map((function(t){return t.count=e.filter((function(e){return-1!==(e.categories||[x.a.CATEGORY.OTHERS]).indexOf(t.name)})).length,t}));this.setState({categories:t})}},{key:"getWidgetsByCategory",value:function(e,t){return e.filter((function(e){return e.categories=e.categories||[x.a.CATEGORY.OTHERS],t===x.a.CATEGORY.ALL||-1!==e.categories.indexOf(t)}))}},{key:"getWidgetsBySearch",value:function(e,t){var n=e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase()||"")}));return this.updateCategoriesCounter(n),n}},{key:"_doFilterWidgets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?this.state.search:e.value,a=t?e.name:this.state.selectedCategory,r=this.getWidgetsBySearch(this.props.widgetDefinitions,n);r=this.getWidgetsByCategory(r,a),this.setState({search:n,selectedCategory:a,filteredWidgetDefinitions:r})}},{key:"render",value:function(){var e=this,t=E.a.createElement(w.Button,{icon:"bar chart",labelPosition:"left",basic:!0,content:"Add Widget",className:"addWidgetBtn"}),n=E.a.createElement(w.Button,{animated:"vertical",id:"installWidgetBtn",onClick:function(){}},E.a.createElement(w.Button.Content,{visible:!0},"Install new widget"),E.a.createElement(w.Button.Content,{hidden:!0},E.a.createElement(w.Icon,{name:"folder open"}))),a=E.a.createElement(w.Button,{floated:"left",size:"small",compact:!0,basic:!0,content:"Update",className:"updateWidgetButton",onClick:function(e){return e.stopPropagation()}}),r=_.isEmpty(this.state.usedByList)?"":E.a.createElement(w.Segment,{basic:!0},E.a.createElement("h5",null,"Widget is currently used by:"),E.a.createElement(w.DataTable,null,E.a.createElement(w.DataTable.Column,{label:"Username"}),E.a.createElement(w.DataTable.Column,{label:"Manager IP"}),this.state.usedByList.map((function(e){return E.a.createElement(w.DataTable.Row,{key:e.username+e.managerIp},E.a.createElement(w.DataTable.Data,null,e.username),E.a.createElement(w.DataTable.Data,null,e.managerIp))})))),i=E.a.createElement(w.Menu,{fluid:!0,vertical:!0,tabular:!0},E.a.createElement(w.Menu.Item,{name:x.a.CATEGORY.ALL,active:this.state.selectedCategory===x.a.CATEGORY.ALL,onClick:this._filterByCategory.bind(this)}),this.state.categories.map((function(t){return E.a.createElement(w.Menu.Item,{key:t.name,name:t.name,active:e.state.selectedCategory===t.name,onClick:e._filterByCategory.bind(e)},t.name,E.a.createElement(w.Label,{color:t.count?"green":"yellow"},t.count))}))),o=function(e){return j.a.Url.url(M.a.getResourceUrl("widgets/".concat(e.id,"/widget.png"),e.isCustom))};return E.a.createElement("div",{className:this.props.className},E.a.createElement(w.Modal,{trigger:t,className:"addWidgetModal",open:this.state.open,closeIcon:!0,onOpen:this._openModal.bind(this),onClose:this._closeModal.bind(this),size:"large"},E.a.createElement(w.Segment,{basic:!0,size:"large"},E.a.createElement(w.ErrorMessage,{error:this.state.error}),E.a.createElement(w.Input,{icon:"search",fluid:!0,size:"mini",placeholder:"Search widgets ...",onChange:this._filterWidgets.bind(this),value:this.state.search}),E.a.createElement(w.Divider,null),E.a.createElement(w.Grid,{columns:2},E.a.createElement(w.Grid.Row,null,E.a.createElement(w.Grid.Column,{width:4},i),E.a.createElement(w.Grid.Column,{width:12},E.a.createElement(w.Item.Group,{divided:!0,className:"widgetsList"},this.state.filteredWidgetDefinitions.map((function(e){var t=this;return E.a.createElement(w.Item,{key:e.id,"data-id":e.id,onClick:function(){t._toggleWidgetInstall(e.id)}},E.a.createElement(w.Checkbox,{className:"addWidgetCheckbox",readOnly:!0,title:"Add widget to page",checked:this.state.widgetsToAdd.includes(e.id)}),E.a.createElement(w.Item.Image,{as:"div",size:"small",bordered:!0,src:o(e),onClick:function(n){return t._openThumbnailModal(n,e)}}),E.a.createElement(w.Item.Content,null,E.a.createElement(w.Item.Header,{as:"div"},e.name),E.a.createElement(w.Item.Meta,null,e.description),E.a.createElement(w.Item.Description,null),E.a.createElement(w.Item.Extra,null,e.isCustom&&this.props.canInstallWidgets&&E.a.createElement("div",null,E.a.createElement(N,{onWidgetInstalled:this._updateWidget.bind(this,e),trigger:a,buttonLabel:"Update Widget",className:"updateWidgetModal",header:"Update widget definition"}),E.a.createElement(w.Button,{floated:"left",size:"small",compact:!0,basic:!0,content:"Remove",onClick:function(n){return t._confirmRemove(n,e)},className:"removeWidgetButton"})))))}),this),_.isEmpty(this.state.filteredWidgetDefinitions)&&E.a.createElement(w.Item,{className:"alignCenter",content:"No widgets available"})),E.a.createElement(w.Button.Group,{widths:"2"},E.a.createElement(w.Button,{animated:"vertical",id:"addWidgetsBtn",onClick:function(){e._addWidgets()},color:"green",disabled:0===this.state.widgetsToAdd.length},E.a.createElement(w.Button.Content,{visible:!0},"Add selected widgets (",this.state.widgetsToAdd.length,")"),E.a.createElement(w.Button.Content,{hidden:!0},E.a.createElement(w.Icon,{name:"check"}))),this.props.canInstallWidgets&&E.a.createElement(N,{onWidgetInstalled:this.props.onWidgetInstalled,trigger:n,header:"Install new widget",buttonLabel:"Install Widget"}))))))),E.a.createElement(w.Confirm,{open:this.state.showConfirm,onCancel:function(){return e.setState({showConfirm:!1})},onConfirm:this._uninstallWidget.bind(this),header:"Are you sure to remove widget ".concat(this.state.widget.name,"?"),content:r,className:"removeWidgetConfirm"}),E.a.createElement(w.Modal,{open:this.state.showThumbnail,basic:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!0,onClose:this._closeThumbnailModal.bind(this)},E.a.createElement("div",null,E.a.createElement(w.Image,{centered:!0,src:o(this.state.thumbnailWidget)}))))}}],[{key:"generateCategories",value:function(e){var t=e.reduce((function(e,t){return(t.categories||[x.a.CATEGORY.OTHERS]).map((function(t){var n=e.findIndex((function(e){return e.name===t}));-1===n?e.push({name:t,count:1}):e[n].count++})),e}),[]);return _.sortBy(t,"name")}}]),t}(v.Component);m()(F,"initialState",(function(e){return{filteredWidgetDefinitions:e.widgetDefinitions,search:"",showConfirm:!1,widget:{},showThumbnail:!1,thumbnailWidget:{},usedByList:[],categories:F.generateCategories(e.widgetDefinitions),selectedCategory:x.a.CATEGORY.ALL}})),m()(F,"propTypes",{widgetDefinitions:f.a.array.isRequired,onWidgetAdded:f.a.func.isRequired,onWidgetInstalled:f.a.func.isRequired,onWidgetUninstalled:f.a.func.isRequired,onWidgetUpdated:f.a.func.isRequired,onWidgetUsed:f.a.func.isRequired});var q=n(14),z=0,G=Object(y.connect)((function(e,t){var n=e.widgetDefinitions.filter((function(t){return j.a.isUserAuthorized(t.permission,e.manager)&&j.a.isWidgetPermitted(t.supportedEditions,e.manager)})),a=j.a.isUserAuthorized(q.a.permissions.STAGE_INSTALL_WIDGETS,e.manager);return{widgetDefinitions:n,pageId:t.pageId,pageManagementMode:t.pageManagementMode,canInstallWidgets:a}}),(function(e,t){return{onWidgetAdded:function(n){t.pageManagementMode?e(Object(T.a)(t.pageId,n.name||"Widget_".concat(z++),n)):e(Object(P.a)(t.pageId,n.name||"Widget_".concat(z++),n))},onWidgetInstalled:function(t,n){return e(Object(P.f)(t,n))},onWidgetUninstalled:function(t){return e(Object(P.l)(t))},onWidgetUpdated:function(t,n,a){return e(Object(P.m)(t,n,a))},onWidgetUsed:function(t){return e(Object(P.c)(t))}}}))(F);n.d(t,"a",(function(){return B}));var B=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){var e,t,n=this;return this.props.pageManagementMode?this.props.pageManagementMode===q.a.PAGE_MANAGEMENT_EDIT?(e="Page management",t=E.a.createElement(w.Message.Content,{className:"alignCenter"},E.a.createElement(G,{className:"compactBlock",pageId:this.props.page.id,pageManagementMode:this.props.pageManagementMode}),E.a.createElement(w.Button,{basic:!0,content:"Save",icon:"save",onClick:function(){return n.props.onPageSave(n.props.page)}}),E.a.createElement(w.Button,{basic:!0,content:"Cancel",icon:"remove",onClick:this.props.onDismiss}))):(e="Page preview",t=E.a.createElement(w.Message.Content,{className:"alignCenter"},E.a.createElement(w.Button,{basic:!0,content:"Exit",icon:"sign out",onClick:this.props.onDismiss}))):(e="Edit mode",t=E.a.createElement(w.Message.Content,{className:"alignCenter"},E.a.createElement(G,{className:"compactBlock",pageId:this.props.page.id}),E.a.createElement(O,null),E.a.createElement(w.Button,{basic:!0,content:"Exit",icon:"sign out",onClick:this.props.onDismiss}))),E.a.createElement(w.Sidebar,{as:w.Message,animation:"overlay",direction:"bottom",visible:this.props.isVisible,className:"editModeSidebar"},E.a.createElement(w.Message,{color:"yellow",onDismiss:this.props.onDismiss},E.a.createElement(w.Message.Header,{className:"alignCenter",content:e}),t))}}]),t}(v.Component);m()(B,"propTypes",{page:f.a.object.isRequired,onDismiss:f.a.func.isRequired,isVisible:f.a.bool.isRequired,pageManagementMode:f.a.string,onPageSave:f.a.func})},336:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(1),o=n.n(i),s=n(0),l=n.n(s),c=n(21),u=n(64),p=n(315),d=n(259),h=n(93),m=n(35),g=n(1457),f=n(60),v=n(181),E=n(326),y=n(29),b=function(e){var t,n=e.nodeName,a=e.nodeType,i=(t={},r()(t,y.d.manager,"settings"),r()(t,y.d.db,"database"),r()(t,y.d.broker,"comments"),t)[a];return o.a.createElement(g.a,{floated:"left",style:{width:"auto",marginTop:"4px"},size:"medium"},o.a.createElement(h.a,{name:i}),n," Services Status")};b.propTypes={nodeName:l.a.string.isRequired,nodeType:l.a.oneOf(y.h).isRequired};var w=function(e){var t=e.name,n=e.description,a=e.isRemote;return o.a.createElement(g.a,{size:"tiny"},o.a.createElement(g.a.Content,null,t,"",a&&o.a.createElement(m.a,null,o.a.createElement(m.a.Trigger,null,o.a.createElement(h.a,{name:"external square"})),o.a.createElement(m.a.Content,null,"Remote")),n&&o.a.createElement(g.a.Subheader,null,n)))};w.propTypes={name:l.a.string.isRequired,description:l.a.string,isRemote:l.a.bool.isRequired},w.defaultProps={description:""};var C=function(e){var t=e.status,n=o.a.createElement(h.a,{name:"question",color:"grey"});return t===y.j.Active?n=o.a.createElement(h.a,{name:"checkmark",color:"green"}):t===y.j.Inactive&&(n=o.a.createElement(h.a,{name:"remove",color:"red"})),o.a.createElement(o.a.Fragment,null,n," ",t)};function O(e){var t=e.name,n=e.type,a=e.services,r=_(a).keys().sort().map((function(e){return{name:e,isRemote:a[e].is_remote,status:a[e].status,description:_.get(a[e],"extra_info.systemd.instances[0].Description",""),extraInfo:a[e].extra_info}})).value(),i=E.a.stringify(a,!0);return o.a.createElement(f.a,{celled:!0,basic:"very",collapsing:!0,className:"servicesData"},o.a.createElement(f.a.Header,null,o.a.createElement(f.a.Row,null,o.a.createElement(f.a.HeaderCell,{colSpan:2},o.a.createElement(b,{nodeName:t,nodeType:n})))),o.a.createElement(f.a.Body,null,_.map(r,(function(e){var t=e.description,n=e.isRemote,a=e.name,r=e.status;return o.a.createElement(f.a.Row,{key:a},o.a.createElement(f.a.Cell,{collapsing:!0},o.a.createElement(w,{name:a,description:t,isRemote:n})),o.a.createElement(f.a.Cell,{textAlign:"center"},o.a.createElement(C,{status:r})))}))),o.a.createElement(f.a.Footer,null,o.a.createElement(f.a.Row,null,o.a.createElement(f.a.HeaderCell,{colSpan:2},o.a.createElement(v.a,{className:"rightFloated",content:"Copy Raw Info",text:i})))))}C.propTypes={status:l.a.oneOf(y.k).isRequired};var P=l.a.objectOf(l.a.shape({is_remote:l.a.bool.isRequired,status:l.a.oneOf(y.k).isRequired,extra_info:l.a.object}));function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t,n=e.name,a=e.type,i=e.status,s=e.services,l=(t={},r()(t,y.a.OK,o.a.createElement(h.a,{name:"checkmark",color:"green",link:!0})),r()(t,y.a.Fail,o.a.createElement(h.a,{name:"remove",color:"red",link:!0})),t)[i];return o.a.createElement(m.a,{hoverable:!0},o.a.createElement(m.a.Trigger,null,o.a.createElement("span",null,l)),o.a.createElement(m.a.Content,null,o.a.createElement(O,{name:n,type:a,services:s})))}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}O.propTypes={name:l.a.string.isRequired,type:l.a.oneOf(y.h).isRequired,services:P},O.defaultProps={services:{}},k.propTypes=S({},O.propTypes,{status:l.a.oneOf(y.b).isRequired}),k.defaultProps=S({},O.defaultProps);var D=function(e){var t=e.ip,n=e.serviceName;return t&&n===y.d.manager?o.a.createElement("a",{href:"http://".concat(t),target:"_blank",rel:"noopener noreferrer"},t):t};function A(e){var t=e.services,n=e.toolbox;return o.a.createElement(u.a,{fetchData:n.refresh,noDataMessage:"There are no Cluster Services available.",noDataAvailable:_.isEmpty(t),selectable:!0},o.a.createElement(u.a.Column,{label:"Service Type",width:"20%"}),o.a.createElement(u.a.Column,{label:"Node Name",width:"25%"}),o.a.createElement(u.a.Column,{label:"Status",width:"5%"}),o.a.createElement(u.a.Column,{label:"Private IP",width:"15%"}),o.a.createElement(u.a.Column,{label:"Public IP / LB IP",width:"15%"}),o.a.createElement(u.a.Column,{label:"Version",width:"15%"}),o.a.createElement(u.a.Column,{label:"",width:"1%"}),_.map(t,(function(e,t){var n=_.size(e.nodes);return _(e.nodes).map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:t},e)})).sortBy("name").map((function(a,r){return o.a.createElement(u.a.Row,{key:"".concat(t,"_").concat(a.name,"_").concat(a.node_id)},0===r&&o.a.createElement(u.a.Data,{rowsSpan:n,style:{backgroundColor:Object(y.c)(e.status)}},o.a.createElement(d.a,{isExternal:e.is_external,name:t})),o.a.createElement(u.a.Data,null,a.name),o.a.createElement(u.a.Data,null,o.a.createElement(k,{name:a.name,type:t,status:a.status,services:a.services})),o.a.createElement(u.a.Data,null,a.private_ip),o.a.createElement(u.a.Data,null,o.a.createElement(D,{ip:a.public_ip,serviceName:t})),o.a.createElement(u.a.Data,null,a.version),o.a.createElement(u.a.Data,null,o.a.createElement(p.a,{selected:!0,id:a.node_id,buttonPosition:"right"})))})).value()})))}D.propTypes={ip:l.a.string,serviceName:l.a.string.isRequired},D.defaultProps={ip:""};var j=l.a.shape({status:l.a.oneOf(y.g).isRequired,nodes:l.a.objectOf(l.a.shape({status:l.a.oneOf(y.b).isRequired,public_ip:l.a.string,version:l.a.string.isRequired,node_id:l.a.string.isRequired,private_ip:l.a.string.isRequired,services:P})).isRequired,is_external:l.a.bool.isRequired}).isRequired;A.propTypes={services:l.a.shape(_.mapValues(y.d,(function(){return j}))).isRequired,toolbox:l.a.shape({refresh:l.a.func.isRequired}).isRequired};t.a=Object(c.connect)((function(e){return{services:_.get(e,"manager.clusterStatus.services",{})}}))(A)},337:function(e,t,n){"use strict";var a=n(13),r=n(56),i=n.n(r),o=n(5),s=n.n(o),l=n(6),c=n.n(l),u=n(19),p=function(){function e(t,n,a){s()(this,e),this._widget=t,this._toolbox=n,this._paramsHandler=a}return c()(e,[{key:"fetchByUrls",value:function(){var e=this,t=_.isString(this._widget.definition.fetchUrl)?[this._widget.definition.fetchUrl]:_.valuesIn(this._widget.definition.fetchUrl),n=_.map(t,(function(t){return e._fetchByUrl(t)}));return Promise.all(n).then((function(t){var n=t;if(_.isString(e._widget.definition.fetchUrl))n=t[0];else{n={};for(var a=_.keysIn(e._widget.definition.fetchUrl),r=0;r<t.length;r++)n[a[r]]=t[r]}return n}))}},{key:"_handleUrl",value:function(e,t){var n=t.substring(e.length),a={},r=this._getUrlRegExString("params").exec(n);if(!_.isNull(r)){var o=i()(r,2),s=o[0],l=o[1];a=this._paramsHandler.buildParamsToSend(l),n=_.replace(n,s,"")}return{url:n,params:a}}},{key:"_fetchByUrl",value:function(e){var t=this,n=_.replace(e,this._getUrlRegExString("config"),(function(e,n){return t._widget.configuration?t._widget.configuration[n]:"NA"}));if(e.indexOf("[manager]")>=0){var a=this._handleUrl("[manager]",e);return this._toolbox.getManager().doGet(a.url,a.params)}if(e.indexOf("[backend]")>=0){a=this._handleUrl("[backend]",e);return this._toolbox.getInternal().doGet(a.url,a.params)}return this._toolbox.getExternal().doGet(n)}},{key:"fetchByFunc",value:function(){if(!_.isFunction(this._widget.definition.fetchData))return Promise.reject({error:"Widget doesnt have a fetchData function"});try{return this._widget.definition.fetchData(this._widget,this._toolbox,this._paramsHandler.buildParamsToSend())}catch(e){return console.error("Error fetching widget data",e),Promise.reject({error:"Error fetching widget data"})}}},{key:"_getUrlRegExString",value:function(e){return new RegExp("\\[".concat(e,":?(.*)\\]"),"i")}}]),e}();function d(e,t,n){return function(r){var i;if(r((i=e.id,{type:a.wb,widgetId:i})),e.definition.fetchUrl||_.isFunction(e.definition.fetchData)){var o=new p(e,t,n),s=e.definition.fetchUrl?o.fetchByUrls():o.fetchByFunc(),l=u.a.makeCancelable(s),c=l.promise.then((function(t){return r(function(e,t){return{type:a.xb,widgetId:e,data:t,receivedAt:Date.now()}}(e.id,t)),t})).catch((function(t){throw t.isCanceled?(console.log("Widget '".concat(e.name,"' data fetch canceled")),r(function(e){return{type:a.ub,widgetId:e}}(e.id))):r(function(e,t){return{type:a.vb,widgetId:e,error:t}}(e.id,t)),t}));return{cancelablePromise:l,waitForPromise:c}}}}function h(){return{type:a.tb}}n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}))},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(7),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),w=n(442),C=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return null}}]),t}(y.Component);f()(C,"propTypes",{children:E.a.any});var O=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=this.props.trigger,n=this.props.children;return b.a.Children.forEach(this.props.children,(function(a){a&&a.type===C&&(t=a.props.children,n=_.without(e.children,a))})),b.a.createElement(w.a,r()({},this.props,{trigger:t}),n)}}]),t}(y.Component);f()(O,"Trigger",C),f()(O,"Content",w.a.Content),f()(O,"Header",w.a.Header)},39:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return y})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return w})),n.d(t,"a",(function(){return C})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return P})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return S})),n.d(t,"l",(function(){return k}));var a=n(24),r=n.n(a),i=n(26),o=n(213),s=n(13),l=n(67),c=n(214),u=(n(59),n(53)),p=n(337),d=n(32),h=n(14);function m(e,t){return{type:s.b,name:e,newPageId:t}}function g(e,t){return{type:s.k,newPageId:e,name:t}}function f(e){return _.keyBy(e,"id")}function v(e,t){var n=_.snakeCase(e),a=1;return _.each(t,(function(e){if(e.id.startsWith(n)){var t=parseInt(e.id.substring(n.length),10)||a;a=Math.max(t+1,a+1)}})),a>1&&(n+=a),n}function E(e,t){return{type:s.K,pageId:e.id,name:t}}function y(e,t){return{type:s.h,pageId:e,description:t}}function b(e,t,n,a){return function(s,c){var u={pathname:"/page/".concat(e)},d=c().drilldownContext||[];s(Object(p.a)()),t?(_.isEmpty(a)||(u.pathname+="/".concat(a)),(a||n)&&(d=[].concat(r()(d),[{context:n||{},pageName:a}])),u.search=Object(o.stringify)({c:JSON.stringify(d)})):s(Object(l.a)()),s(Object(i.push)(u))}}function w(e){return b(_.snakeCase(e),!1)}function C(e){return function(t,n){var a=v(e,n().pages);t(m(e,a)),t(b(a,!1))}}function O(e){return function(t,n){var a=f(n().pages);!function e(n){var r;_.isEmpty(n.children)||n.children.forEach((function(t){e(a[t])})),t((r=n.id,{type:s.G,pageId:r}))}(e)}}function P(){return function(e,t){var n=t().manager,a=_.get(n,"tenants.selected",h.a.DEFAULT_ALL);return new d.a(n).doGet("/templates/select",{tenant:a}).then((function(n){console.log("Selected template id",n);var a=t().templates,r=t().widgetDefinitions,i=a.templatesDef[n].pages;console.log("Create pages from selected template",i),_.each(i,(function(n){var i=a.pagesDef[n];if(i){var o=v(i.name,t().pages);e(m(i.name,o)),_.each(i.widgets,(function(t){var n=_.find(r,{id:t.definition});e(Object(u.a)(o,t.name,n,t.width,t.height,t.x,t.y,t.configuration))}))}else console.error("Cannot find page template: ".concat(n,". Skipping... "))}))}))}}function T(e,t){return{type:s.M,pageIndex:e,newPageIndex:t}}function S(){return function(e,t){e(b(t().pages[0].id))}}function k(){return function(e,t){var n=t(),a=n.app.currentPageId||n.pages[0].id,r=_.find(n.pages,{id:a});if(r&&r.parent){var i=_.find(n.pages,{id:r.parent});e(Object(c.a)()),e(b(i.id,i.isDrillDown))}}}},40:function(e,t,n){"use strict";n.d(t,"k",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"t",(function(){return f})),n.d(t,"h",(function(){return v})),n.d(t,"q",(function(){return E})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return w})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return O})),n.d(t,"s",(function(){return P})),n.d(t,"r",(function(){return T})),n.d(t,"n",(function(){return S})),n.d(t,"m",(function(){return k})),n.d(t,"j",(function(){return I})),n.d(t,"o",(function(){return D})),n.d(t,"p",(function(){return A})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return R})),n.d(t,"l",(function(){return N})),n.d(t,"i",(function(){return x}));var a=n(2),r=n.n(a),i=n(26),o=n(13),s=n(102),l=n(32);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){return{type:o.pb}}function d(e){return{type:o.nb,error:e,receivedAt:Date.now()}}function h(){return function(e,t){var n=t(),a=new l.a(n.manager),r=n.templates,i=n.templateManagement;return Promise.all([a.doGet("/templates"),a.doGet("/templates/pages")]).then((function(t){var n=_.find(i.templates,{selected:!0}),a=_.find(i.pages,{selected:!0}),s=t[0],l=t[1],c=_.map(s,(function(e){return u({},e,{pages:r.templatesDef[e.id].pages})}));n&&((_.find(c,{id:n.id})||{}).selected=!0);var p=_.map(l,(function(e){return u({},e,{name:(r.pagesDef[e.id]||{}).name,templates:_.map(_.filter(c,(function(t){return _.indexOf(t.pages,e.id)>=0})),"id")})}));return a&&((_.find(p,{id:a.id})||{}).selected=!0),e(function(e,t){return{type:o.ob,templates:e,pages:t}}(c,p))})).catch((function(t){return e(d(t.message))}))}}function m(){return function(e){e(p()),e(h()).catch((function(t){return e(d(t.message))}))}}function g(e){return function(t,n){return new l.a(n().manager).doPost("/templates",{},e).then((function(){return t(Object(s.b)(e.id,e.pages))})).then((function(){return t(h())})).catch((function(e){return t(d(e.message))}))}}function f(e){return function(t,n){return new l.a(n().manager).doPut("/templates",{},e).then((function(){t(Object(s.c)(e.id,e.pages)),e.oldId&&e.oldId!==e.id&&t(Object(s.f)(e.oldId))})).then((function(){return t(h())})).catch((function(e){return t(d(e.message))}))}}function v(e){return function(t,n){return t(p()),new l.a(n().manager).doDelete("/templates/".concat(e)).then((function(){return t(Object(s.f)(e))})).then((function(){return t(h())})).catch((function(e){return t(d(e.message))}))}}function E(e){return{type:o.qb,templateId:e}}function y(e,t){var n=_.keysIn(t),a=_.snakeCase(e.trim()),r=1;return _.each(n,(function(e){if(e.startsWith(a)){var t=parseInt(e.substring(a.length))||r;r=Math.max(t+1,r+1)}})),r>1&&(a+=r),a}function b(e){return function(t,n){var a=y(e,n().templates.pagesDef),r={id:a,name:e,widgets:[]};return new l.a(n().manager).doPost("/templates/pages",{},r).then((function(){return t(Object(s.a)(r.id,r.name,r.widgets))})).then((function(){return t(h())})).then((function(){return t(T(a,e,!0))})).catch((function(e){return t(d(e.message))}))}}function w(e){return function(t,n){return t(p()),new l.a(n().manager).doDelete("/templates/pages/".concat(e)).then((function(){return t(Object(s.e)(e))})).then((function(){return t(h())})).catch((function(e){return t(d(e.message))}))}}function C(e,t,n,a,r,i,s,l){return{type:o.u,pageId:e,name:t,widgetDefinition:n,width:a,height:r,x:i,y:s,configuration:l}}function O(e,t){return{type:o.w,widgetId:e,gridData:t}}function P(e){return function(t,n){t(function(e,t){return{type:o.v,pageId:e,pageName:t}}(y(e,n().templates.pagesDef),e))}}function T(e,t,n){return function(a,r){a(function(e,t,n){return{type:o.E,pageId:e,pageName:t,isPageEditMode:n}}(e,t,n));var s=r().templates.pagesDef,l=r().widgetDefinitions,c=s[e],u=[];_.each(c.widgets,(function(t,n){var r=_.find(l,{id:t.definition});try{a(C(e,t.name,r,t.width,t.height,t.x,t.y,t.configuration))}catch(e){var i="".concat(n+1," (").concat(t.name||"Unknown name",")");console.error("Error occurred when adding widget - ".concat(i," - to page."),e),u.push(i)}})),a(Object(i.push)("/page_management")),_.isEmpty(u)||a(d("Page template contains invalid widgets definitions: ".concat(_.join(u,", "))))}}function S(e,t,n){return{type:o.C,pageId:e,widgetId:t,name:n}}function k(e){return{type:o.B,widgetId:e}}function I(e,t,n){return{type:o.z,pageId:e,widgetId:t,configuration:n}}function D(e){return function(t){t(function(e){return function(t,n){var a=e.widgets.map((function(e){return{name:e.name,definition:e.definition.id,width:e.width,height:e.height,x:e.x,y:e.y,configuration:e.configuration}})),r={id:e.id,oldId:e.oldId,name:e.name,widgets:a};return new l.a(n().manager).doPut("/templates/pages",{},r).then((function(){t(Object(s.e)(e.id)),e.oldId&&e.oldId!==e.id&&t(Object(s.e)(e.oldId))})).then((function(){return t(Object(s.a)(e.id,e.name,r.widgets))})).catch((function(e){return t(d(e.message))}))}}(e)).then((function(){return t(Object(i.push)("/template_management"))}))}}function A(e){return{type:o.D,pageId:e}}function j(){return{type:o.mb}}function R(){return{type:o.x}}function N(e,t,n){return{type:o.A,pageId:e,widgetId:t,maximized:n}}function x(e){return{type:o.y,show:e}}},432:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=(n(853),n(1026),n(236),n(277),n(515),n(1030),n(1031),n(1033),n(1038),n(1053),n(1055),n(1057),n(1059),n(1062),n(1)),l=n.n(s),c=n(61),u=n.n(c),p=n(0),d=n.n(p),h=n(68),m=n(21),g=n(78),f=n(26),v=n(1456),E=n(825),y=n(151),b=n(816),_=n(101),w=n(14),C=n(154),O=n(184),P=n(187),T=n(260),S=n(824);window.$=e;var k=Object(g.a)({basename:w.a.CONTEXT_PATH}),I=function(){function e(){r()(this,e)}return o()(e,null,[{key:"load",value:function(){return window.React=l.a,window.ReactDOM=u.a,window.PropTypes=d.a,window.L=h,window.connectToStore=m.connect,window.onerror=function(e,t,n,a,r){_.a.trigger("window:error",e,t,n,a,r)},P.a.init(),b.a.load().then((function(e){var t=Object(E.a)(k,e);return Object(y.a)(t),C.a.create(t),O.a.create(t),T.a.create(t),t}))}},{key:"start",value:function(e){u.a.render(l.a.createElement(m.Provider,{store:e},l.a.createElement(f.ConnectedRouter,{history:k},l.a.createElement(v.a,null,l.a.createElement(S.a,null)))),document.getElementById("app"))}}]),e}()}).call(this,n(43))},434:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(56),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(32),u=n(14),p=function(){function e(){o()(this,e)}return l()(e,null,[{key:"load",value:function(e){console.log("Load tours");var t=_.get(e,"tenants.selected",u.a.DEFAULT_ALL);return new c.a(e).doGet("/tours",{tenant:t}).then((function(e){return e}))}},{key:"parseTour",value:function(e){var t=_.omit(_.cloneDeep(e),["name","startAt"]);return t.onClose=["onTourClose"],t.onStart=["onTourStart"],t.onError=["showError"],t.skipIfNoElement=!1,t.steps=_.map(t.steps,(function(e,n){if(!_.isUndefined(e.onNextRedirectTo)){var a=t.steps[n+1];if(!_.isUndefined(a)){var i=_.isArray(e.onNextRedirectTo)?e.onNextRedirectTo:[e.onNextRedirectTo,e.onNextRedirectTo,void 0,void 0],o=r()(i,4),s=o[0],l=o[1],c=o[2],u=o[3];e.showCTAButton=!0,e.ctaLabel="Next (change page)",e.onCTA=["redirectTo",s,l,a.target,c,u],e.showNextButton=!1}e=_.omit(e,"onNextRedirectTo")}return e})),t}}]),e}()},440:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var a=n(24),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),w=n(14),C=n(3),O=function(t){function n(e,t){var a;return o()(this,n),(a=u()(this,d()(n).call(this,e,t))).state=n.initialState(!1,e),a}return m()(n,t),l()(n,[{key:"componentDidUpdate",value:function(){var t=this;e("#reorderList").hasClass("ui-sortable")||e("#reorderList").sortable({placeholder:"ui-sortable-placeholder",helper:"clone",handle:".handle",forcePlaceholderSize:!0,start:function(e,n){return t.pageIndex=n.item.index()},update:function(e,n){return t._reorderPage(t.pageIndex,n.item.index())}})}},{key:"_openModal",value:function(){this.setState(n.initialState(!0,this.props))}},{key:"_reorderPage",value:function(e,t){var n=this.state.pages,a=n.splice(e,1)[0];n.splice(t,0,a),this.setState({pages:n})}},{key:"_submitCreate",value:function(){var e=this,t={};if(_.isEmpty(_.trim(this.state.templateName))&&(t.templateName="Please provide correct template name"),_.isEmpty(this.state.roles)&&(t.roles="Please select role"),_.isEmpty(this.state.tenants)&&(t.tenants="Please select tenant"),_.isEmpty(this.state.pages)&&(t.pages="Please select page"),!_.isEmpty(t))return this.setState({errors:t}),!1;this.setState({loading:!0}),this.props.onCreateTemplate(_.trim(this.state.templateName),this.state.roles,this.state.tenants,this.state.pages).then((function(){e.setState({errors:{},loading:!1,open:!1})})).catch((function(t){e.setState({errors:{error:t.message},loading:!1})}))}},{key:"_handleInputChange",value:function(e,t){if("tenants"===t.name){var n=_.indexOf(this.state.tenants,w.a.DEFAULT_ALL)>=0,a=_.indexOf(t.value,w.a.DEFAULT_ALL)>=0;n?_.pull(t.value,w.a.DEFAULT_ALL):a&&(t.value=[w.a.DEFAULT_ALL])}this.setState(C.Form.fieldNameValue(t))}},{key:"_addPage",value:function(t){var n=_.without(this.state.availablePages,t),a=[].concat(r()(this.state.pages),[t]);this.setState({pages:a,availablePages:n},(function(){e("#reorderList").sortable("refresh")}))}},{key:"_removePage",value:function(t){var n=[].concat(r()(this.state.availablePages),[t]),a=_.without(this.state.pages,t);this.setState({pages:a,availablePages:n},(function(){e("#reorderList").sortable("refresh")}))}},{key:"render",value:function(){var e=this,t=_.map(this.props.availableTenants.items,(function(e){return{text:e.name,value:e.name}}));t.push({text:"All tenants",value:w.a.DEFAULT_ALL});var n=this.props.availableRoles,a=!_.isEmpty(this.props.templateName),r=a?b.a.createElement(C.Icon,{name:"edit",link:!0,className:"updateTemplateIcon",onClick:function(e){return e.stopPropagation()}}):b.a.createElement(C.Button,{content:"Create template",icon:"list layout",labelPosition:"left",className:"createTemplateButton"});return b.a.createElement(C.Modal,{trigger:r,open:this.state.open,onOpen:this._openModal.bind(this),onClose:function(){return e.setState({open:!1})},className:"createTemplateModal"},b.a.createElement(C.Modal.Header,null,b.a.createElement(C.Icon,{name:"list layout"})," ",a?b.a.createElement("span",null,"Update template ",this.props.templateName):b.a.createElement("span",null,"Create template")),b.a.createElement(C.Modal.Content,null,b.a.createElement(C.Form,{loading:this.state.loading,errors:this.state.errors,onErrorsDismiss:function(){return e.setState({errors:{}})}},b.a.createElement(C.Form.Field,{error:this.state.errors.templateName},b.a.createElement(C.Form.Input,{name:"templateName",placeholder:"Template name",value:this.state.templateName,onChange:this._handleInputChange.bind(this)})),b.a.createElement(C.Form.Field,{error:this.state.errors.roles},b.a.createElement(C.Form.Dropdown,{placeholder:"Roles",multiple:!0,selection:!0,options:n,name:"roles",value:this.state.roles,onChange:this._handleInputChange.bind(this)})),b.a.createElement(C.Form.Field,{error:this.state.errors.tenants},b.a.createElement(C.Form.Dropdown,{placeholder:"Tenants",multiple:!0,selection:!0,options:t,name:"tenants",value:this.state.tenants,onChange:this._handleInputChange.bind(this)})),b.a.createElement(C.Segment.Group,{horizontal:!0},b.a.createElement(C.Segment,{style:{width:"50%"}},b.a.createElement(C.Icon,{name:"plus"})," Available pages",b.a.createElement(C.Divider,null),b.a.createElement(C.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light"},this.state.availablePages.map((function(t){return b.a.createElement(C.List.Item,{key:t},t,b.a.createElement(C.Icon,{link:!0,name:"add",className:"right floated",onClick:e._addPage.bind(e,t),title:"Add page"}))})),_.isEmpty(this.state.availablePages)&&b.a.createElement(C.Message,{content:"No pages available"}))),b.a.createElement(C.Segment,{style:{width:"50%"}},b.a.createElement(C.Icon,{name:"block layout"})," Selected pages",b.a.createElement(C.Divider,null),b.a.createElement(C.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light",id:"reorderList"},this.state.pages.map((function(t){return b.a.createElement(C.List.Item,{key:t},t,b.a.createElement("span",{className:"right floated actionIcons"},b.a.createElement(C.Icon,{link:!0,name:"minus",onClick:e._removePage.bind(e,t),title:"Remove page"}),b.a.createElement(C.Icon,{link:!0,name:"move",className:"handle",title:"Reorder page"})))})),_.isEmpty(this.state.pages)&&b.a.createElement(C.Message,{content:"No pages selected"})))))),b.a.createElement(C.Modal.Actions,null,b.a.createElement(C.CancelButton,{onClick:function(){return e.setState({open:!1})},disabled:this.state.loading}),b.a.createElement(C.ApproveButton,{onClick:this._submitCreate.bind(this),disabled:this.state.loading,content:a?"Update":"Create",icon:a?"edit":"checkmark",color:"green"})))}}]),n}(y.Component);f()(O,"initialState",(function(e,t){var n=_.map(t.availablePages,(function(e){return e.id}));return n=_.difference(n,t.pages),{open:e,loading:!1,templateName:t.templateName,tenants:t.tenants,roles:t.roles,availablePages:n,pages:t.pages,errors:{}}})),f()(O,"propTypes",{availableTenants:E.a.object,availablePages:E.a.array,availableRoles:E.a.array,templateName:E.a.string,pages:E.a.array,roles:E.a.array,tenants:E.a.array,onCreateTemplate:E.a.func.isRequired}),f()(O,"defaultProps",{templateName:"",pages:[],roles:[],tenants:[w.a.DEFAULT_ALL],availablePages:[],availableRoles:[]})}).call(this,n(43))},53:function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"l",(function(){return E})),n.d(t,"m",(function(){return y})),n.d(t,"c",(function(){return b}));var a=n(13),r=n(39),i=n(40),o=n(187),s=n(32);function l(){return function(e,t){return o.a.load(t().manager).then((function(t){return e((n=t,{type:a.lb,widgetDefinitions:n}));var n}))}}function c(e,t,n,r,i,o,s,l){return{type:a.e,pageId:e,name:t,widgetDefinition:n,width:r,height:i,x:o,y:s,configuration:l}}function u(e,t,n){return{type:a.L,pageId:e,widgetId:t,name:n}}function p(e,t){return{type:a.J,pageId:e,widgetId:t}}function d(e,t,n){return{type:a.m,pageId:e,widgetId:t,configuration:n}}function h(e,t,n){return{type:a.s,pageId:e,widgetId:t,maximized:n}}function m(){return{type:a.t}}function g(e,t,n){return{type:a.i,pageId:e,widgetId:t,gridData:n}}function f(e,t,n,o,s){return function(l,u){var p=_.get(u().templateManagement,"isPageEditMode");if(!_.isUndefined(p))return l(Object(i.i)(!0));var d,h,m,g=e.drillDownPages[t.name];if(!g){var f=_.replace(window.location.pathname,/.*\/page\//,""),v=_.snakeCase("".concat(f," ").concat(t.name));!!_.find(u().pages,{id:v})||(l(Object(r.d)(v,t.name)),_.each(t.widgets,(function(e){var t=_.find(n,{id:e.definition});l(c(v,e.name,t,e.width,e.height,e.x,e.y,e.configuration))}))),l((d=e.id,h=t.name,m=v,{type:a.a,widgetId:d,drillDownPageId:m,drillDownName:h})),g=v}l(Object(r.j)(g,!0,o,s))}}function v(e,t){return function(n,r){return o.a.install(e,t,r().manager).then((function(e){return n(function(e){return{type:a.q,widgetDefinitions:e}}(e))}))}}function E(e){return function(t,n){return o.a.uninstall(e,n().manager).then((function(){return t(function(e){return{type:a.rb,widgetId:e}}(e))}))}}function y(e,t,n){return function(r,i){return o.a.update(e,t,n,i().manager).then((function(t){return r(function(e,t){return{type:a.sb,widgetDefinitions:e,widgetId:t}}(t,e))}))}}function b(e){return function(t,n){return new s.a(n().manager).doGet("/widgets/".concat(e,"/used"))}}},54:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return B}));var a=n(7),r=n.n(a),i=n(113),o=n.n(i),s=n(5),l=n.n(s),c=n(6),u=n.n(c),p=n(9),d=n.n(p),h=n(8),m=n.n(h),g=n(10),f=n.n(g),v=n(2),E=n.n(v),y=n(0),b=n.n(y),w=n(1),C=n.n(w),O=n(61),P=n.n(O),T=n(191),S=n(1452),k=n(156),I=n(212),D=n(790),A=n(791),j=n(792),R=n(793),N=n(329),x=n(794),M=n(795),L=n(798),U=n(210),F=n(799),q=n(800),z=n(802);n(736);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var B=function(t){function n(e){var t;return l()(this,n),(t=d()(this,m()(n).call(this,e))).submitFormBtnRef=C.a.createRef(),t}return f()(n,t),u()(n,[{key:"componentDidUpdate",value:function(e){if(this.props.scrollToError&&!_.isEmpty(this.props.errors)&&!_.isEqual(e.errors,this.props.errors)){var t=P.a.findDOMNode(this);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}}},{key:"submit",value:function(){e(this.submitFormBtnRef.current).click()}},{key:"_handleSubmit",value:function(e,t){return e.preventDefault(),this.props.onSubmit&&this.props.onSubmit(t.formData),!1}},{key:"render",value:function(){var e=this.props,t=e.errors,n=e.errorMessageHeader,a=e.onErrorsDismiss,i=(e.scrollToError,o()(e,["errors","errorMessageHeader","onErrorsDismiss","scrollToError"]));return _.isString(t)?t=[t]:_.isObject(t)&&(t=_.valuesIn(t)),C.a.createElement(T.a,r()({},i,{onSubmit:this._handleSubmit.bind(this),error:!_.isEmpty(t)}),C.a.createElement(I.a,{header:n,error:t,onDismiss:a}),this.props.children,C.a.createElement("input",{type:"submit",name:"submitFormBtn",style:{display:"none"},ref:this.submitFormBtnRef}))}}],[{key:"fieldNameValue",value:function(e){var t,n=e.name,a=e.value;if("checkbox"===e.type&&(a=e.checked),"number"===e.type){t=e.value,a=Number(t)%1!=0?parseFloat(e.value):parseInt(e.value)}if(_.isEmpty(n))throw console.error("Required name attribute is not provided!",e),"Required name attribute is not provided!";return E()({},n,a)}}]),n}(w.Component);E()(B,"Field",D.a),E()(B,"Group",j.a),E()(B,"Divider",R.a),E()(B,"Input",T.a.Input),E()(B,"TextArea",T.a.TextArea),E()(B,"Radio",S.a),E()(B,"Checkbox",A.a),E()(B,"File",N.a),E()(B,"UrlOrFile",x.a),E()(B,"Dropdown",U.a),E()(B,"InputDate",M.a),E()(B,"InputTime",L.a),E()(B,"Button",k.a),E()(B,"Table",F.a),E()(B,"ColorPicker",q.a),E()(B,"Json",z.a),E()(B,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},B.propTypes,{errors:b.a.any,errorMessageHeader:b.a.string,onSubmit:b.a.func,onErrorsDismiss:b.a.func,scrollToError:b.a.bool})),E()(B,"defaultProps",{errors:null,errorMessageHeader:"Errors in the form",onSubmit:function(){},onErrorsDismiss:function(){},scrollToError:!1})}).call(this,n(43))},59:function(e,t,n){"use strict";var a=n(13),r=n(102),i=n(216),o=n(53),s=n(257),l=n(32);function c(e){return{type:a.W,config:e,receivedAt:Date.now()}}var u=n(147),p=n(70),d=n(100),h=n(152);function m(e){return{type:a.V,isLoading:e}}function g(e){return{type:a.U,error:e}}function f(){return function(e,t){e(m(!0));var n=t();return e(Object(s.b)(n.manager)).then((function(){if(0===t().manager.tenants.items.length)return console.log("User is not attached to any tenant, cannot login"),e(m(!1)),Promise.reject(h.b)})).then((function(){return e(Object(p.e)())})).then((function(){return Promise.all([e(Object(r.d)()),e(Object(i.a)()),e(Object(o.g)()),e((function(e,t){return new l.a(t().manager).doGet("/clientConfig").then((function(t){return e(c(t.config))}))})),e(Object(d.a)()),e(Object(p.c)())])})).then((function(){return e(Object(u.a)())})).then((function(){e(m(!1)),e(g(null))})).catch((function(t){return console.error("Error initializing user data. Cannot load page",t),e(m(!1)),Promise.reject(t)}))}}function v(e){return{type:a.hb,pageId:e}}function E(){return{type:a.f}}n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return E}))},64:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(191),b=n(226),w=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement(y.a.Field,{className:"actionField"},this.props.children)}}]),t}(v.Component);m()(w,"propTypes",{children:f.a.any.isRequired});var C=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_onClick",value:function(){this.props.name&&this.context.sortColumn(this.props.name)}},{key:"_className",value:function(){var e=this.props.name?"":"disabled";return this.context.getSortColumn()===this.props.name&&(e+=" sorted",e+=this.context.isSortAscending()?" ascending":" descending "),this.props.centerAligned&&(e+=" center aligned"),e}},{key:"render",value:function(){return this.props.show?E.a.createElement("th",{className:this._className(),style:this.props.width?{width:this.props.width}:{},onClick:this._onClick.bind(this)},this.props.label):null}}]),t}(v.Component);m()(C,"propTypes",{label:f.a.any,name:f.a.string,width:f.a.string,show:f.a.bool,centerAligned:f.a.bool}),m()(C,"defaultProps",{width:"",show:!0,centerAligned:!1}),m()(C,"contextTypes",{getSortColumn:f.a.func.isRequired,isSortAscending:f.a.func.isRequired,sortColumn:f.a.func.isRequired});var O=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement("td",{rowSpan:this.props.rowsSpan,className:this.props.className,style:this.props.style},this.props.children)}}]),t}(v.Component);m()(O,"propTypes",{children:f.a.any.isRequired,className:f.a.string,rowsSpan:f.a.number,style:f.a.object}),m()(O,"defaultProps",{className:"",rowsSpan:1,style:{}});var P=n(185),T=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement("tr",{className:"active"},E.a.createElement("td",{className:this.props.className,colSpan:this.props.numberOfColumns},E.a.createElement(P.TransitionGroup,null,E.a.createElement(P.CSSTransition,{classNames:"dataExpandable",appear:!0,enter:!0,timeout:{enter:500,exit:500},exit:!1},this.props.children))))}}]),t}(v.Component);m()(T,"propTypes",{children:f.a.any.isRequired,className:f.a.string,numberOfColumns:f.a.number}),m()(T,"defaultProps",{numberOfColumns:0});var S=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement(y.a.Field,{className:this.props.className},this.props.children)}}]),t}(v.Component);m()(S,"propTypes",{children:f.a.any.isRequired,className:f.a.string});var k=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_showData",value:function(e){return!(e<this.props.showCols.length)||this.props.showCols[e]}},{key:"render",value:function(){var e=this,t=this.props.className+(_.isFunction(this.props.onClick)?" clickable":"")+(this.props.selected?" active":""),n=[],a=0;return E.a.Children.forEach(this.props.children,(function(t){t&&t.type===O&&e._showData(a++)&&n.push(t)})),E.a.createElement("tr",{id:this.props.id,className:t,onClick:this.props.onClick,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut},n)}}]),t}(v.Component);m()(k,"propTypes",{children:f.a.any.isRequired,selected:f.a.bool,onClick:f.a.func,showCols:f.a.array,className:f.a.string}),m()(k,"defaultProps",{selected:!1,showCols:[],className:""});var I=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return{}}}]),t}(v.Component);m()(I,"propTypes",{children:f.a.any.isRequired,expanded:f.a.bool}),m()(I,"defaultProps",{expanded:!1});var D=n(325);n.d(t,"a",(function(){return A}));var A=function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).paginationRef=E.a.createRef(),a.state={sortColumn:e.sortColumn,sortAscending:e.sortAscending,searchText:"",searching:!1},a.debouncedSearch=_.debounce((function(){a.paginationRef.current.reset((function(){return Promise.resolve(a._fetchData()).then((function(){return a.setState({searching:!1})}))}))}),300,{maxWait:2e3}),a}return d()(t,e),o()(t,[{key:"getChildContext",value:function(){var e=this;return{getSortColumn:function(){return e.state.sortColumn},isSortAscending:function(){return e.state.sortAscending},sortColumn:function(t){return e._sortColumn(t)}}}},{key:"_sortColumn",value:function(e){var t=this,n=this.state.sortAscending,a={sortColumn:e,sortAscending:n=this.state.sortColumn!==e||!n,currentPage:1};this.setState(a,(function(){t.paginationRef.current.reset(t._fetchData.bind(t))}))}},{key:"componentDidUpdate",value:function(e){var t={};e.sortColumn!==this.props.sortColumn&&(t.sortColumn=this.props.sortColumn),e.sortAscending!==this.props.sortAscending&&(t.sortAscending=this.props.sortAscending),_.isEmpty(t)||this.setState(t)}},{key:"_fetchData",value:function(){return this.props.fetchData({gridParams:{_search:this.state.searchText,currentPage:this.paginationRef.current.state.currentPage,pageSize:this.paginationRef.current.state.pageSize,sortColumn:this.state.sortColumn,sortAscending:this.state.sortAscending}})}},{key:"render",value:function(){var e=this,t=[],n=[],a=null,r=[],i=[];return E.a.Children.forEach(this.props.children,(function(e){if(e)if(e.type===C)i.push(e.props.show),t.push(e);else if(e.type===k)n.push(E.a.cloneElement(e,{showCols:i}));else if(e.type===I){var o=[];E.a.Children.forEach(e.props.children,(function(t){t&&(t.type===k?n.push(E.a.cloneElement(t,{showCols:i})):t.type===T&&e.props.expanded&&o.push(E.a.cloneElement(t,{numberOfColumns:i.length})))})),n.push(o)}else e.type===w?a=e:e.type===S&&r.push(e)})),E.a.createElement("div",{className:"gridTable ".concat(this.props.className)},(this.props.searchable||!_.isEmpty(r)||a)&&E.a.createElement(y.a,{size:"small",as:"div"},E.a.createElement(y.a.Group,{inline:!0},this.props.searchable&&E.a.createElement(D.a,{search:this.state.searchText,searching:this.state.searching,onSearch:function(t){return e.setState({searchText:t,searching:!0},e.debouncedSearch)}}),r,a)),E.a.createElement(b.a,{totalSize:this.props.totalSize,pageSize:this.props.pageSize,sizeMultiplier:this.props.sizeMultiplier,fetchSize:this.props.fetchSize,fetchData:this._fetchData.bind(this),ref:this.paginationRef},E.a.createElement("table",{className:"ui very compact table sortable ".concat(this.props.selectable?"selectable":""," ").concat(this.props.className),cellSpacing:"0",cellPadding:"0"},E.a.createElement("thead",null,E.a.createElement("tr",null,t)),this.props.noDataAvailable||this.props.totalSize<=0&&this.props.fetchSize<=0&&(0===this.props.totalSize||0===this.props.fetchSize)?E.a.createElement("tbody",null,E.a.createElement("tr",{className:"noDataRow"},E.a.createElement("td",{colSpan:t.length,className:"center aligned"},0===this.props.fetchSize&&this.paginationRef.current&&this.paginationRef.current.state.currentPage>1?E.a.createElement("span",null,"No more data available"):E.a.createElement("span",null,this.props.noDataMessage)))):E.a.createElement("tbody",null,n))))}}]),t}(v.Component);m()(A,"Row",k),m()(A,"Column",C),m()(A,"Data",O),m()(A,"Action",w),m()(A,"Filter",S),m()(A,"RowExpandable",I),m()(A,"DataExpandable",T),m()(A,"propTypes",{children:f.a.any.isRequired,fetchData:f.a.func,totalSize:f.a.number,fetchSize:f.a.number,pageSize:f.a.number,sortColumn:f.a.string,sortAscending:f.a.bool,searchable:f.a.bool,selectable:f.a.bool,className:f.a.string,noDataAvailable:f.a.bool,sizeMultiplier:f.a.number,noDataMessage:f.a.string}),m()(A,"defaultProps",{fetchData:function(){return Promise.resolve()},totalSize:-1,fetchSize:-1,pageSize:0,sortColumn:"",sortAscending:!0,searchable:!1,selectable:!1,className:"",noDataAvailable:!1,sizeMultiplier:5,noDataMessage:"No data available"}),m()(A,"childContextTypes",{getSortColumn:f.a.func,isSortAscending:f.a.func,sortColumn:f.a.func})},67:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(13);function r(e,t){return{type:a.Z,key:e,value:t}}function i(){return{type:a.j}}},70:function(e,t,n){"use strict";var a=n(24),r=n.n(a),i=n(26),o=n(13),s=n(116),l=n(14),c=n(77),u=n(74),p=n(67),d=n(321);function h(e,t){return{type:o.o,username:e,error:t,receivedAt:Date.now()}}function m(e,t,n){return function(a,r){return a({type:o.O}),s.a.login(e,t).then((function(t){var n,r=t.role,i=t.version,s=t.license,l=t.rbac;a(function(e,t,n){return{type:o.Q,username:e,role:t,licenseRequired:n,receivedAt:Date.now()}}(e,r,!_.isNull(s))),a(function(e){return{type:o.eb,version:e}}(i)),a(Object(d.a)(s)),a((n=l,{type:o.ib,roles:n.roles,permissions:n.permissions}))})).then((function(){n?window.location=n:a(Object(i.push)(l.a.HOME_PAGE_PATH))})).catch((function(t){console.log(t),403===t.status?(a(h(e)),a(Object(i.push)({pathname:l.a.ERROR_NO_TENANTS_PAGE_PATH,search:n?"?redirect=".concat(n):""}))):a(h(e,t))}))}}function g(){return function(e,t){return s.a.getUserData(t().manager).then((function(t){var n,a,r,i;e((n=t.username,a=t.role,r=t.groupSystemRoles,i=t.tenantsRoles,{type:o.gb,username:n,role:a,groupSystemRoles:r,tenantsRoles:i}))}))}}function f(){return function(e,t){new c.a(t().manager).doGet("/ldap").then((function(t){return e((n="enabled"===t,{type:o.bb,isLdap:n}));var n}))}}function v(e,t){return function(n,a){var r=function(){n(Object(i.push)(t||(e?l.a.ERROR_PAGE_PATH:l.a.LOGOUT_PAGE_PATH))),n(Object(p.a)()),n(function(e){return{type:o.r,error:e,receivedAt:Date.now()}}(e))};return s.a.logout(a().manager).then(r,r)}}function E(e){return{type:o.cb,maintenance:e,receivedAt:Date.now()}}function y(e){var t=new c.a(e);return function(e){return t.doGet("/maintenance").then((function(t){e(E(t.status))})).catch((function(e){console.error(e)}))}}function b(e,t){var n=new c.a(e);return function(e){return n.doPost("/maintenance/".concat(t?"activate":"deactivate")).then((function(n){e(E(n.status)),e(Object(i.push)(t?l.a.MAINTENANCE_PAGE_PATH:l.a.HOME_PAGE_PATH))}))}}function w(e){return{type:o.T,activeExecutions:e}}function C(e){var t=new c.a(e);return function(e){var n=[].concat(r()(u.a.WAITING_EXECUTION_STATUSES),r()(u.a.ACTIVE_EXECUTION_STATUSES));return t.doGet("/executions?_include=id,workflow_id,status,status_display,blueprint_id,deployment_id",{status:n}).then((function(t){e(w(t))}))}}function O(e,t,n){var a=new c.a(e);return function(e){return a.doPost("/executions/".concat(t.id),null,{deployment_id:t.deployment_id,action:n}).then((function(){e(function(e,t){return{type:o.g,execution:e,action:t}}(t,n))}))}}n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"i",(function(){return b})),n.d(t,"h",(function(){return w})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return O}))},736:function(e,t,n){var a=n(1304);"string"==typeof a&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};n(80)(a,r);a.locals&&(e.exports=a.locals)},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a,r=n(24),i=n.n(r),o=n(5),s=n.n(o),l=n(6),c=n.n(l),u=n(2),p=n.n(u),d=n(33),h=n.n(d),m=function(){function e(){s()(this,e)}return c()(e,null,[{key:"isCancelledExecution",value:function(e){return"cancelled"===e.status}},{key:"isWaitingExecution",value:function(t){return h.a.includes(e.WAITING_EXECUTION_STATUSES,t.status)}},{key:"isFailedExecution",value:function(e){return"failed"===e.status}},{key:"isSuccessfulExecution",value:function(e){return"terminated"===e.status}},{key:"isUpdateExecution",value:function(e){return"update"===e.workflow_id}},{key:"isActiveExecution",value:function(t){return h.a.includes(e.ACTIVE_EXECUTION_STATUSES,t.status)}},{key:"getExecutionStatusGroup",value:function(t){return e.isFailedExecution(t)?e.EXECUTION_FAILED:e.isSuccessfulExecution(t)?e.EXECUTION_SUCCESSFUL:e.isCancelledExecution(t)?e.EXECUTION_CANCELLED:e.isWaitingExecution(t)?e.EXECUTION_WAITING:e.EXECUTION_IN_PROGRESS}},{key:"getExecutionStatusIconParams",value:function(t){return e.STATUS_ICON_PARAMS[e.getExecutionStatusGroup(t)]}}]),e}();p()(m,"FORCE_RESUME_ACTION","force-resume"),p()(m,"RESUME_ACTION","resume"),p()(m,"CANCEL_ACTION","cancel"),p()(m,"FORCE_CANCEL_ACTION","force-cancel"),p()(m,"KILL_CANCEL_ACTION","kill"),p()(m,"EXECUTION_SUCCESSFUL","success"),p()(m,"EXECUTION_FAILED","failed"),p()(m,"EXECUTION_CANCELLED","cancelled"),p()(m,"EXECUTION_WAITING","waiting"),p()(m,"EXECUTION_IN_PROGRESS","inprogress"),p()(m,"STATUS_ICON_PARAMS",(a={},p()(a,m.EXECUTION_SUCCESSFUL,{name:"checkmark",color:"green",loading:!1}),p()(a,m.EXECUTION_FAILED,{name:"remove",color:"red",loading:!1}),p()(a,m.EXECUTION_CANCELLED,{name:"ban",color:"orange",loading:!1}),p()(a,m.EXECUTION_WAITING,{name:"clock",color:"black",loading:!1}),p()(a,m.EXECUTION_IN_PROGRESS,{name:"spinner",color:"yellow",loading:!0}),a)),p()(m,"EXECUTION_STATUSES",["terminated","failed","cancelled","scheduled","queued","pending","started","cancelling","force_cancelling","kill_cancelling"]),p()(m,"WAITING_EXECUTION_STATUSES",["scheduled","queued"]),p()(m,"END_EXECUTION_STATUSES",["terminated","failed","cancelled"]),p()(m,"ACTIVE_EXECUTION_STATUSES",h.a.difference(m.EXECUTION_STATUSES,[].concat(i()(m.END_EXECUTION_STATUSES),i()(m.WAITING_EXECUTION_STATUSES))))},77:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a=n(2),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(32),f=n(19);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var E=function(t){function n(e){return o()(this,n),u()(this,d()(n).call(this,e))}return m()(n,t),l()(n,[{key:"getIp",value:function(){return _.get(this,"_data.ip",null)}},{key:"getCurrentUsername",value:function(){return _.get(this,"_data.username",null)}},{key:"getCurrentUserRole",value:function(){return _.get(this,"_data.auth.role",null)}},{key:"getDistributionName",value:function(){return _.get(this,"_data.version.distribution",null)}},{key:"getDistributionRelease",value:function(){return _.get(this,"_data.version.distro_release",null)}},{key:"getManagerUrl",value:function(e,t){return this._buildActualUrl(e,t)}},{key:"getSelectedTenant",value:function(){return _.get(this,"_data.tenants.selected",null)}},{key:"getSystemRoles",value:function(){var e=_.get(this,"_data.roles",null);return _.filter(e,(function(e){return"system_role"===e.type}))}},{key:"_buildActualUrl",value:function(t,n){var a=t.indexOf("[manager]");if(a>=0){var i=t.substring(a+"[manager]".length),o=encodeURIComponent(i);t=t.substring(0,a),n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{su:o});var s=(t.indexOf("?")>0?_.endsWith(t,"?")?"":"&":"?")+e.param(n,!0);return t+s}s=n?(t.indexOf("?")>0?"&":"?")+e.param(n,!0):"",o=encodeURIComponent(t+s);return f.a.Url.url("/sp/?su=".concat(o))}},{key:"doGetFull",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{items:[]},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;n._size=1e3,n._offset=i;var o=this.doGet(e,n,a);return o.then((function(o){return i+=o.items.length,r.items=_.concat(r.items,o.items),_.get(o,"metadata.pagination.total")>i?t.doGetFull(e,n,a,r,i):r}))}}]),n}(g.a)}).call(this,n(43))},790:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n(7),r=n.n(a),i=n(113),o=n.n(i),s=n(5),l=n.n(s),c=n(6),u=n.n(c),p=n(9),d=n.n(p),h=n(8),m=n.n(h),g=n(10),f=n.n(g),v=n(2),E=n.n(v),y=n(0),b=n.n(y),w=n(1),C=n.n(w),O=n(191),P=n(3),T=function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e){return!_.isEqual(this.props,e)}},{key:"getFieldWrapper",value:function(e){var n=e.children,a=e.error,i=e.label,s=e.help,l=o()(e,["children","error","label","help"]);return C.a.createElement(O.a.Field,r()({},l,{error:!!a}),t.getLabel(i,s),n)}},{key:"render",value:function(){return _.isEmpty(this.props.label)&&!_.isEmpty(this.props.help)?C.a.createElement(P.PopupHelp,{trigger:this.getFieldWrapper(this.props),content:this.props.help}):this.getFieldWrapper(this.props)}}],[{key:"getLabel",value:function(e,t){return _.isEmpty(e)?null:C.a.createElement("label",null,e,!_.isEmpty(t)&&C.a.createElement("span",null,"",C.a.createElement(P.PopupHelp,{content:t})))}}]),t}(w.Component);E()(T,"propTypes",{error:b.a.any,help:b.a.oneOfType([b.a.string,b.a.element]),label:b.a.string,required:b.a.bool}),E()(T,"defaultProps",{error:!1,help:"",label:"",required:!1})},791:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(7),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),_=n(828),w=n(3),C=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=w.Form.Field.getLabel(this.props.label,this.props.help);return b.a.createElement(_.a,r()({},this.props,{label:e}))}}]),t}(y.Component);f()(C,"propTypes",{label:E.a.string,help:E.a.string}),f()(C,"defaultProps",{label:"",help:""})},792:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(1),m=n.n(h),g=n(191),f=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return m.a.createElement(g.a.Group,this.props)}}]),t}(h.Component)},793:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(7),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),w=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return b.a.createElement("h4",r()({className:"ui dividing header ".concat(this.props.className)},_.omit(this.props,_.keys(t.propTypes))),this.props.children)}}]),t}(y.Component);f()(w,"propTypes",{children:E.a.any,className:E.a.string}),f()(w,"defaultProps",{className:""})},794:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(1453),b=n(329),_=function(e){function t(e,n){return r()(this,t),l()(this,u()(t).call(this,e,n))}return d()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement(y.a,{value:this.props.value,name:"".concat(this.props.name,"Url"),placeholder:this.props.placeholder,onChange:this.props.onChangeUrl,onFocus:this.props.onFocusUrl,onBlur:this.props.onBlurUrl,action:!0,labelPosition:"left"},this.props.label,E.a.createElement("input",null),E.a.createElement(b.a,{name:"".concat(this.props.name,"File"),ref:this.props.fileInputRef,onChange:this.props.onChangeFile,onReset:this.props.onResetFile,showInput:!1}))}}]),t}(v.Component);m()(_,"propTypes",{name:f.a.string.isRequired,value:f.a.string.isRequired,placeholder:f.a.string.isRequired,label:f.a.any,onChangeUrl:f.a.func.isRequired,onFocusUrl:f.a.func.isRequired,onBlurUrl:f.a.func.isRequired,onChangeFile:f.a.func.isRequired,onResetFile:f.a.func.isRequired,fileInputRef:f.a.object}),m()(_,"defaultProps",{label:null,fileInputRef:null})},795:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(826),b=(n(1302),n(736),function(e){function t(e,n){return r()(this,t),l()(this,u()(t).call(this,e,n))}return d()(t,e),o()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(e,this.props)||!_.isEqual(t,this.state)}},{key:"_handleSelectedDateChange",value:function(e){return this.props.onChange(e,{name:this.props.name,value:e})}},{key:"getMinMaxTime",value:function(e,t){var n=this.props.value||moment();return e&&e.isSame(n,"day")?e:t}},{key:"getMinTime",value:function(){return this.getMinMaxTime(this.props.minDate,moment().startOf("day"))}},{key:"getMaxTime",value:function(){return this.getMinMaxTime(this.props.maxDate,moment().endOf("day"))}},{key:"render",value:function(){return E.a.createElement(y.a,{selected:this.props.value,onChange:this._handleSelectedDateChange.bind(this),startDate:this.props.startDate,endDate:this.props.endDate,minDate:this.props.minDate,maxDate:this.props.maxDate,minTime:this.getMinTime(),maxTime:this.getMaxTime(),timeFormat:"HH:mm",showTimeSelect:!0,timeIntervals:this.props.timeIntervals,inline:!0,calendarClassName:"input-time-filter",fixedHeight:!0})}}]),t}(v.Component));m()(b,"propTypes",{name:f.a.string.isRequired,value:f.a.any,onChange:f.a.func,minDate:f.a.object,maxDate:f.a.object,startDate:f.a.object,endDate:f.a.object,timeIntervals:f.a.number}),m()(b,"defaultProps",{value:null,onChange:function(){},minDate:void 0,maxDate:void 0,startDate:void 0,endDate:void 0,timeIntervals:60})},798:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n(56),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),_=n(60),w=n(342),C=n(33),O=n.n(C),P=function(e){function t(e,n){var a;return o()(this,t),(a=u()(this,d()(t).call(this,e,n))).state=t.initialState,a}return m()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!O.a.isEqual(e,this.props)||!O.a.isEqual(t,this.state)}},{key:"componentDidMount",value:function(){this._parseAndSetState(this.props.value)}},{key:"componentDidUpdate",value:function(e){O.a.isEqual(this.props.value,e.value)||this._parseAndSetState(this.props.value)}},{key:"_handleDropdownChange",value:function(e,t){var n=this;this.setState(f()({},t.name,t.value),(function(){return n.props.onChange(e,{name:n.props.name,value:"".concat(n.state.hours,":").concat(n.state.minutes)})}))}},{key:"_parseAndSetState",value:function(e){var t=O.a.split(e,":"),n=r()(t,2),a=n[0],i=n[1];this.setState({hours:a,minutes:i})}},{key:"render",value:function(){return b.a.createElement(_.a,{compact:!0,basic:"very"},b.a.createElement(_.a.Body,null,b.a.createElement(_.a.Row,null,b.a.createElement(_.a.Cell,{textAlign:"left"},b.a.createElement(w.a,{selection:!0,options:t.HOURS_OPTIONS,name:"hours",fluid:!0,value:this.state.hours,onChange:this._handleDropdownChange.bind(this)})),b.a.createElement(_.a.Cell,{textAlign:"center"},":"),b.a.createElement(_.a.Cell,{textAlign:"right"},b.a.createElement(w.a,{selection:!0,options:t.MINUTES_OPTIONS,name:"minutes",fluid:!0,value:this.state.minutes,onChange:this._handleDropdownChange.bind(this)})))))}}]),t}(y.Component);f()(P,"propTypes",{name:E.a.string.isRequired,value:E.a.string,onChange:E.a.func}),f()(P,"defaultProps",{value:"00:00",onChange:function(){}}),f()(P,"initialState",{hours:"00",minutes:"00"}),f()(P,"generateOptions",(function(e,t,n,a){return O.a.range(e,t,n).map((function(e){var t=O.a.padStart(e,a,"0");return{key:t,text:t,value:t}}))})),f()(P,"HOURS_OPTIONS",P.generateOptions(0,24,1,2)),f()(P,"MINUTES_OPTIONS",P.generateOptions(0,60,1,2))},799:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var a=n(7),r=n.n(a),i=n(56),o=n.n(i),s=n(5),l=n.n(s),c=n(6),u=n.n(c),p=n(9),d=n.n(p),h=n(8),m=n.n(h),g=n(10),f=n.n(g),v=n(2),E=n.n(v),y=n(0),b=n.n(y),w=n(1),C=n.n(w),O=n(60),P=n(93),T=n(114),S=n(35);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){function t(e,n){var a;return l()(this,t),(a=d()(this,m()(t).call(this,e,n))).state=t.initialState(e),a}return f()(t,e),u()(t,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.props)!==JSON.stringify(e)||JSON.stringify(this.state)!==JSON.stringify(t)}},{key:"componentDidUpdate",value:function(e){JSON.stringify(e.value)===JSON.stringify(this.props.value)&&e.rows===this.props.rows||this.setState(t.initialState(this.props))}},{key:"_handleInputChange",value:function(e,t){var n=_.split(t.name,"|"),a=o()(n,2),r=a[0],i=a[1],s=T.a.formatValue(t.genericType,t.genericType===T.a.BOOLEAN_TYPE?t.checked:t.value),l=I({},this.state.fields,E()({},r,I({},this.state.fields[r],E()({},i,s))));this.setState({fields:l});var c={name:this.props.name,genericType:T.a.EDITABLE_TABLE_TYPE,value:l};this.props.onChange(e,c)}},{key:"render",value:function(){var e=this;return C.a.createElement(O.a,{celled:!0},C.a.createElement(O.a.Header,null,C.a.createElement(O.a.Row,null,this.props.rows>1&&C.a.createElement(O.a.HeaderCell,{key:"-1",textAlign:"center"},"No."),_.map(this.props.columns,(function(e,t){return C.a.createElement(O.a.HeaderCell,{key:t,textAlign:"center"},C.a.createElement("label",null,e.label,"",e.description&&C.a.createElement(S.a,null,C.a.createElement(S.a.Trigger,null,C.a.createElement(P.a,{name:"help circle"})),e.description)))})))),C.a.createElement(O.a.Body,null,_.times(this.props.rows,(function(t){return C.a.createElement(O.a.Row,{key:t},e.props.rows>1&&C.a.createElement(O.a.Cell,{key:"".concat(t,"|no"),textAlign:"center"},t+1),_.map(e.props.columns,(function(n){return C.a.createElement(O.a.Cell,{key:"".concat(t,"|").concat(n.name)},C.a.createElement(T.a,r()({},n,{type:n.type,description:"",label:"",name:"".concat(t,"|").concat(n.name),value:e.state.fields[t][n.name],onChange:e._handleInputChange.bind(e)})))})))}))))}}]),t}(w.Component);E()(D,"propTypes",{name:b.a.string.isRequired,rows:b.a.number.isRequired,columns:b.a.array.isRequired,value:b.a.object,onChange:b.a.func}),E()(D,"defaultProps",{value:{},onChange:function(){}}),E()(D,"initialState",(function(e){for(var t=[],n=0;n<e.rows;n++){t[n]={};for(var a=0;a<e.columns.length;a++){var r=e.columns[a].name;t[n][r]=e.value&&e.value[n]?e.value[n][r]:""}}return{fields:t}}))},800:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(801),b=n(740),_=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),o()(t,[{key:"_handleInputChange",value:function(e,t){this.props.onChange(t,{name:this.props.name,value:e.hex})}},{key:"render",value:function(){var e=b(this.props.value);return E.a.createElement(y.CompactPicker,{color:e.toHsl(),onChangeComplete:this._handleInputChange.bind(this)})}}]),t}(v.Component);m()(_,"propTypes",{name:f.a.string,value:f.a.string,onChange:f.a.func}),m()(_,"defaultProps",{name:"",value:"#000000",onChange:function(){}})},802:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(4),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s),c=n(9),u=n.n(c),p=n(8),d=n.n(p),h=n(10),m=n.n(h),g=n(2),f=n.n(g),v=n(0),E=n.n(v),y=n(1),b=n.n(y),w=n(803),C=n.n(w),O=n(1454),P=n(3),T=function(e){function t(){return o()(this,t),u()(this,d()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e){return!_.isEqual(e,this.props)}},{key:"render",value:function(){return b.a.createElement("div",{style:this.props.divStyle},b.a.createElement(C.a,{src:this.props.value,name:null,enableClipboard:!1,defaultValue:"",onAdd:this.props.onChange,onEdit:this.props.onChange,onDelete:this.props.onChange}))}}]),t}(y.Component);f()(T,"propTypes",{value:E.a.object,divStyle:E.a.object,onChange:E.a.func}),f()(T,"defaultProps",{value:{},divStyle:{},onChange:_.noop});var S=function(e){function t(e,n){var a;return o()(this,t),(a=u()(this,d()(t).call(this,e,n))).state={isRawView:!0,isParsableToJson:!1,isMouseOver:!1},a.onChangeJson=a.onChangeJson.bind(r()(a)),a.onChangeString=a.onChangeString.bind(r()(a)),a.switchView=a.switchView.bind(r()(a)),a}return m()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(e,this.props)||!_.isEqual(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.isParsableToJson();this.setState({isParsableToJson:e,isRawView:!e})}},{key:"componentDidUpdate",value:function(e){if(!_.isEqual(this.props.value,e.value)){var t=this.isParsableToJson();this.setState({isParsableToJson:t,isRawView:this.state.isRawView?this.state.isRawView:!t})}}},{key:"isParsableToJson",value:function(){var e=this.props.value,t=!0;if(_.isString(e))try{var n=JSON.parse(e);t="[object Object]"===Object.prototype.toString.call(n)||Array.isArray(n)}catch(e){t=!1}else t=!1;return t}},{key:"onChangeJson",value:function(e){var t=Stage.Utils.Json;this.props.onChange(null,{name:this.props.name,value:t.getStringValue(e.updated_src)})}},{key:"onChangeString",value:function(e,t){var n=t.name,a=t.value;this.props.onChange(e,{name:n,value:a})}},{key:"switchView",value:function(){this.setState({isRawView:!this.state.isRawView})}},{key:"render",value:function(){var e=this,t=Stage.Utils.Json,n=this.props.value,a=t.getStringValue(n),r=t.getTypedValue(n),i={backgroundColor:this.props.error?"#fff6f6":"",border:"1px solid ".concat(this.props.error?"rgb(224, 180, 180)":"rgba(34,36,38,.15)"),borderRadius:4,padding:10};return b.a.createElement("div",{style:{position:"relative"},onMouseEnter:function(){return e.setState({isMouseOver:!0})},onMouseLeave:function(){return e.setState({isMouseOver:!1})}},this.state.isRawView?b.a.createElement(O.a,{name:this.props.name,value:a,onChange:this.onChangeString}):b.a.createElement(T,{value:r,divStyle:i,onChange:this.onChangeJson}),this.state.isMouseOver&&b.a.createElement(P.Popup,null,b.a.createElement(P.Popup.Trigger,null,b.a.createElement(P.Icon,{name:"edit",link:this.state.isParsableToJson,disabled:!this.state.isParsableToJson,style:{position:"absolute",top:10,right:30},onClick:this.state.isParsableToJson?this.switchView:_.noop})),b.a.createElement(P.Popup.Content,null,this.state.isParsableToJson?"Switch to ".concat(this.state.isRawView?"Rich View":"Text View"):"Cannot switch to Rich View. Text cannot be parsed to JSON.")),this.state.isMouseOver&&!this.state.isRawView&&b.a.createElement(P.Popup,{wide:"very"},b.a.createElement(P.Popup.Trigger,null,b.a.createElement(P.Icon,{name:"info",style:{position:"absolute",top:10,right:50,cursor:"pointer"}})),b.a.createElement(P.Popup.Content,null,b.a.createElement(P.List,null,b.a.createElement(P.List.Item,null,b.a.createElement(P.Label,null,"Ctrl + Click")," to enter edit mode"),b.a.createElement(P.List.Item,null,"In edit mode ",b.a.createElement(P.Label,null,"Ctrl + Enter")," to submit changes"),b.a.createElement(P.List.Item,null,"In edit mode ",b.a.createElement(P.Label,null,"Escape")," to cancel changes")))))}}]),t}(y.Component);f()(S,"propTypes",{name:E.a.string.isRequired,value:E.a.any,error:E.a.bool,onChange:E.a.func}),f()(S,"defaultProps",{value:"{}",error:!1,onChange:_.noop})},804:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return _}));var r=n(5),i=n.n(r),o=n(6),s=n.n(o),l=n(9),c=n.n(l),u=n(8),p=n.n(u),d=n(10),h=n.n(d),m=n(2),g=n.n(m),f=n(0),v=n.n(f),E=n(1),y=n.n(E);function b(e){return e*Math.PI/180}var _=function(t){function n(e){var t;return i()(this,n),(t=c()(this,p()(n).call(this,e))).svgRef=y.a.createRef(),t}return h()(n,t),s()(n,[{key:"_buildProps",value:function(e){var t=e.clientWidth,n=e.clientHeight,a=t/2;n<a&&(a=n),a*=.93;var r=this.props.maxAngle-this.props.minAngle,i=.4*a,o=this.props.max-this.props.min,s=(this.props.value-this.props.min)/o,l=.8*(a-i),c=.15*i;return{radius:a,range:r,ringWidth:i,valueRange:o,valRatio:s=s<0?0:s>1?1:s,isHigh:this.props.high&&this.props.value>this.props.high,isLow:this.props.low&&this.props.value<this.props.low,arcPadding:c,value:this.props.value,minAngle:this.props.minAngle,maxAngle:this.props.maxAngle,ticksNumber:7,minValue:this.props.min,maxValue:this.props.max,textSize:l,tickTextSize:c}}},{key:"componentDidMount",value:function(){var t=this;this._initGauge(this.svgRef.current),e(window).resize((function(){return t._initGauge(t.svgRef.current)}))}},{key:"componentWillUnmount",value:function(){e(window).off("resize")}},{key:"componentDidUpdate",value:function(){var e=this;setTimeout((function(){e._initGauge(e.svgRef.current)}),100)}},{key:"_initGauge",value:function(e){if(null!==e){var t=this._buildProps(e),n=a.select(e);n.selectAll("*").remove(),n.attr("width",2*t.radius);var r=a.svg.arc().innerRadius(t.radius-t.ringWidth-t.arcPadding).outerRadius(t.radius-t.arcPadding).startAngle(b(t.minAngle+t.valRatio*t.range)).endAngle(b(t.maxAngle)),i=a.svg.arc().innerRadius(t.radius-t.ringWidth-t.arcPadding).outerRadius(t.radius-t.arcPadding).startAngle(b(t.minAngle)).endAngle(b(t.minAngle+t.valRatio*t.range)),o=n.append("g").attr("class","arc").attr("transform","translate(".concat(t.radius,",").concat(t.radius,")"));o.append("path").attr("class","arcBackground backgroundColor").attr("d",r),o.append("path").attr("class","arcValue").classed("highColor",t.isHigh).classed("lowColor",t.isLow).classed("okColor",!t.isLow&&!t.isHigh).attr("d",i);var s=a.scale.linear().range([0,1]).domain([t.minValue,t.maxValue]),l=s.ticks(t.ticksNumber);n.append("g").attr("class","ticks").attr("transform","translate(".concat(t.radius,",").concat(t.radius,")")).selectAll("text").data(l).enter().append("text").attr("transform",(function(e){var n=s(e),a=t.minAngle+n*t.range;return"rotate(".concat(a,") translate(0,").concat(-t.radius+t.arcPadding-3,")")})).attr("font-size",t.tickTextSize).text((function(e){return e})),n.append("text").attr("class","valueText").attr("transform","translate(".concat(t.radius,",").concat(t.radius,")")).attr("text-anchor","middle").attr("font-size",t.textSize).text(t.value)}}},{key:"render",value:function(){return y.a.createElement("div",{className:"gaugeContainer"},y.a.createElement("svg",{className:"gauge",ref:this.svgRef}))}}]),n}(E.Component);g()(_,"propTypes",{value:v.a.number.isRequired,min:v.a.number.isRequired,max:v.a.number.isRequired,high:v.a.number,low:v.a.number,minAngle:v.a.number,maxAngle:v.a.number}),g()(_,"defaultProps",{minAngle:-90,maxAngle:90})}).call(this,n(43),n(551))},816:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(256),l=n.n(s),c=n(19),u=function(){function e(){r()(this,e)}return o()(e,null,[{key:"load",value:function(){return l()(c.a.Url.url("/config")).then((function(e){return e.json()})).catch((function(e){console.log("Error fetching configuration file",e)}))}}]),e}()},817:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(334),b=n(14),w=n(335),C=n(3),O=function(t){function n(){return r()(this,n),l()(this,u()(n).apply(this,arguments))}return d()(n,t),o()(n,[{key:"componentWillUnmount",value:function(){this.props.onClear()}},{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props.page,e.page)||this.props.isPageEditMode!==e.isPageEditMode||this.props.showDrillDownWarn!==e.showDrillDownWarn}},{key:"render",value:function(){var t=this.props.isPageEditMode?b.a.PAGE_MANAGEMENT_EDIT:b.a.PAGE_MANAGEMENT_VIEW,n=_.findIndex(this.props.page.widgets,{maximized:!0})>=0;return e("body").css({overflow:n?"hidden":"inherit"}).scrollTop(0),E.a.createElement("div",{className:"main"},E.a.createElement("div",{className:"sidebarContainer"},E.a.createElement("div",{className:"ui visible left vertical sidebar menu small basic"},E.a.createElement("div",{className:"pages",ref:"pages"},E.a.createElement("div",{className:"item link pageMenuItem"},this.props.page.name),E.a.createElement("div",{className:"item link pageMenuItem"})))),E.a.createElement("div",{className:"page"},E.a.createElement(C.Segment,{basic:!0,loading:this.props.isLoading,className:"fullHeight ".concat(n?"maximizeWidget":"")},E.a.createElement("div",null,E.a.createElement(C.Breadcrumb,{className:"breadcrumbLineHeight"},E.a.createElement(C.Breadcrumb.Section,{onClick:this.props.onTemplateNavigate},"Template management"),E.a.createElement(C.Breadcrumb.Divider,null),E.a.createElement(C.Breadcrumb.Section,{active:!0},E.a.createElement(C.EditableLabel,{text:this.props.page.name,placeHolder:"You must fill a page name",className:"section active pageTitle",isEditEnable:this.props.isPageEditMode,onEditDone:this.props.onPageNameChange})))),E.a.createElement(C.Divider,null),E.a.createElement(C.ErrorMessage,{error:this.props.error}),E.a.createElement(y.a,{widgets:this.props.page.widgets,onWidgetsGridDataChange:this.props.onWidgetsGridDataChange,pageId:this.props.page.id,isEditMode:this.props.isPageEditMode,pageManagementMode:t}),E.a.createElement(w.a,{isVisible:!0,onDismiss:this.props.onTemplateNavigate,onPageSave:this.props.onPageSave,page:this.props.page,pageManagementMode:t}))),E.a.createElement(C.Alert,{open:this.props.showDrillDownWarn,content:"Drill down action is not available in the template management",onDismiss:this.props.onCloseDrillDownWarning}))}}]),n}(v.Component);m()(O,"propTypes",{isPageEditMode:f.a.bool.isRequired,page:f.a.object,onClose:f.a.func.isRequired,onClear:f.a.func.isRequired,onTemplateNavigate:f.a.func.isRequired,onWidgetsGridDataChange:f.a.func.isRequired,onPageSave:f.a.func.isRequired,showDrillDownWarn:f.a.bool,onCloseDrillDownWarning:f.a.func})}).call(this,n(43))},818:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(151),b=n(3),w=n(819),C=function(t){function n(e){var t;return r()(this,n),(t=l()(this,u()(n).call(this,e))).state={loading:!1},t.loadingTimeout=null,t.pollingTimeout=null,t.fetchDataPromise=null,t.mounted=!1,t}return d()(n,t),o()(n,[{key:"_getToolbox",value:function(){return Object(y.b)(this._fetchData.bind(this),this._loadingIndicator.bind(this),this.props.widget)}},{key:"_beforeFetch",value:function(){this._stopPolling(),this._showLoading()}},{key:"_afterFetch",value:function(){this._hideLoading(),this._startPolling()}},{key:"_loadingIndicator",value:function(e){this.mounted&&this.setState({loading:e})}},{key:"_showLoading",value:function(){var e=this;clearTimeout(this.loadingTimeout),this.loadingTimeout=setTimeout((function(){return e._loadingIndicator(!0)}),1e3)}},{key:"_hideLoading",value:function(){clearTimeout(this.loadingTimeout),this.state.loading&&this._loadingIndicator(!1)}},{key:"_stopPolling",value:function(){clearTimeout(this.pollingTimeout),this.fetchDataPromise&&this.fetchDataPromise.cancel()}},{key:"_startPolling",value:function(){var e=this;this._stopPolling();var t=this.props.widget.configuration.pollingTime||0;try{t=Number.isInteger(t)?t:parseInt(t)}catch(e){console.log("Polling interval doesnt have a valid value, using zero. Value is: ".concat(this.props.widget.configuration.pollingTime)),t=0}t>0&&this.mounted&&(console.log("Polling widget '".concat(this.props.widget.name,"' - time interval: ").concat(t," sec")),this.pollingTimeout=setTimeout((function(){e._fetchData()}),1e3*t))}},{key:"_updateConfiguration",value:function(e){e.gridParams&&e.gridParams.pageSize&&e.gridParams.pageSize!==this.props.widget.configuration.pageSize&&this.props.onWidgetConfigUpdate({pageSize:e.gridParams.pageSize})}},{key:"_fetchData",value:function(e){var t=this;if(e&&(this._paramsHandler.updateGridParams(e.gridParams),this._updateConfiguration(e)),this.fetchDataPromise&&this.fetchDataPromise.cancel(),this.props.widget.definition.fetchUrl||_.isFunction(this.props.widget.definition.fetchData)){this._beforeFetch();var n=this.props.fetchWidgetData(this.props.widget,this._getToolbox(),this._paramsHandler);return this.fetchDataPromise=n.cancelablePromise,n.waitForPromise.then((function(e){if(e){var n=[];n=e.metadata?[e.metadata]:_.filter(e,(function(e){if(e.metadata)return e.metadata})),_.each(n,(function(e){e.gridParams=t._paramsHandler.getGridParams()}))}console.log("Widget '".concat(t.props.widget.name,"' data fetched")),t._afterFetch()})).catch((function(e){e.isCanceled?console.log("Widget '".concat(t.props.widget.name,"' data fetch canceled")):t._afterFetch()}))}return Promise.resolve()}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=!1;e.widget.configuration&&this.props.widget.configuration&&_.each(this.props.widget.configuration,(function(t,r){if(e.widget.configuration[r]!==t)return n._paramsHandler.update(n.props.widget),a=!0,!1})),(e.manager.tenants.selected!==this.props.manager.tenants.selected||!_.isEmpty(e.data)&&_.isEmpty(this.props.data)||this._paramsHandler.updateFetchParams())&&(a=!0),a&&this._fetchData()}},{key:"componentDidMount",value:function(){this.mounted=!0,this._startPolling(),console.log("Widget '".concat(this.props.widget.name,"' mounted")),this._paramsHandler=new w.a(this.props.widget,this._getToolbox()),this._fetchData()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this._stopPolling(),console.log("Widget '".concat(this.props.widget.name,"' unmounts"))}},{key:"shouldComponentUpdate",value:function(e,t){return!(_.isEqual(this.props.widget,e.widget)&&_.isEqual(this.props.context,e.context)&&_.isEqual(this.props.manager,e.manager)&&_.isEqual(this.props.data,e.data)&&_.isEqual(this.props.pageId,e.pageId)&&_.isEqual(this.state,t))}},{key:"renderWidget",value:function(){var e="Loading...";if(this.props.widget.definition&&this.props.widget.definition.render)try{e=this.props.widget.definition.render(this.props.widget,this.props.data.data,this.props.data.error,this._getToolbox())}catch(e){console.error("Error rendering widget - ".concat(e.message),e.stack)}return{__html:e}}},{key:"renderReact",value:function(){if(this.props.data.error)return E.a.createElement(b.ErrorMessage,{error:this.props.data.error,header:"An unexpected error occurred",autoHide:!0});if(this.props.widget.definition&&this.props.widget.definition.render)try{return this.props.widget.definition.render(this.props.widget,this.props.data.data,this.props.data.error,this._getToolbox())}catch(e){return console.error("Error rendering widget - ".concat(e.message),e.stack),E.a.createElement(b.ErrorMessage,{error:"Error rendering widget: ".concat(e.message),autoHide:!0})}return E.a.createElement("div",null)}},{key:"attachEvents",value:function(t){var n=this;if(this.props.widget.definition&&this.props.widget.definition.events)try{_.each(this.props.widget.definition.events,(function(a){a&&a.selector&&a.event&&a.fn?(e(t).find(a.selector).off(a.event),e(t).find(a.selector).on(a.event,(function(e){a.fn(e,n.props.widget,n._getToolbox())}))):console.warn("Cannot attach event, missing data. Event data is ",a)}),this)}catch(e){console.error("Error attaching events to widget",e)}this.props.widget.definition.postRender&&this.props.widget.definition.postRender(e(t),this.props.widget,this.props.data.data,this._getToolbox())}},{key:"render",value:function(){var e=this;return E.a.createElement("div",null,E.a.createElement("div",{className:"ui ".concat(this.state.loading?"active":""," small inline loader widgetLoader ").concat(this.props.widget.definition.showHeader?"header":"noheader")}),this.props.widget.definition.isReact?E.a.createElement("div",{className:"widgetContent".concat(this.props.widget.definition.showHeader?"":" noHeader ").concat(this.props.widget.definition.showBorder?"":" noBorder ")},this.renderReact()):E.a.createElement("div",{className:"widgetContent".concat(this.props.widget.definition.showHeader?"":" noHeader"),dangerouslySetInnerHTML:this.renderWidget(),ref:function(t){return e.attachEvents(t)}}))}}]),n}(v.Component);m()(C,"propTypes",{widget:f.a.object.isRequired,manager:f.a.object.isRequired,data:f.a.object.isRequired,onWidgetConfigUpdate:f.a.func,fetchWidgetData:f.a.func.isRequired,pageId:f.a.string.isRequired})}).call(this,n(43))},819:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),r=n.n(a),i=n(5),o=n.n(i),s=n(6),l=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var u=function(){function e(t,n){o()(this,e),this._widget=t,this._toolbox=n,this.fetchParams={gridParams:{currentPage:1,pageSize:this._widget.configuration.pageSize,sortColumn:this._widget.configuration.sortColumn,sortAscending:this._widget.configuration.sortAscending},filterParams:{}},this._runFetchParamsIfNeeded()}return l()(e,[{key:"update",value:function(e){this._widget=e}},{key:"buildParamsToSend",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._mapGridParamsToParams(),{},this._buildFilterParams());return _.isEmpty(e)||(e=_.replace(e,"gridParams","_sort,_size,_offset,_search").split(","),t=_.pick(t,e)),t}},{key:"updateFetchParams",value:function(){var e=this.fetchParams.filterParams;return this._runFetchParamsIfNeeded(),!_.isEqual(this.fetchParams.filterParams,e)}},{key:"updateGridParams",value:function(e){Object.assign(this.fetchParams.gridParams,e)}},{key:"_runFetchParamsIfNeeded",value:function(){if(_.isFunction(this._widget.definition.fetchParams))try{this.fetchParams.filterParams=this._widget.definition.fetchParams(this._widget,this._toolbox)}catch(e){throw console.error("Error processing fetch params",e),new Error("Error processing fetch params",e)}}},{key:"_buildFilterParams",value:function(){var e={};return _.forIn(this.fetchParams.filterParams,(function(t,n){!_.isBoolean(t)&&_.isEmpty(t)||(e[n]=t)})),e}},{key:"_mapGridParamsToParams",value:function(){if(_.isEmpty(this.fetchParams.gridParams))return{};var e={};if(_.isFunction(this._widget.definition.mapGridParams))try{e=this._widget.definition.mapGridParams(this.fetchParams.gridParams)}catch(e){throw console.error("Error processing match grid params",e),new Error("Error processing match grid params",e)}else this.fetchParams.gridParams.sortColumn&&(e._sort="".concat(this.fetchParams.gridParams.sortAscending?"":"-").concat(this.fetchParams.gridParams.sortColumn)),this.fetchParams.gridParams._search&&(e._search=this.fetchParams.gridParams._search),this.fetchParams.gridParams.pageSize&&(e._size=this.fetchParams.gridParams.pageSize),this.fetchParams.gridParams.currentPage&&this.fetchParams.gridParams.pageSize&&(e._offset=(this.fetchParams.gridParams.currentPage-1)*this.fetchParams.gridParams.pageSize);return e}},{key:"getGridParams",value:function(){return this.fetchParams.gridParams}}]),e}()},820:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=(n(1448),function(t){function n(e){var t;return r()(this,n),(t=l()(this,u()(n).call(this,e))).pagesRef=E.a.createRef(),t}return d()(n,t),o()(n,[{key:"componentDidMount",value:function(){var t=this;e(this.pagesRef.current).sortable({placeholder:"ui-sortable-placeholder",helper:"clone",forcePlaceholderSize:!0,start:function(e,n){return t.pageIndex=n.item.index()},update:function(e,n){return t.props.onPageReorder(t.pageIndex,n.item.index())}}),this._enableReorderInEditMode()}},{key:"componentDidUpdate",value:function(e,t){this._enableReorderInEditMode()}},{key:"_enableReorderInEditMode",value:function(){this.props.isEditMode?e(this.pagesRef.current).sortable("option","disabled")&&e(this.pagesRef.current).sortable("enable"):e(this.pagesRef.current).sortable("option","disabled")||e(this.pagesRef.current).sortable("disable")}},{key:"render",value:function(){var e=0;return this.props.pages.map((function(t){t.isDrillDown||e++})),E.a.createElement("div",{className:"pages",ref:this.pagesRef},_.filter(this.props.pages,(function(e){return!e.isDrillDown})).map((function(t){var n=this;return E.a.createElement("div",{key:t.id,className:"item link pageMenuItem ".concat(t.id,"PageMenuItem ").concat(this.props.selected===t.id?"active":""),onClick:function(e){e.stopPropagation(),n.props.onPageSelected(t)}},t.name,this.props.isEditMode&&e>1?E.a.createElement("i",{className:"remove link icon small pageRemoveButton",onClick:function(e){e.stopPropagation(),n.props.onPageRemoved(t)}}):"")}),this))}}]),n}(v.Component));m()(y,"propTypes",{onPageSelected:f.a.func.isRequired,onPageRemoved:f.a.func.isRequired,onPageReorder:f.a.func.isRequired,onSidebarClose:f.a.func.isRequired,pages:f.a.array.isRequired,selected:f.a.string,isEditMode:f.a.bool.isRequired})}).call(this,n(43))},821:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(9),l=n.n(s),c=n(8),u=n.n(c),p=n(10),d=n.n(p),h=n(2),m=n.n(h),g=n(0),f=n.n(g),v=n(1),E=n.n(v),y=n(822),b=n(823),w=n(335),C=n(3),O=function(t){function n(){return r()(this,n),l()(this,u()(n).apply(this,arguments))}return d()(n,t),o()(n,[{key:"shouldComponentUpdate",value:function(e,t){return!_.isEqual(this.props.page,e.page)||this.props.isEditMode!==e.isEditMode}},{key:"render",value:function(){var t=this,n=_.findIndex(this.props.page.widgets,{maximized:!0})>=0;return e("body").css({overflow:n?"hidden":"inherit"}).scrollTop(0),E.a.createElement("div",{className:"fullHeight ".concat(n?"maximizeWidget":"")},E.a.createElement(b.a,{pagesList:this.props.pagesList,onPageNameChange:this.props.onPageNameChange,isEditMode:this.props.isEditMode,onPageSelected:this.props.onPageSelected}),E.a.createElement("div",null,E.a.createElement(C.EditableLabel,{text:this.props.page.description,placeholder:"Page description",className:"pageDescription",isEditEnable:this.props.isEditMode,onEditDone:function(e){return t.props.onPageDescriptionChange(t.props.page.id,e)}})),E.a.createElement("div",{className:"ui divider"}),E.a.createElement(y.a,{widgets:this.props.page.widgets,pageId:this.props.page.id,onWidgetsGridDataChange:this.props.onWidgetsGridDataChange,isEditMode:this.props.isEditMode||!1}),E.a.createElement(w.a,{isVisible:this.props.isEditMode,onDismiss:this.props.onEditModeExit,page:this.props.page}))}}]),n}(v.Component);m()(O,"propTypes",{page:f.a.object.isRequired,pagesList:f.a.array.isRequired,onPageNameChange:f.a.func.isRequired,onPageDescriptionChange:f.a.func.isRequired,onWidgetsGridDataChange:f.a.func.isRequired,onPageSelected:f.a.func.isRequired,onEditModeExit:f.a.func.isRequired,isEditMode:f.a.bool.isRequired})}).call(this,n(43))},822:function(e,t,n){"use strict";var a=n(21),r=n(334),i=n(19);t.a=Object(a.connect)((function(e,t){var n=e.manager||{},a=t.widgets;return _.isEmpty(a)||(a=a.filter((function(e){return e.definition&&i.a.isUserAuthorized(e.definition.permission,n)&&i.a.isWidgetPermitted(e.definition.supportedEditions,n)}))),{pageId:t.pageId,widgets:a,onWidgetsGridDataChange:t.onWidgetsGridDataChange,isEditMode:t.isEditMode,pageManagementMode:t.pageManagementMode}}),(function(e,t){return{}}))(r.a)},823:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(24),r=n.n(a),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(3);function u(e){var t=e.isEditMode,n=e.onPageNameChange,a=e.onPageSelected,i=e.pagesList,o=[],s=_(r()(i)).reverse().value();return _.each(s,(function(e,r){r!==s.length-1?(o.push(l.a.createElement(c.Breadcrumb.Section,{link:!0,key:e.id,onClick:function(){return a(e,s,r)}},e.name)),o.push(l.a.createElement(c.Breadcrumb.Divider,{key:"d_".concat(e.id),icon:"right angle"}))):o.push(l.a.createElement(c.EditableLabel,{key:e.id,text:e.name,placeholder:"You must fill a page name",className:"section active pageTitle",isEditEnable:t,onEditDone:function(t){return n(e,t)}}))})),l.a.createElement(c.Breadcrumb,{className:"breadcrumbLineHeight"},o)}u.propTypes={isEditMode:o.a.bool.isRequired,onPageNameChange:o.a.func.isRequired,onPageSelected:o.a.func.isRequired,pagesList:o.a.arrayOf(o.a.shape({id:o.a.string.isRequired,name:o.a.string.isRequired})).isRequired}},824:function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(21),o=n(5),s=n.n(o),l=n(6),c=n.n(l),u=n(9),p=n.n(u),d=n(8),h=n.n(d),m=n(10),g=n.n(m),f=n(1456),v=n(1476),E=n(1477),y=n(14),b=n(2),w=n.n(b),C=n(0),O=n.n(C),P=n(101),T=n(3),S=function(e){function t(e){var n;return s()(this,t),(n=p()(this,h()(t).call(this,e))).state={search:""},n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){P.a.on("menu.tenants:refresh",this.props.onTenantsRefresh,this)}},{key:"onTenantSelected",value:function(e){this.props.onTenantChange(e.name)}},{key:"onSearchChange",value:function(e){this.setState({search:e})}},{key:"render",value:function(){var e=this,t=this.props.manager.tenants,n=this.state.search;if(!t||!t.items||t.isFetching)return r.a.createElement(T.Loader,{active:!0,inverted:!0,inline:!0,size:"small"});var a=_(t.items).filter((function(e){return _.includes(e.name,n)})).sortBy("name").value(),i=t.selected||_.get(t,"items[0].name"),o=r.a.createElement("span",null,r.a.createElement(T.Icon,{name:"male"}),r.a.createElement("span",null,i||"No Tenants"));return r.a.createElement(T.Dropdown,{item:!0,pointing:"top right",className:"tenantsMenu",trigger:o,onClose:function(){return e.onSearchChange("")}},r.a.createElement(T.Dropdown.Menu,null,r.a.createElement(T.Input,{icon:"search",iconPosition:"left",className:"search",value:n,onClick:function(e){return e.stopPropagation()},onChange:function(t,n){var a=n.value;t.stopPropagation(),e.onSearchChange(a)}}),r.a.createElement(T.Dropdown.Menu,{scrolling:!0},a.map((function(t){return r.a.createElement(T.Dropdown.Item,{key:t.name,text:t.name,selected:t.name===i,active:t.name===i,onClick:e.onTenantSelected.bind(e,t)})})))))}}]),t}(a.Component);w()(S,"propTypes",{manager:O.a.object.isRequired,onTenantChange:O.a.func.isRequired,onTenantsRefresh:O.a.func.isRequired});var k=n(257),I=Object(i.connect)((function(e,t){return{manager:t.manager}}),(function(e,t){return{onTenantChange:function(t){e(Object(k.a)(t))},onTenantsRefresh:function(){e(Object(k.b)(t.manager))}}}))(S),D=n(328);function A(e){var t=e.systemStatus;return r.a.createElement(D.a,{status:t})}A.propTypes={systemStatus:O.a.string},A.defaultProps={systemStatus:""};var j=Object(i.connect)((function(e){return{systemStatus:_.get(e.manager,"clusterStatus.status"),maintenanceStatus:_.get(e.manager,"maintenance")}}),(function(){return{}}))(A);function R(e){var t=e.onStatusRefresh,n=e.isFetching;return r.a.createElement("div",{style:{verticalAlign:"middle",overflow:"hidden"}},r.a.createElement(T.Header,{floated:"left",style:{width:"auto",marginTop:"4px"},size:"medium"},r.a.createElement(j,null),"System Status"),r.a.createElement(T.Button,{floated:"right",className:"refreshButton",onClick:t,loading:n,disabled:n,circular:!0,icon:"refresh"}))}R.propTypes={onStatusRefresh:O.a.func.isRequired,isFetching:O.a.bool.isRequired};var N=n(100),x=Object(i.connect)((function(e){return{isFetching:_.get(e.manager,"clusterStatus.isFetching"),fetchingError:_.get(e.manager,"clusterStatus.error")}}),(function(e){return{onStatusRefresh:function(){e(Object(N.a)())}}}))(R),M=n(327),L=n(29);function U(e){var t=e.services,n=e.isFetching,a=e.fetchingError;return r.a.createElement(M.a,{clickable:!0,services:t,isFetching:n,fetchingError:a,header:r.a.createElement(T.Table.Row,null,r.a.createElement(T.Table.HeaderCell,{colSpan:"2"},r.a.createElement(x,null)))})}U.propTypes={services:O.a.shape(_.mapValues(L.d,(function(){return O.a.shape({status:O.a.oneOf(L.g),is_external:O.a.bool})}))),isFetching:O.a.bool,fetchingError:O.a.string},U.defaultProps={services:_.mapValues(L.d,(function(){return{status:L.f.Unknown,is_external:!1}})),isFetching:!1,fetchingError:""};var F=Object(i.connect)((function(e){return{services:e.manager.clusterStatus.services,isFetching:e.manager.clusterStatus.isFetching,fetchingError:e.manager.clusterStatus.error}}),(function(e){return{onStatusRefresh:function(){e(Object(N.a)())}}}))(U);function q(e){var t=e.onServicesStatusOpen;return e.showServicesStatus?r.a.createElement(T.Popup,{wide:"very",hoverable:!0,onOpen:t},r.a.createElement(T.Popup.Trigger,null,r.a.createElement("div",null,r.a.createElement(j,null))),r.a.createElement(F,null)):r.a.createElement(j,null)}q.propTypes={onServicesStatusOpen:O.a.func.isRequired,showServicesStatus:O.a.bool.isRequired};var z=n(19),G=Object(i.connect)((function(e){return{showServicesStatus:z.a.isUserAuthorized(y.a.permissions.STAGE_SERVICES_STATUS,e.manager)}}),(function(e){return{onServicesStatusOpen:function(){e(Object(N.a)())}}}))(q),B=n(26),W=n(4),H=n.n(W),V=n(317),Y=function(e){function t(e){var n;return s()(this,t),(n=p()(this,h()(t).call(this,e))).state={showPasswordModal:!1},n.onShowChangePasswordModal=n.onShowChangePasswordModal.bind(H()(n)),n.onHideChangePasswordModal=n.onHideChangePasswordModal.bind(H()(n)),n.onEditModeClick=n.onEditModeClick.bind(H()(n)),n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){P.a.on("menu.users:logout",this.props.onLogout,this)}},{key:"onShowChangePasswordModal",value:function(){this.setState({showPasswordModal:!0})}},{key:"onHideChangePasswordModal",value:function(){this.setState({showPasswordModal:!1})}},{key:"onEditModeClick",value:function(){this.props.onEditModeChange(!this.props.isEditMode)}},{key:"render",value:function(){var e=this.props,t=e.canChangePassword,n=e.canEditMode,a=e.canLicenseManagement,i=e.canTemplateManagement,o=e.isEditMode,s=e.manager,l=e.onLicense,c=e.onLogout,u=e.onReset,p=e.onTemplates,d=e.showAllOptions,h=this.state.showPasswordModal,m=r.a.createElement("span",null,r.a.createElement(T.Icon,{name:"user"}),r.a.createElement("span",null,s.username)),g=[];return g.push(),g.push(),g.push(),r.a.createElement(r.a.Fragment,null,r.a.createElement(T.Dropdown,{item:!0,pointing:"top right",trigger:m,className:"usersMenu"},r.a.createElement(T.Dropdown.Menu,null,d&&n&&r.a.createElement(T.Dropdown.Item,{icon:"configure",selected:o,active:o,text:o?"Exit Edit Mode":"Edit Mode",id:"editModeMenuItem",value:"editMode",onClick:this.onEditModeClick.bind(this)}),d&&i&&r.a.createElement(T.Dropdown.Item,{icon:"list layout",text:"Template Management",value:"templates",title:"Template management",onClick:p,id:"templatesMenuItem"}),r.a.createElement(T.Dropdown.Item,{key:"reset",id:"resetMenuItem",icon:"undo",text:"Reset Templates",value:"reset",title:"Reset application screens",onClick:u}),d&&a&&r.a.createElement(T.Dropdown.Item,{key:"license",id:"licenseMenuItem",icon:"key",text:"License Management",value:"license",onClick:l}),r.a.createElement(T.Dropdown.Divider,{key:"log-out-divider"}),r.a.createElement(T.Dropdown.Item,{disabled:!t,key:"change-password",id:"changePasswordMenuItem",icon:"lock",text:"Change Password",value:"change-password",onClick:this.onShowChangePasswordModal}),r.a.createElement(T.Dropdown.Item,{key:"log-out",id:"logoutMenuItem",icon:"log out",text:"Logout",value:"logout",onClick:c}))),r.a.createElement(V.a,{open:h,onHide:this.onHideChangePasswordModal}))}}]),t}(a.Component);w()(Y,"propTypes",{manager:O.a.object.isRequired,showAllOptions:O.a.bool.isRequired,isEditMode:O.a.bool.isRequired,canChangePassword:O.a.bool.isRequired,canEditMode:O.a.bool.isRequired,canTemplateManagement:O.a.bool.isRequired,canLicenseManagement:O.a.bool.isRequired,onEditModeChange:O.a.func.isRequired,onLogout:O.a.func.isRequired,onReset:O.a.func,onTemplates:O.a.func,onLicense:O.a.func});var X=n(70),K=n(217),J=n(53),Z=Object(i.connect)((function(e,t){var n=!!e.templateManagement.templates||!!e.templateManagement.page,a=!e.manager.isLdap,r=!n&&z.a.isUserAuthorized(y.a.permissions.STAGE_EDIT_MODE,e.manager),i=e.config.mode===y.a.MODE_MAIN&&z.a.isUserAuthorized(y.a.permissions.STAGE_TEMPLATE_MANAGEMENT,e.manager),o=e.config.mode===y.a.MODE_MAIN&&z.a.isUserAuthorized(y.a.permissions.LICENSE_UPLOAD,e.manager)&&_.get(e,"manager.license.isRequired",!1);return{isEditMode:r&&e.config.isEditMode||!1,canChangePassword:a,canEditMode:r,canTemplateManagement:i,canLicenseManagement:o}}),(function(e,t){return{onEditModeChange:function(t){t&&e(Object(J.i)()),e(Object(K.a)(t))},onLogout:function(){e(Object(X.g)())},onTemplates:function(){e(Object(B.push)("/template_management"))},onLicense:function(){e(Object(B.push)(y.a.LICENSE_PAGE_PATH))},onReset:t.onReset}}))(Y);function Q(e){var t=e.onAbout,n=e.version,a=z.a.Url.redirectToPage;return r.a.createElement(T.Dropdown,{item:!0,pointing:"top right",trigger:r.a.createElement(T.Icon,{name:"help circle"}),className:"helpMenu"},r.a.createElement(T.Dropdown.Menu,null,r.a.createElement(T.Dropdown.Item,{icon:"book",text:"Documentation",onClick:function(){return a("https://docs.cloudify.co/".concat(n))}}),r.a.createElement(T.Dropdown.Item,{icon:"comments",text:"Contact Us",onClick:function(){return a("https://cloudify.co/contact")}}),r.a.createElement(T.Dropdown.Divider,null),r.a.createElement(T.Dropdown.Item,{icon:"info circle",text:"About",onClick:t})))}Q.propTypes={onAbout:O.a.func.isRequired,version:O.a.string.isRequired};var $=Object(i.connect)((function(e){var t,n=_.get(e,"manager.version.version");return{version:(t=n,_.includes(t,"dev")?"latest":n)}}),(function(){return{}}))(Q),ee=n(1455),te=n(7),ne=n.n(te);function ae(e){var t=e.isCommunity,n=e.isExpired,a=e.isTrial,i=e.className,o=void 0===i?"":i,s=t?{content:"Community"}:n?{content:"Expired"}:a?{content:"Trial"}:{},l=function(e){return r.a.createElement(T.Label,ne()({},e,{size:"large",style:{marginLeft:15,backgroundColor:"#FFC304",color:"#000000"},className:o}))};return t?r.a.createElement(l,s):r.a.createElement((function(e){return!_.isEmpty(e)&&r.a.createElement(ee.a,{to:y.a.LICENSE_PAGE_PATH,className:o},r.a.createElement(l,e))}),s)}function re(){return r.a.createElement("div",{className:"logo"})}function ie(e){var t=e.name,n=e.className,a=void 0===n?"":n;return r.a.createElement("span",{style:{color:"white",verticalAlign:"middle"},className:a},t)}function oe(e){var t=e.version,n=void 0===t?"":t,a=e.className,i=void 0===a?"":a,o=n.match(/^(\d+)\.(\d+).*$/),s=o&&_.size(o)>=2?o[1]:"",l=o&&_.size(o)>=3?o[2]:"",c="".concat(s).concat(l?".".concat(l):"");return!_.isEmpty(c)&&r.a.createElement("span",{style:{color:"#C1C1C6",verticalAlign:"middle"},className:i}," ",c)}function se(e){var t=e.edition,n=e.className,a=void 0===n?"":n;return!_.isEmpty(t)&&r.a.createElement("span",{style:{color:"white",verticalAlign:"middle"},className:a}," ",t)}var le=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.hideOnSmallScreen?"hide-on-small-screen":"";return r.a.createElement("div",{style:{lineHeight:"55px"}},r.a.createElement(ee.a,{to:y.a.HOME_PAGE_PATH},r.a.createElement(T.Header,{as:"h1",style:{textDecoration:"none",display:"inline-block"}},r.a.createElement(re,null),r.a.createElement(ie,{name:this.props.productName,className:e}),this.props.showVersionDetails&&!this.props.isCommunity&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{edition:this.props.licenseEdition,className:e}),r.a.createElement(oe,{version:this.props.productVersion,className:e})))),this.props.showVersionDetails&&r.a.createElement(ae,{isCommunity:this.props.isCommunity,isExpired:this.props.isExpired,isTrial:this.props.isTrial,className:e}))}}]),t}(a.Component);w()(le,"propTypes",{isCommunity:O.a.bool,isExpired:O.a.bool,isTrial:O.a.bool,productName:O.a.string,productVersion:O.a.string,licenseEdition:O.a.string,hideOnSmallScreen:O.a.bool}),w()(le,"defaultProps",{isCommunity:!1,isExpired:!1,isTrial:!1,productName:"",productVersion:"",licenseEdition:"",hideOnSmallScreen:!0});var ce=Object(i.connect)((function(e){return{isCommunity:_.get(e,"manager.version.edition",y.a.EDITION.PREMIUM)===y.a.EDITION.COMMUNITY,isExpired:_.get(e,"manager.license.status",y.a.LICENSE.EMPTY)===y.a.LICENSE.EXPIRED,isTrial:_.get(e,"manager.license.data.trial",!1),licenseEdition:_.get(e,"manager.license.data.license_edition",""),productName:_.get(e,"config.app.whiteLabel.productName","Cloudify"),productVersion:_.get(e,"manager.version.version",""),showVersionDetails:_.get(e,"config.app.whiteLabel.showVersionDetails",!0)}}),(function(e,t){return{}}))(le);function ue(e){var t=e.license,n=[{name:"expiration_date",header:"Expiration Date",icon:"clock",format:function(e){return _.isEmpty(e)?"Never":z.a.formatLocalTimestamp(e,"DD-MM-YYYY")}},{name:"cloudify_version",header:"Valid For Version",icon:"thumbs up",format:function(e){return _.isEmpty(e)?"All":String(e)}},{name:"license_edition",header:"License Edition",icon:"file alternate outline",format:String},{name:"capabilities",header:"Capabilities",icon:"wrench",format:function(e){return _.join(e,", ")},hide:_.isEmpty},{name:"trial",header:"Trial",icon:"lab",format:function(e){return e?"Yes":"No"},hide:function(e){return!e}},{name:"customer_id",header:"Licensed To",icon:"handshake",format:String,hide:_.isEmpty}];return!_.isEmpty(t)&&r.a.createElement(T.Segment,null,r.a.createElement(T.Table,{basic:"very",size:"large",celled:!0},r.a.createElement(T.Table.Body,null,_.map(n,(function(e){var n=t[e.name];return e.hide&&e.hide(n)?null:r.a.createElement(T.Table.Row,{key:e.header},r.a.createElement(T.Table.Cell,{width:5},r.a.createElement(T.Header,{as:"h4"},r.a.createElement(T.Icon,{name:e.icon,size:"large",style:{display:"inline-block",float:"left"}}),r.a.createElement(T.Header.Content,null,e.header))),r.a.createElement(T.Table.Cell,null,e.format(t[e.name])))})))))}function pe(e){var t=e.version,n=void 0===t?{}:t;n.distro=_.join([n.distribution,n.distro_release]," "),n.full_version="".concat(_.join(_.compact([n.version,n.build,n.date,n.commit])," "),"\n         (").concat(_.capitalize(n.edition),")");var a=[{name:"full_version",header:"Version",icon:"star",format:String},{name:"distro",header:"Distribution",icon:"linux",format:_.startCase,hide:_.isEmpty}];return _.isEmpty(n)?r.a.createElement(T.Message,null,"There is no version data."):r.a.createElement(T.Table,{basic:"very",size:"large",celled:!0},r.a.createElement(T.Table.Body,null,_.map(a,(function(e){var t=n[e.name];return e.hide&&e.hide(t)?null:r.a.createElement(T.Table.Row,{key:e.header},r.a.createElement(T.Table.Cell,{width:5},r.a.createElement(T.Header,{as:"h4"},r.a.createElement(T.Icon,{name:e.icon,size:"large",style:{display:"inline-block",float:"left"}}),r.a.createElement(T.Header.Content,null,e.header))),r.a.createElement(T.Table.Cell,null,e.format(n[e.name])))}))))}function de(){return r.a.createElement("a",{href:"https://cloudify.co/license",target:"_blank"},"End User License Agreement")}var he=function(e){function t(e){return s()(this,t),p()(this,h()(t).call(this,e))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=Stage.Basic,t=e.Button,n=e.CancelButton,a=e.Divider,i=e.Header,o=e.Modal;return r.a.createElement(o,{open:this.props.open,onClose:this.props.onHide},r.a.createElement(o.Header,{className:"mainBackgroundColor",style:{padding:0,paddingLeft:10}},r.a.createElement(ce,{hideOnSmallScreen:!1})),r.a.createElement(o.Content,null,r.a.createElement(i,null,"Version Details"),r.a.createElement(a,null),r.a.createElement(pe,{version:this.props.version}),r.a.createElement(i,null,"License Details"),r.a.createElement(a,null),r.a.createElement(ue,{license:this.props.license}),r.a.createElement(de,null)),r.a.createElement(o.Actions,null,this.props.canLicenseManagement&&r.a.createElement(t,{content:"License Management",icon:"key",color:"yellow",onClick:this.props.onLicenseManagment}),r.a.createElement(n,{content:"Close",onClick:this.props.onHide})))}}]),t}(a.Component);w()(he,"propTypes",{open:O.a.bool.isRequired,onHide:O.a.func.isRequired,version:O.a.object.isRequired,license:O.a.object,onLicenseManagment:O.a.func}),w()(he,"defaultProps",{onLicenseManagment:_.noop});var me=Object(i.connect)((function(e,t){var n=_.get(e,"manager",{});return{canLicenseManagement:_.get(n,"license.isRequired",!1)&&z.a.isUserAuthorized(y.a.permissions.LICENSE_UPLOAD,n),version:_.get(n,"version",{}),license:_.get(n,"license.data",{})}}),(function(e,t){return{onLicenseManagment:function(){return e(Object(B.push)(y.a.LICENSE_PAGE_PATH))}}}))(he),ge=n(24),fe=n.n(ge),ve=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state=t.initialState,a.state.tenants=e.tenants.items.map((function(e){return e.name})),a}return g()(t,e),c()(t,[{key:"toggleCheckbox",value:function(e,t){var n=this,a=t.name,r=fe()(this.state.tenants);_.includes(this.state.tenants,a)?r=_.pull(r,a):r.push(a),this.setState({tenants:r},(function(){return console.error(n.state.tenants)}))}},{key:"render",value:function(){var e=this;return this.props.tenants.items.length>1?r.a.createElement(T.Modal,{className:"tiny resetPagesModal",open:this.props.open,onClose:this.props.onHide},r.a.createElement(T.Modal.Header,null,r.a.createElement(T.Icon,{name:"user"})," Reset pages for tenants"),r.a.createElement(T.Modal.Content,null,"Please select tenants you would like to reset pages for:",r.a.createElement("br",null),r.a.createElement(T.Card,{fluid:!0},r.a.createElement(T.Card.Content,null,r.a.createElement(T.List,{relaxed:!0},this.props.tenants.items.map((function(t){return r.a.createElement(T.List.Item,{key:t.name},r.a.createElement(T.Checkbox,{name:t.name,defaultChecked:!0,onChange:e.toggleCheckbox.bind(e),label:t.name}))})))))),r.a.createElement(T.Modal.Actions,null,r.a.createElement(T.CancelButton,{onClick:this.props.onHide,disabled:this.state.loading}),r.a.createElement(T.ApproveButton,{onClick:function(){return e.props.onConfirm(e.state.tenants)},disabled:this.state.loading||_.isEmpty(this.state.tenants),icon:"undo",color:"green",content:"Reset"}))):r.a.createElement(T.Confirm,{content:"Are you sure you want to reset application screens to default?",open:this.props.open,onClose:this.props.onHide,onConfirm:function(){return e.props.onConfirm(e.state.tenants)},onCancel:this.props.onHide})}}]),t}(r.a.Component);w()(ve,"initialState",{loading:!1,tenants:[],errors:{}});var Ee=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state={showConfigureModal:!1,showResetPagesConfirm:!1,showAboutModal:!1},a}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.pageTitle;document.title=e}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.manager;return!_.isEqual(n,e.manager)||!_.isEqual(this.state,t)}},{key:"isModeMain",value:function(){return this.props.mode===y.a.MODE_MAIN}},{key:"isModeCustomer",value:function(){return this.props.mode===y.a.MODE_CUSTOMER}},{key:"render",value:function(){var e=this,t=this.props,n=t.manager,a=t.onResetPages,i=t.onSidebarOpen,o=this.state,s=o.showAboutModal,l=o.showResetPagesConfirm;return r.a.createElement("div",{className:"ui top fixed menu inverted secondary headerBar"},r.a.createElement(T.Icon,{link:!0,name:"content",className:"sidebar-button show-on-small-screen",size:"large",onClick:i}),r.a.createElement(ce,null),r.a.createElement("div",{className:"right menu"},!this.isModeCustomer()&&r.a.createElement("div",{className:"item",style:{margin:0,padding:0}},r.a.createElement(G,null)),this.isModeMain()&&r.a.createElement(I,{manager:n}),r.a.createElement($,{onAbout:function(){return e.setState({showAboutModal:!0})}}),r.a.createElement(Z,{manager:n,showAllOptions:!this.isModeCustomer(),onReset:function(){return e.setState({showResetPagesConfirm:!0})}})),r.a.createElement(ve,{open:l,tenants:n.tenants,onConfirm:function(t){e.setState({showResetPagesConfirm:!1}),a(t)},onHide:function(){return e.setState({showResetPagesConfirm:!1})}}),r.a.createElement(me,{open:s,onHide:function(){return e.setState({showAboutModal:!1})}}))}}]),t}(a.Component);w()(Ee,"propTypes",{manager:O.a.any.isRequired,mode:O.a.string.isRequired,pageTitle:O.a.string.isRequired,onResetPages:O.a.func.isRequired,onSidebarOpen:O.a.func.isRequired});var ye=n(147),be=n(59),_e=Object(i.connect)((function(e,t){return{manager:e.manager||{},mode:e.config.mode,pageTitle:_.get(e,"config.app.whiteLabel.pageTitle")}}),(function(e,t){return{onResetPages:function(t){_.forEach(t,(function(t){e(Object(ye.c)(t))}))},onSidebarOpen:function(){e(Object(be.e)())}}}))(Ee),we=n(154),Ce=n(184),Oe=n(134),Pe=n(152),Te=n(39),Se=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(T.Segment,{style:this.props.style},r.a.createElement(T.Icon,{name:"block layout"})," Pages",r.a.createElement(T.Divider,null),r.a.createElement(T.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light"},this.props.pages.map((function(t){return r.a.createElement(T.List.Item,{key:t},t,e.props.custom&&_.size(e.props.pages)>1&&r.a.createElement(T.PopupConfirm,{trigger:r.a.createElement(T.Icon,{link:!0,name:"remove",className:"right floated",onClick:function(e){return e.stopPropagation()}}),content:"Are you sure to remove this page from template?",onConfirm:function(){return e.props.onDelete(t)}}))})),_.isEmpty(this.props.pages)&&r.a.createElement(T.Message,{content:"No pages available"})))}}]),t}(a.Component);w()(Se,"propTypes",{pages:O.a.any.isRequired,onDelete:O.a.func,custom:O.a.bool,style:O.a.any});var ke=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(T.Segment,{style:this.props.style},r.a.createElement(T.Icon,{name:"student"})," Roles",r.a.createElement(T.Divider,null),r.a.createElement(T.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light"},this.props.roles.map((function(t){return r.a.createElement(T.List.Item,{key:t},t,e.props.custom&&_.size(e.props.roles)>1&&r.a.createElement(T.PopupConfirm,{trigger:r.a.createElement(T.Icon,{link:!0,name:"remove",className:"right floated",onClick:function(e){return e.stopPropagation()}}),content:"Are you sure to remove this role from template?",onConfirm:function(){return e.props.onDelete(t)}}))})),_.isEmpty(this.props.roles)&&r.a.createElement(T.Message,{content:"No roles available"})))}}]),t}(a.Component);w()(ke,"propTypes",{roles:O.a.any.isRequired,onDelete:O.a.func,custom:O.a.bool,style:O.a.any}),w()(ke,"defaultProps",{roles:[]});var Ie=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(T.Segment,{style:this.props.style},r.a.createElement(T.Icon,{name:"male"})," Tenants",r.a.createElement(T.Divider,null),r.a.createElement(T.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light"},this.props.tenants.map((function(t){return r.a.createElement(T.List.Item,{key:t},t===y.a.DEFAULT_ALL?"all":t,e.props.custom&&_.size(e.props.tenants)>1&&r.a.createElement(T.PopupConfirm,{trigger:r.a.createElement(T.Icon,{link:!0,name:"remove",className:"right floated",onClick:function(e){return e.stopPropagation()}}),content:"Are you sure to remove this tenant from template?",onConfirm:function(){return e.props.onDelete(t)}}))})),_.isEmpty(this.props.tenants)&&r.a.createElement(T.Message,{content:"No tenants available"})))}}]),t}(a.Component);w()(Ie,"propTypes",{tenants:O.a.any.isRequired,onDelete:O.a.func,custom:O.a.bool,style:O.a.any}),w()(Ie,"defaultProps",{tenants:[]});var De=n(440),Ae=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(T.Segment,{color:"blue"},r.a.createElement(T.Header,{dividing:!0,as:"h5"},"Templates"),r.a.createElement(T.DataTable,null,r.a.createElement(T.DataTable.Column,{label:"Template id",width:"25%"}),r.a.createElement(T.DataTable.Column,{label:"Roles",width:"25%"}),r.a.createElement(T.DataTable.Column,{label:"Tenants",width:"10%"}),r.a.createElement(T.DataTable.Column,{label:"Updated at",width:"15%"}),r.a.createElement(T.DataTable.Column,{label:"Updated by",width:"15%"}),r.a.createElement(T.DataTable.Column,{width:"10%"}),this.props.templates.map((function(t){var n=t.data||{roles:[],tenants:[]},a=n.roles,i=n.tenants,o=_.indexOf(i,y.a.DEFAULT_ALL)>=0?_.size(e.props.tenants.items):_.size(i);return r.a.createElement(T.DataTable.RowExpandable,{key:t.id,expanded:t.selected},r.a.createElement(T.DataTable.Row,{key:t.id,selected:t.selected,onClick:function(){return e.props.onSelectTemplate(t)}},r.a.createElement(T.DataTable.Data,null,r.a.createElement(T.Header,{as:"a",size:"small"},t.id)),r.a.createElement(T.DataTable.Data,null,a.map((function(e,t){return r.a.createElement("span",{key:e},e===y.a.DEFAULT_ALL?"all":e,t<a.length-1&&r.a.createElement("span",null,", "))}))),r.a.createElement(T.DataTable.Data,null,r.a.createElement(T.Label,{color:"green",horizontal:!0},o)),r.a.createElement(T.DataTable.Data,null,t.updatedAt&&z.a.Time.formatLocalTimestamp(t.updatedAt)),r.a.createElement(T.DataTable.Data,null,t.updatedBy),r.a.createElement(T.DataTable.Data,{className:"center aligned rowActions"},t.custom&&r.a.createElement("div",null,r.a.createElement(T.PopupConfirm,{trigger:r.a.createElement(T.Icon,{name:"remove",link:!0,onClick:function(e){return e.stopPropagation()}}),content:"Are you sure to remove this template?",onConfirm:function(){return e.props.onDeleteTemplate(t)}}),r.a.createElement(De.a,{availableTenants:e.props.tenants,availablePages:e.props.pages,availableRoles:e.props.roles,templateName:t.id,pages:t.pages,roles:a,tenants:i,onCreateTemplate:function(){for(var n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=e.props).onModifyTemplate.apply(n,[t].concat(r))}})))),r.a.createElement(T.DataTable.DataExpandable,{key:t.id},r.a.createElement(T.Segment.Group,{horizontal:!0},r.a.createElement(Se,{pages:t.pages,custom:t.custom,onDelete:function(n){return e.props.onRemoveTemplatePage(t,n)},style:{width:"33%"}}),r.a.createElement(ke,{roles:a,custom:t.custom,onDelete:function(n){return e.props.onRemoveTemplateRole(t,n)},style:{width:"33%"}}),r.a.createElement(Ie,{tenants:i,custom:t.custom,onDelete:function(n){return e.props.onRemoveTemplateTenant(t,n)},style:{width:"33%"}}))))})),r.a.createElement(T.DataTable.Action,null,r.a.createElement(De.a,{availableTenants:this.props.tenants,availablePages:this.props.pages,availableRoles:this.props.roles,onCreateTemplate:this.props.onCreateTemplate}))))}}]),t}(a.Component);w()(Ae,"propTypes",{templates:O.a.array,pages:O.a.array,roles:O.a.array,tenants:O.a.object,onSelectTemplate:O.a.func,onRemoveTemplatePage:O.a.func,onRemoveTemplateRole:O.a.func,onRemoveTemplateTenant:O.a.func,onCreateTemplate:O.a.func,onModifyTemplate:O.a.func,onDeleteTemplate:O.a.func}),w()(Ae,"defaultProps",{templates:[],pages:[],tenants:{items:[]}});var je=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state=t.initialState(!1,e),a}return g()(t,e),c()(t,[{key:"_openModal",value:function(){this.setState(t.initialState(!0,this.props))}},{key:"_submitCreate",value:function(){var e=this,t={};if(_.isEmpty(_.trim(this.state.pageName))&&(t.pageName="Please provide correct page name"),!_.isEmpty(t))return this.setState({errors:t}),!1;this.setState({loading:!0}),this.props.onCreatePage(_.trim(this.state.pageName)).catch((function(t){e.setState({errors:{error:t.message},loading:!1})}))}},{key:"_handleInputChange",value:function(e,t){this.setState(T.Form.fieldNameValue(t))}},{key:"render",value:function(){var e=this,t=r.a.createElement(T.Button,{content:"Create page",icon:"block layout",labelPosition:"left",className:"createPageButton"});return r.a.createElement(T.Modal,{trigger:t,open:this.state.open,onOpen:this._openModal.bind(this),onClose:function(){return e.setState({open:!1})},className:"createPageModal"},r.a.createElement(T.Modal.Header,null,r.a.createElement(T.Icon,{name:"block layout"}),"Create page"),r.a.createElement(T.Modal.Content,null,r.a.createElement(T.Form,{loading:this.state.loading,errors:this.state.errors,onErrorsDismiss:function(){return e.setState({errors:{}})}},r.a.createElement(T.Form.Field,{error:this.state.errors.pageName},r.a.createElement(T.Form.Input,{name:"pageName",placeholder:"Page name",value:this.state.pageName,onChange:this._handleInputChange.bind(this)})))),r.a.createElement(T.Modal.Actions,null,r.a.createElement(T.CancelButton,{onClick:function(){return e.setState({open:!1})},disabled:this.state.loading}),r.a.createElement(T.ApproveButton,{onClick:this._submitCreate.bind(this),disabled:this.state.loading,content:"Create",icon:"checkmark",color:"green"})))}}]),t}(a.Component);w()(je,"initialState",(function(e,t){return{open:e,loading:!1,pageName:t.pageName,errors:{}}})),w()(je,"propTypes",{onCreatePage:O.a.func.isRequired}),w()(je,"defaultProps",{pageName:""});var Re=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return r.a.createElement(T.Segment,{style:this.props.style},r.a.createElement(T.Icon,{name:"list layout"})," Templates",r.a.createElement(T.Divider,null),r.a.createElement(T.List,{divided:!0,relaxed:!0,verticalAlign:"middle",className:"light"},this.props.templates.map((function(e){return r.a.createElement(T.List.Item,{key:e},e)})),_.isEmpty(this.props.templates)&&r.a.createElement(T.Message,{content:"Page not used by any template"})))}}]),t}(a.Component);w()(Re,"propTypes",{templates:O.a.any.isRequired,style:O.a.any}),w()(Re,"defaultProps",{tenants:[]});var Ne=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(T.Segment,{color:"red"},r.a.createElement(T.Header,{dividing:!0,as:"h5"},"Pages"),r.a.createElement(T.DataTable,null,r.a.createElement(T.DataTable.Column,{label:"Page id",width:"25%"}),r.a.createElement(T.DataTable.Column,{label:"Page name",width:"25%"}),r.a.createElement(T.DataTable.Column,{label:"Templates",width:"10%"}),r.a.createElement(T.DataTable.Column,{label:"Updated at",width:"15%"}),r.a.createElement(T.DataTable.Column,{label:"Updated by",width:"15%"}),r.a.createElement(T.DataTable.Column,{width:"10%"}),this.props.pages.map((function(t){return r.a.createElement(T.DataTable.RowExpandable,{key:t.id,expanded:t.selected},r.a.createElement(T.DataTable.Row,{key:t.id,selected:t.selected,onClick:function(){return e.props.onSelectPage(t)}},r.a.createElement(T.DataTable.Data,null,r.a.createElement(T.Header,{as:"a",size:"small"},t.id)),r.a.createElement(T.DataTable.Data,null,t.name),r.a.createElement(T.DataTable.Data,null,r.a.createElement(T.Label,{color:"blue",horizontal:!0},_.size(t.templates))),r.a.createElement(T.DataTable.Data,null,t.updatedAt&&z.a.Time.formatLocalTimestamp(t.updatedAt)),r.a.createElement(T.DataTable.Data,null,t.updatedBy),r.a.createElement(T.DataTable.Data,{className:"center aligned rowActions"},t.custom?r.a.createElement("div",null,r.a.createElement(T.PopupConfirm,{trigger:r.a.createElement(T.Icon,{name:"remove",link:!0,onClick:function(e){return e.stopPropagation()}}),content:"Are you sure to remove this page?",onConfirm:function(){return e.props.onDeletePage(t)},onCanConfirm:function(){return e.props.onCanDeletePage(t)}}),r.a.createElement(T.Icon,{name:"edit",link:!0,className:"updatePageIcon",onClick:function(n){n.stopPropagation(),e.props.onEditPage(t)}})):r.a.createElement("div",null,r.a.createElement(T.Icon,{name:"search",link:!0,className:"updatePageIcon",onClick:function(n){n.stopPropagation(),e.props.onPreviewPage(t)}})))),r.a.createElement(T.DataTable.DataExpandable,{key:t.id},r.a.createElement(Re,{templates:t.templates})))})),r.a.createElement(T.DataTable.Action,null,r.a.createElement(je,{onCreatePage:this.props.onCreatePage}))))}}]),t}(a.Component);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}w()(Ne,"propTypes",{pages:O.a.array,onSelectPage:O.a.func,onCreatePage:O.a.func,onDeletePage:O.a.func,onCanDeletePage:O.a.func,onEditPage:O.a.func,onPreviewPage:O.a.func}),w()(Ne,"defaultProps",{pages:[]});var Me=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.onTemplatesLoad()}},{key:"componentWillUnmount",value:function(){this.props.onClear()}},{key:"_selectTemplate",value:function(e){this.props.onTemplateSelect(e.id)}},{key:"_selectPage",value:function(e){this.props.onPageSelect(e.id)}},{key:"_createTemplate",value:function(e,t,n,a){var r={id:e.trim(),data:{roles:t,tenants:n},pages:a};return this.props.onTemplateCreate(r)}},{key:"_deleteTemplate",value:function(e){this.props.onTemplateDelete(e.id)}},{key:"_modifyTemplate",value:function(e,t,n,a,r){var i={oldId:e.id,id:t.trim(),data:{roles:n,tenants:_.isEmpty(a)?[y.a.DEFAULT_ALL]:a},pages:r};return this.props.onTemplateUpdate(i)}},{key:"_removeTemplatePage",value:function(e,t){e.pages=_.without(e.pages,t),this._updateTemplate(e)}},{key:"_removeTemplateRole",value:function(e,t){e.data.roles=_.without(e.data.roles,t),this._updateTemplate(e)}},{key:"_removeTemplateTenant",value:function(e,t){e.data.tenants=_.without(e.data.tenants,t),this._updateTemplate(e)}},{key:"_updateTemplate",value:function(e){return this.props.onTemplateUpdate(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{oldId:e.id}))}},{key:"_deletePage",value:function(e){this.props.onPageDelete(e.id)}},{key:"_canDeletePage",value:function(e){return _.isEmpty(e.templates)?null:"Page is used by the templates and cannot be deleted"}},{key:"_editPage",value:function(e){this.props.onPageEdit(e.id,e.name)}},{key:"_previewPage",value:function(e){this.props.onPagePreview(e.id,e.name)}},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(T.Segment,{basic:!0,loading:this.props.isLoading},r.a.createElement("div",null,r.a.createElement(T.Breadcrumb,{className:"breadcrumbLineHeight"},r.a.createElement(T.Breadcrumb.Section,{active:!0},"Template management")),r.a.createElement(T.Button,{content:"Close",basic:!0,compact:!0,floated:"right",icon:"sign out",onClick:this.props.onClose})),r.a.createElement(T.Divider,null),r.a.createElement(T.ErrorMessage,{error:this.props.error}),r.a.createElement(Ae,{templates:this.props.templates,pages:this.props.pages,roles:this.props.roles,tenants:this.props.manager.tenants,onSelectTemplate:this._selectTemplate.bind(this),onRemoveTemplatePage:this._removeTemplatePage.bind(this),onRemoveTemplateRole:this._removeTemplateRole.bind(this),onRemoveTemplateTenant:this._removeTemplateTenant.bind(this),onCreateTemplate:this._createTemplate.bind(this),onModifyTemplate:this._modifyTemplate.bind(this),onDeleteTemplate:this._deleteTemplate.bind(this)}),r.a.createElement(Ne,{pages:this.props.pages,onSelectPage:this._selectPage.bind(this),onCreatePage:this.props.onPageCreate,onDeletePage:this._deletePage.bind(this),onEditPage:this._editPage.bind(this),onPreviewPage:this._previewPage.bind(this),onCanDeletePage:this._canDeletePage.bind(this)})))}}]),t}(a.Component);w()(Me,"propTypes",{onTemplatesLoad:O.a.func.isRequired,onTemplateCreate:O.a.func.isRequired,onTemplateUpdate:O.a.func.isRequired,onTemplateDelete:O.a.func.isRequired,onTemplateSelect:O.a.func.isRequired,onPageCreate:O.a.func.isRequired,onPageDelete:O.a.func.isRequired,onPageEdit:O.a.func.isRequired,onPagePreview:O.a.func.isRequired,onPageSelect:O.a.func.isRequired,onClear:O.a.func.isRequired,onClose:O.a.func.isRequired,templates:O.a.array,pages:O.a.array,roles:O.a.array}),w()(Me,"defaultProps",{templates:[],pages:[],isLoading:!1,error:null});var Le=n(40),Ue=Object(i.connect)((function(e,t){var n=e.templateManagement||{},a=_.map(e.manager.roles,(function(e){return{text:e.description?"".concat(e.name," - ").concat(e.description):e.name,value:e.name}}));return{manager:e.manager,templates:n.templates,pages:n.pages,roles:a,isLoading:n.isLoading,error:n.error}}),(function(e,t,n){return{onTemplatesLoad:function(){return e(Object(Le.k)())},onTemplateCreate:function(t){return e(Object(Le.f)(t))},onTemplateUpdate:function(t){return e(Object(Le.t)(t))},onTemplateDelete:function(t){return e(Object(Le.h)(t))},onTemplateSelect:function(t){return e(Object(Le.q)(t))},onPageCreate:function(t){return e(Object(Le.e)(t))},onPageDelete:function(t){return e(Object(Le.g)(t))},onPagePreview:function(t,n){return e(Object(Le.r)(t,n,!1))},onPageEdit:function(t,n){return e(Object(Le.r)(t,n,!0))},onPageSelect:function(t){return e(Object(Le.p)(t))},onClear:function(){return e(Object(Le.d)())},onClose:function(){return e(Object(Te.i)())}}}))(Me),Fe=n(817),qe=Object(i.connect)((function(e,t){var n=e.templateManagement||{},a=_.clone(n.page),r=_.map(a.widgets,(function(t){var n=_.clone(t);return n.definition=_.find(e.widgetDefinitions,{id:n.definition}),n}));return a.widgets=r,{error:n.error,isPageEditMode:n.isPageEditMode,showDrillDownWarn:n.showDrillDownWarn,page:a}}),(function(e,t,n){return{onClose:function(){return e(Object(Te.i)())},onClear:function(){return e(Object(Le.c)())},onTemplateNavigate:function(){return e(Object(B.push)("/template_management"))},onWidgetsGridDataChange:function(t,n,a){e(Object(Le.b)(n,a))},onPageSave:function(t){e(Object(Le.o)(t))},onPageNameChange:function(t){e(Object(Le.s)(t))},onCloseDrillDownWarning:function(){e(Object(Le.i)(!1))}}}))(Fe.a),ze=n(213),Ge=n(820);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var We=function(e,t){return function t(n){return n.parent?t(e[n.parent]):n.id}(e[t])};var He=Object(i.connect)((function(e,t){var n=e.pages,a=Object(Te.f)(n),r=a[t.pageId],i=n[0].id,o=r?r.id:i;return{pages:n,selected:n&&n.length>0?We(a,o):null}}),(function(e,t){return{onPageSelected:function(t){e(Object(Te.j)(t.id,t.isDrillDown))},onPageRemoved:function(n,a){var r=Object(Te.f)(a),i=We(r,t.pageId);i===n.id&&(i===t.homePageId?e(Object(Te.j)(a[1].id,!1)):e(Object(Te.j)(t.homePageId,!1))),e(Object(Te.g)(n))},onPageReorder:function(t,n){e(Object(Te.h)(t,n))},onSidebarClose:function(){e(Object(be.e)())}}}),(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{},t,{},e,{onPageRemoved:function(n){t.onPageRemoved(n,e.pages)}})}))(Ge.a),Ve=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.isOpen?"open":"";return r.a.createElement("div",{className:"sidebarContainer"},r.a.createElement("div",{className:"ui visible left vertical sidebar menu small basic  ".concat(e)},r.a.createElement(He,{pageId:this.props.pageId,isEditMode:this.props.isEditMode,homePageId:this.props.homePageId})))}}]),t}(a.Component);w()(Ve,"propTypes",{homePageId:O.a.string.isRequired,pageId:O.a.string.isRequired,isEditMode:O.a.bool.isRequired,isOpen:O.a.bool});var Ye=Object(i.connect)((function(e,t){var n=e.pages[0].id;return{homePageId:n,pageId:t.pageId||n,isEditMode:e.config.isEditMode||!1,isOpen:e.app.sidebarIsOpen||!1}}),{})(Ve),Xe=n(821),Ke=n(214);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ze=function(e,t,n){var a=Object(Te.f)(e),r=[],i=t.length-1;return function n(o){var s=o||e[0],l=i>=0?t[i]:{};i-=1,r.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s,{name:l.pageName||s.name,context:l.context})),s.parent&&n(a[s.parent])}(a[n]),r},Qe=Object(i.connect)((function(e,t){var n=e.pages,a=Object(Te.f)(n)[t.pageId],r=n[0].id,i=a?a.id:r,o=_.clone(_.find(n,{id:i}));return o.widgets=_.map(o.widgets,(function(t){var n=_.clone(t);return n.definition=_.find(e.widgetDefinitions,{id:n.definition}),n})),o.name=t.pageName||o.name,{page:o,pagesList:Ze(n,e.drilldownContext,i),isEditMode:e.config.isEditMode||!1}}),(function(e){return{onPageNameChange:function(t,n){e(Object(Te.c)(t,n))},onPageDescriptionChange:function(t,n){e(Object(Te.b)(t,n))},onPageSelected:function(t,n,a){for(var r=[],i=1;i<=a-1;i+=1)r.push({pageName:n[i].name,context:n[i].context});e(Object(Ke.b)(r)),e(Object(Te.j)(t.id,t.isDrillDown,t.context,t.name))},onWidgetsGridDataChange:function(t,n,a){e(Object(J.b)(t,n,a))},onEditModeExit:function(){e(Object(K.a)(!1))}}}))(Xe.a),$e=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state={open:!1,hovered:!1},a}return g()(t,e),c()(t,[{key:"startTour",value:function(e){this.props.onTourStart(e)}},{key:"_onMouseOver",value:function(){this.setState({hovered:!0})}},{key:"_onMouseOut",value:function(){this.setState({hovered:!1})}},{key:"render",value:function(){var e=this,t={position:"fixed",right:"20px",bottom:"20px",zIndex:9,opacity:this.state.hovered?1:.5};return!_.isEmpty(this.props.tours)&&r.a.createElement(T.PopupMenu,{onClose:this._onMouseOut.bind(this)},r.a.createElement(T.Popup.Trigger,null,r.a.createElement(T.Button,{title:"Take a tour",circular:!0,color:"blue",size:"huge",icon:"map signs",id:"toursButton",onMouseOver:this._onMouseOver.bind(this),onMouseOut:this._onMouseOut.bind(this),style:t,onClick:function(e){return e.stopPropagation()}})),r.a.createElement(T.Menu,{vertical:!0},r.a.createElement(T.Menu.Item,{header:!0},"Tours"),this.props.tours.map((function(t){return r.a.createElement(T.Menu.Item,{key:t.id,onClick:function(){return e.startTour(t)}},t.name)}))))}}]),t}(r.a.Component);w()($e,"propTypes",{tours:O.a.array.isRequired,onTourStart:O.a.func.isRequired});var et=n(216),tt=Object(i.connect)((function(e,t){return{tours:e.tours}}),(function(e,t){return{onTourStart:function(t){return e(Object(et.b)(t))}}}))($e),nt=function(e){function t(e,n){return s()(this,t),p()(this,h()(t).call(this,e,n))}return g()(t,e),c()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.onStorePageId(this.props.pageId),this._handleContext(this.props.contextParams)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.pageId!==this.props.pageId&&(this.props.onStorePageId(e.pageId),this._handleContext(e.contextParams))}},{key:"componentDidUpdate",value:function(){this.props.isMaintenance&&this.props.navigateToMaintenancePage(),this.props.emptyPages&&this.props.navigateToError("No pages available to display. Please try to reset application to the default settings."),this.props.selectedPage||this.props.navigateTo404()}},{key:"_handleContext",value:function(e){var t=this;this.props.onClearContext(),_.each(e,(function(e){_.each(e.context,(function(e,n){t.props.onSetContextValue(n,e)}))})),this.props.onSetDrilldownContext(e)}},{key:"render",value:function(){if(this.props.emptyPages)return null;var e=this.props.pageId,t=this.props.pageName;return r.a.createElement("div",{className:"main"},r.a.createElement(tt,null),r.a.createElement(Ye,{pageId:e}),r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"ui basic segment"},r.a.createElement(Qe,{pageId:e,pageName:t}))))}}]),t}(a.Component),at=n(67),rt=Object(i.connect)((function(e,t){var n=e.pages,a=_.isEmpty(n)?"":n[0].id,r=t.match.params.pageId||a,i=t.match.params.pageName||"",o=Object(ze.parse)(t.location.search),s=o.c?JSON.parse(o.c):[];return{emptyPages:_.isEmpty(n),selectedPage:_.find(n,{id:r}),pageId:r,pageName:i,contextParams:s,isMaintenance:e.manager.maintenance===y.a.MAINTENANCE_ACTIVATED}}),(function(e,t){return{onClearContext:function(){e(Object(at.a)())},onSetContextValue:function(t,n){e(Object(at.b)(t,n))},onSetDrilldownContext:function(t){e(Object(Ke.b)(t))},navigateTo404:function(){e(Object(B.push)(y.a.ERROR_404_PAGE_PATH))},navigateToError:function(t){e(Object(be.b)(t)),e(Object(B.push)(y.a.ERROR_PAGE_PATH))},navigateToMaintenancePage:function(){e(Object(B.push)(y.a.MAINTENANCE_PAGE_PATH))},onStorePageId:function(t){e(Object(be.d)(t))}}}))(nt),it=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return r.a.createElement(T.MessageContainer,null,r.a.createElement(T.Header,{as:"h2"},r.a.createElement(T.Label,{horizontal:!0,size:"massive",color:"blue"},"404")," ","Page Not Found"),r.a.createElement(T.Message,null,"We are sorry, but the page you are looking for doesn't exist."),r.a.createElement(ee.a,{to:y.a.HOME_PAGE_PATH},"Go to the Homepage"))}}]),t}(a.Component),ot=n(1475),st=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(a.Component),lt=Object(ot.a)(st),ct=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state=t.initialState,a}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;console.log("First time logging in , fetching stuff"),this.props.intialPageLoad().then((function(){we.a.getPoller().start(),Ce.a.getAutoSaver().start(),e.setState({initialized:!0})})).catch((function(t){switch(t){case Pe.b:e.props.doLogout(null,"noTenants");break;case Pe.c:break;default:e.props.doLogout("Error initializing user data, cannot load page")}}))}},{key:"componentWillUnmount",value:function(){we.a.getPoller().stop(),Ce.a.getAutoSaver().stop()}},{key:"render",value:function(){return this.props.isLoading?(Oe.a.turnOn(),null):(Oe.a.turnOff(),this.state.initialized?r.a.createElement(lt,null,r.a.createElement(_e,null),r.a.createElement(f.a,null,this.props.isUserAuthorizedForTemplateManagement&&r.a.createElement(v.a,{exact:!0,path:"/template_management",component:Ue}),this.props.isUserAuthorizedForTemplateManagement&&this.props.isPageSetForPageManagement&&r.a.createElement(v.a,{exact:!0,path:"/page_management",component:qe}),r.a.createElement(v.a,{exact:!0,path:"/page/:pageId/:pageName",component:rt}),r.a.createElement(v.a,{exact:!0,path:"/page/:pageId",component:rt}),r.a.createElement(v.a,{exact:!0,path:y.a.HOME_PAGE_PATH,component:rt}),r.a.createElement(v.a,{render:function(){return r.a.createElement(E.a,{to:y.a.ERROR_404_PAGE_PATH})}}))):null)}}]),t}(a.Component);w()(ct,"propTypes",{isLoading:O.a.bool.isRequired,isUserAuthorizedForTemplateManagement:O.a.bool.isRequired,isPageSetForPageManagement:O.a.bool,intialPageLoad:O.a.func.isRequired}),w()(ct,"initialState",{initialized:!1});var ut=Object(i.connect)((function(e,t){return{isLoading:e.app.loading,isUserAuthorizedForTemplateManagement:e.manager&&e.manager.permissions&&z.a.isUserAuthorized(y.a.permissions.STAGE_TEMPLATE_MANAGEMENT,e.manager),isPageSetForPageManagement:!!e.templateManagement&&!_.isEmpty(e.templateManagement.page)}}),(function(e,t){return{intialPageLoad:function(){return e(Object(be.a)())},doLogout:function(t,n){return e(Object(X.g)(t,n))}}}))(ct);function pt(e){var t=e.children;return r.a.createElement(T.Segment,{className:"logoPage"},t)}var dt=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return this.props.portalUrl?r.a.createElement("a",{href:this.props.portalUrl},"Back to apps"):r.a.createElement(ee.a,{to:{pathname:y.a.LOGIN_PAGE_PATH,search:this.props.searchQuery}},"Back to login")}}]),t}(a.Component);w()(dt,"propTypes",{portalUrl:O.a.string,searchQuery:O.a.string.isRequired});var ht=Object(i.connect)((function(e,t){return{portalUrl:e.config.app.saml.enabled?e.config.app.saml.portalUrl:null,searchQuery:e.router.location.search}}),(function(e,t){return{}}))(dt),mt=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return _.isEmpty(this.props.error)?r.a.createElement(E.a,{to:y.a.LOGOUT_PAGE_PATH}):r.a.createElement(T.MessageContainer,null,r.a.createElement(T.Header,{as:"h2"},"Unexpected Error Occurred"),r.a.createElement(T.Message,{content:this.props.error,error:!0}),r.a.createElement(ht,null))}}]),t}(a.Component),gt=Object(i.connect)((function(e,t){return{error:e.app.error}}),(function(e,t){return{}}))(mt),ft=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return r.a.createElement(T.MessageContainer,null,r.a.createElement(T.Header,{as:"h2"},"User is not associated with any tenants."),r.a.createElement(T.Message,null,"Unfortunately you cannot login since your account is not associated with any tenants. Please ask the administrator to assign at least one tenant to your account."),r.a.createElement(ht,null))}}]),t}(a.Component),vt=Object(i.connect)((function(e,t){return{}}),(function(e,t){return{}}))(ft),Et=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){return r.a.createElement(pt,null,r.a.createElement(re,null),r.a.createElement(f.a,null,r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_PAGE_PATH,component:gt}),r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_NO_TENANTS_PAGE_PATH,component:vt}),r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_404_PAGE_PATH,component:it})))}}]),t}(a.Component),yt=n(311);n(1449);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var _t=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state={username:e.username||"",password:"",errors:{}},a}return g()(t,e),c()(t,[{key:"onSubmit",value:function(){var e={};if(_.isEmpty(this.state.username)&&(e.username="Please provide username"),_.isEmpty(this.state.password)&&(e.password="Please provide password"),!_.isEmpty(e))return this.setState({errors:e}),!1;var t=Object(ze.parse)(this.props.location.search).redirect||null;this.props.onLogin(this.state.username,this.state.password,t)}},{key:"_handleInputChange",value:function(e,t){var n=T.Form.fieldNameValue(t);this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{errors:{}}))}},{key:"render",value:function(){Oe.a.turnOff();var e=_.get(this.props,"whiteLabel.loginPageHeader"),t=_.get(this.props,"whiteLabel.loginPageHeaderColor"),n=_.get(this.props,"whiteLabel.loginPageText"),a=_.get(this.props,"whiteLabel.loginPageTextColor"),i=!_.isEmpty(e)||!_.isEmpty(n);return r.a.createElement(pt,null,r.a.createElement("div",{className:"loginContainer ".concat(i?"loginContainerExtended":"")},r.a.createElement(re,null),i&&r.a.createElement("div",{style:{textAlign:"center",marginBottom:30}},e&&r.a.createElement("h2",{style:{color:t,fontSize:"2em",fontFamily:"JosefinSans-Bold, sans-serif"}},e),n&&r.a.createElement("p",{style:{color:a,fontSize:"1.1em"}},n)),r.a.createElement(T.Form,{onSubmit:this.onSubmit.bind(this)},r.a.createElement(T.Form.Field,{required:!0,error:this.state.errors.username},r.a.createElement(T.Input,{name:"username",type:"text",placeholder:"Username",autoFocus:!0,value:this.state.username,onChange:this._handleInputChange.bind(this)})),r.a.createElement(T.Form.Field,{required:!0,error:this.state.errors.password},r.a.createElement(T.Input,{name:"password",type:"password",placeholder:"Password",value:this.state.password,onChange:this._handleInputChange.bind(this)})),this.props.loginError&&r.a.createElement(T.Message,{error:!0,style:{display:"block"}},this.props.loginError),r.a.createElement(T.Button,{disabled:this.props.isLoggingIn,loading:this.props.isLoggingIn,color:"yellow",size:"large",type:"submit",content:"LOGIN"}))))}}]),t}(a.Component);w()(_t,"propTypes",{username:O.a.string,loginError:O.a.string,onLogin:O.a.func.isRequired,isLoggingIn:O.a.bool.isRequired,whiteLabel:O.a.object});var wt=Object(yt.a)(Object(i.connect)((function(e){return{username:e.manager?e.manager.username:"",isLoggingIn:e.manager.isLoggingIn,loginError:e.manager?e.manager.err:"",mode:e.config.mode,whiteLabel:e.config.app.whiteLabel}}),(function(e,t){return{onLogin:function(t,n,a){e(Object(X.f)(t,n,a))}}}))(_t));function Ct(e){var t=e.error,n=e.isLoading,a=e.license,i=e.onChange,o=e.onErrorDismiss,s=e.onUpload;return r.a.createElement(T.Segment,null,r.a.createElement(T.Form,{errors:t,errorMessageHeader:"License error",onErrorsDismiss:o},r.a.createElement(T.Form.TextArea,{name:"license",autoHeight:!0,error:!!t,placeholder:"Paste the complete license string, including the license signature",value:a,onChange:i,disabled:n}),r.a.createElement(T.Button,{content:"Update",icon:"upload",color:"yellow",labelPosition:"left",disabled:_.isEmpty(a),loading:n,onClick:s})))}function Ot(e){var t=e.isEditLicenseActive,n=e.onClick,a=e.color;return r.a.createElement(T.Button,{content:t?"Show License":"Edit License",floated:"right",icon:t?"text file":"edit",color:a,labelPosition:"left",onClick:n})}function Pt(e){var t=e.canUploadLicense,n=e.isTrial,a=e.isEditLicenseActive,i=e.onLicenseButtonClick,o={icon:!0},s=function(e){var t=e.children;return r.a.createElement("span",null,t)};switch(e.status){case y.a.LICENSE.EMPTY:return r.a.createElement(T.Message,ne()({negative:!0},o),r.a.createElement(T.Icon,{name:"ban"}),r.a.createElement(T.Message.Content,null,r.a.createElement(T.Message.Header,null,"No active license"),t?r.a.createElement(s,null,"To activate this product, please enter the license key provided by Cloudify below and press update. Visit the Cloudify"," ",r.a.createElement("a",{target:"_blank",href:"https://cloudify.co"},"web site")," ","to learn more and acquire a free",r.a.createElement("a",{target:"_blank",href:"https://cloudify.co/download/#trial"},"trial license"),"."):r.a.createElement(s,null,"To activate this product, please contact your Cloudify administrator.")));case y.a.LICENSE.EXPIRED:return n?r.a.createElement(T.Message,ne()({negative:!0},o),r.a.createElement(T.Icon,{name:"clock outline"}),r.a.createElement(T.Message.Content,null,t&&r.a.createElement(Ot,{isEditLicenseActive:a,onClick:i,color:"red"}),r.a.createElement(T.Message.Header,null,"The trial license has expired"),t?r.a.createElement(s,null,"Please contact"," ",r.a.createElement("a",{target:"_blank",href:"https://cloudify.co/contact"},"Cloudify"),"to obtain a license key."):r.a.createElement(s,null,"Please contact your Cloudify administrator."))):r.a.createElement(T.Message,ne()({warning:!0},o),r.a.createElement(T.Icon,{name:"clock outline"}),r.a.createElement(T.Message.Content,null,t&&r.a.createElement(Ot,{isEditLicenseActive:a,onClick:i,color:"brown"}),r.a.createElement(T.Message.Header,null,"Product license has expired"),t?r.a.createElement(s,null,"Please contact"," ",r.a.createElement("a",{target:"_blank",href:"https://cloudify.co/support"},"Cloudify support"),"to obtain a new license key."):r.a.createElement(s,null,"Please contact your Cloudify administrator.")));case y.a.LICENSE.ACTIVE:return r.a.createElement(T.Message,ne()({positive:!0},o),r.a.createElement(T.Icon,{name:"checkmark"}),r.a.createElement(T.Message.Content,null,t&&r.a.createElement(Ot,{isEditLicenseActive:a,onClick:i,color:"green"}),r.a.createElement(T.Message.Header,null,"License is valid"),r.a.createElement(s,null,"No action required.")))}}var Tt=function(e){function t(e){var n;return s()(this,t),(n=p()(this,h()(t).call(this,e))).state={error:null,isLoading:!1,isEditLicenseActive:!1,license:""},n.onErrorDismiss=n.onErrorDismiss.bind(H()(n)),n.onLicenseButtonClick=n.onLicenseButtonClick.bind(H()(n)),n.onLicenseEdit=n.onLicenseEdit.bind(H()(n)),n.onLicenseUpload=n.onLicenseUpload.bind(H()(n)),n.toolbox=z.a.getToolbox((function(){}),(function(){}),null),n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;return this.setState({isLoading:!0}),this.toolbox.getManager().doGet("/license").then((function(t){var n=_.get(t,"items[0]",{});e.setState({isLoading:!1,error:null,isEditLicenseActive:_.isEmpty(n)}),e.props.onLicenseChange(n)})).catch((function(t){return e.setState({isLoading:!1,error:t.message})}))}},{key:"onErrorDismiss",value:function(){this.setState({error:null})}},{key:"onLicenseEdit",value:function(e,t){this.setState(T.Form.fieldNameValue(t))}},{key:"onLicenseUpload",value:function(){var e=this;return this.setState({isLoading:!0}),this.toolbox.getManager().doPut("/license",null,this.state.license).then((function(t){e.setState({isLoading:!1,error:null,isEditLicenseActive:!1}),e.props.onLicenseChange(t)})).catch((function(t){return e.setState({isLoading:!1,error:t.message})}))}},{key:"onLicenseButtonClick",value:function(){this.setState({isEditLicenseActive:!this.state.isEditLicenseActive})}},{key:"render",value:function(){var e=this.props,t=e.license,n=e.canUploadLicense,a=e.isProductOperational,i=e.onGoToApp,o=e.status,s=this.state,l=s.license,c=s.error,u=s.isLoading,p=s.isEditLicenseActive,d=!_.isEmpty(t)&&t.trial;return r.a.createElement(pt,null,r.a.createElement(ce,null),r.a.createElement(T.MessageContainer,{wide:!0,size:"large",textAlign:"left",loading:u},r.a.createElement(T.Header,{as:"h2"},r.a.createElement(T.Icon,{name:"key"})," License Management"),r.a.createElement(Pt,{isTrial:d,status:o,canUploadLicense:n,isEditLicenseActive:p,onLicenseButtonClick:this.onLicenseButtonClick}),n&&p?r.a.createElement(Ct,{error:c,isLoading:u,license:l,onChange:this.onLicenseEdit,onErrorDismiss:this.onErrorDismiss,onUpload:this.onLicenseUpload}):r.a.createElement(ue,{license:t}),r.a.createElement(T.Grid,{columns:"equal"},r.a.createElement(T.Grid.Column,{textAlign:"left",verticalAlign:"middle"},r.a.createElement(de,null)),r.a.createElement(T.Grid.Column,{textAlign:"right",verticalAlign:"middle"},r.a.createElement(T.Button,{content:"Go to app",icon:"arrow right",color:"green",labelPosition:"right",fluid:!1,disabled:!a,onClick:i})))))}}]),t}(a.Component);w()(Tt,"propTypes",{isProductOperational:O.a.bool.isRequired,license:O.a.object.isRequired,onLicenseChange:O.a.func.isRequired,onGoToApp:O.a.func.isRequired,status:O.a.oneOf([y.a.LICENSE.ACTIVE,y.a.LICENSE.EMPTY,y.a.LICENSE.EXPIRED]).isRequired}),w()(Tt,"defaultProps",{});var St=n(321),kt=n(116),It=Object(i.connect)((function(e,t){var n=_.get(e,"manager",{}),a=_.get(n,"license",{});return{canUploadLicense:z.a.isUserAuthorized(y.a.permissions.LICENSE_UPLOAD,n),isProductOperational:kt.a.isProductOperational(a),license:_.get(a,"data",{}),status:_.get(a,"status",y.a.LICENSE.EMPTY)}}),(function(e,t){return{onLicenseChange:function(t){e(Object(St.a)(t))},onGoToApp:function(){e(Object(B.push)(y.a.HOME_PAGE_PATH))}}}))(Tt),Dt=n(336),At=function(e){function t(e,n){var a;return s()(this,t),(a=p()(this,h()(t).call(this,e,n))).state={showMaintenanceModal:!1},a.toolbox=z.a.getToolbox((function(){}),(function(){}),null),a}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){we.a.getPoller().start(),this.props.onGetClusterStatus()}},{key:"componentDidUpdate",value:function(){this.props.maintenanceStatus!==y.a.MAINTENANCE_ACTIVATED&&this.props.navigateToHome()}},{key:"componentWillUnmount",value:function(){we.a.getPoller().stop()}},{key:"render",value:function(){var e=this;Oe.a.turnOff();var t=this.props,n=t.canMaintenanceMode,a=t.isFetchingClusterStatus,i=t.showServicesStatus,o=this.state.showMaintenanceModal;return r.a.createElement(pt,null,r.a.createElement(ce,null),r.a.createElement(T.MessageContainer,{wide:!0},r.a.createElement(T.Header,{as:"h2"},"Maintenance mode"),r.a.createElement("p",null,"Server is on maintenance mode and is not available at the moment."),n&&r.a.createElement(T.MaintenanceModeActivationButton,{activate:!1,onClick:function(){return e.setState({showMaintenanceModal:!0})}}),i&&r.a.createElement("div",{style:{fontSize:"1rem"}},r.a.createElement(T.Divider,null),r.a.createElement(x,null),!a&&r.a.createElement(Dt.a,{toolbox:this.toolbox}))),n&&r.a.createElement(T.MaintenanceModeModal,{show:o,onHide:function(){return e.setState({showMaintenanceModal:!1})}}))}}]),t}(a.Component);At.propTypes={canMaintenanceMode:O.a.bool.isRequired,isFetchingClusterStatus:O.a.bool.isRequired,maintenanceStatus:O.a.string.isRequired,navigateToHome:O.a.func.isRequired,onGetClusterStatus:O.a.func.isRequired,showServicesStatus:O.a.bool.isRequired};var jt=Object(i.connect)((function(e){var t=z.a.isUserAuthorized(y.a.permissions.STAGE_MAINTENANCE_MODE,e.manager),n=z.a.isUserAuthorized(y.a.permissions.STAGE_SERVICES_STATUS,e.manager);return{canMaintenanceMode:t,isFetchingClusterStatus:_.get(e.manager,"clusterStatus.isFetching"),maintenanceStatus:_.get(e.manager,"maintenance"),showServicesStatus:n}}),(function(e){return{navigateToHome:function(){return e(Object(B.push)(y.a.HOME_PAGE_PATH))},onGetClusterStatus:function(){e(Object(N.a)())}}}))(At),Rt=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){window.location=this.props.url}},{key:"render",value:function(){return r.a.createElement("section",null,"Redirecting to ",this.props.url,"...")}}]),t}(a.Component),Nt=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this;return r.a.createElement(f.a,null,r.a.createElement(v.a,{exact:!0,path:y.a.LOGIN_PAGE_PATH,render:function(){return e.props.isSamlEnabled?r.a.createElement(Rt,{url:e.props.samlSsoUrl}):r.a.createElement(wt,null)}}),r.a.createElement(v.a,{exact:!0,path:y.a.LOGOUT_PAGE_PATH,render:function(){return e.props.isSamlEnabled?r.a.createElement(Rt,{url:e.props.samlPortalUrl}):r.a.createElement(E.a,{to:y.a.LOGIN_PAGE_PATH})}}),r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_PAGE_PATH,component:Et}),r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_NO_TENANTS_PAGE_PATH,component:Et}),r.a.createElement(v.a,{exact:!0,path:y.a.ERROR_404_PAGE_PATH,component:Et}),this.props.isLoggedIn&&this.props.isLicenseRequired&&r.a.createElement(v.a,{exact:!0,path:y.a.LICENSE_PAGE_PATH,component:It}),this.props.isLoggedIn&&r.a.createElement(v.a,{exact:!0,path:y.a.MAINTENANCE_PAGE_PATH,component:jt}),r.a.createElement(v.a,{render:function(t){return e.props.isLoggedIn?e.props.isInMaintenanceMode?r.a.createElement(E.a,{to:y.a.MAINTENANCE_PAGE_PATH}):e.props.isProductOperational?r.a.createElement(ut,t):r.a.createElement(E.a,{to:y.a.LICENSE_PAGE_PATH}):r.a.createElement(E.a,{to:y.a.LOGIN_PAGE_PATH})}}))}}]),t}(a.Component);t.a=Object(i.connect)((function(e){return{isProductOperational:kt.a.isProductOperational(_.get(e,"manager.license",{})),isLicenseRequired:_.get(e,"manager.license.isRequired",!1),isLoggedIn:kt.a.isLoggedIn(),isInMaintenanceMode:e.manager&&e.manager.maintenance===y.a.MAINTENANCE_ACTIVATED,isSamlEnabled:_.get(e,"config.app.saml.enabled",!1),samlPortalUrl:_.get(e,"config.app.saml.portalUrl",""),samlSsoUrl:_.get(e,"config.app.saml.ssoUrl","")}}),(function(e,t){return{}}))(Nt)},825:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(766),o=n(26),s=n(182),l=n(767),c=n(255),u=n.n(c),p=n(5),d=n.n(p),h=n(6),m=n.n(h),g=function(){function e(){d()(this,e)}return m()(e,null,[{key:"save",value:function(e,t){try{var n=JSON.stringify({manager:e.manager});localStorage.setItem("state-".concat(t),n)}catch(e){console.error(e)}}},{key:"load",value:function(e){try{var t=localStorage.getItem("state-".concat(e));if(null===t)return;return{manager:JSON.parse(t).manager}}catch(e){return void console.error(e)}}}]),e}(),f=n(24),v=n.n(f),E=n(13),y=n(319),b=n.n(y),w=n(19);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.e:return{id:b()(),name:t.name,width:t.width||t.widgetDefinition.initialWidth,height:t.height||t.widgetDefinition.initialHeight,x:t.x,y:t.y,definition:t.widgetDefinition.id,configuration:O({},w.a.buildConfig(t.widgetDefinition),{},t.configuration),drillDownPages:{}};case E.L:return O({},e,{name:t.name});case E.m:return O({},e,{configuration:t.configuration});case E.s:return O({},e,{maximized:t.maximized});case E.t:return O({},e,{maximized:!1});case E.i:return O({},e,{x:t.gridData.x,y:t.gridData.y,width:t.gridData.width,height:t.gridData.height});case E.a:var n=O({},e,{drillDownPages:O({},e.drillDownPages)});return n.drillDownPages[t.drillDownName]=t.drillDownPageId,n;default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.e:return t.widgetDefinition?[].concat(v()(e),[P(void 0,t)]):e;case E.L:case E.m:case E.s:return e.map((function(e){return e.id===t.widgetId?P(e,t):e}));case E.t:return e.map((function(e){return e.maximized?P(e,t):e}));case E.i:return e.map((function(e){return e.id===t.widgetId?P(e,t):e}));case E.J:var n=_.findIndex(e,{id:t.widgetId});return[].concat(v()(e.slice(0,n)),v()(e.slice(n+1)));case E.a:return e.map((function(e){return e.id===t.widgetId?P(e,t):e}));default:return e}};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.b:return{id:t.newPageId,name:t.name,description:"",widgets:[]};case E.k:return{isDrillDown:!0,id:t.newPageId,name:t.name,description:"",widgets:[]};case E.a:var n=k({},e,{widgets:T(e.widgets,t)});return t.parentPageId&&t.drillDownPageId&&(e.id===t.parentPageId?(n.children=n.children||[],n.children.push(t.drillDownPageId)):e.id===t.drillDownPageId&&(n.parent=t.parentPageId)),n;case E.h:return k({},e,{description:t.description});case E.K:return k({},e,{name:t.name});default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.b:case E.k:return[].concat(v()(e),[I(void 0,t)]);case E.e:case E.L:case E.i:case E.m:case E.s:case E.J:return e.map((function(e){return e.id===t.pageId?k({},e,{widgets:T(e.widgets,t)}):e}));case E.t:return e.map((function(e){return k({},e,{widgets:T(e.widgets,t)})}));case E.G:var n=_.findIndex(e,{id:t.pageId});return[].concat(v()(e.slice(0,n)),v()(e.slice(n+1)));case E.K:case E.h:return e.map((function(e){return e.id===t.pageId?I(e,t):e}));case E.a:var a=null;_.each(e,(function(e){_.each(e.widgets,(function(n){n.id===t.widgetId&&(a=e.id)}))}));var r=k({},t,{parentPageId:a});return e.map((function(e){return I(e,r)}));case E.M:var i=t.pageIndex,o=t.newPageIndex,s=0,l=0,c=e.slice(0);_.each(c,(function(e){e.isDrillDown||(i-=1,o-=1),i>=0&&(s+=1),o>=0&&(l+=1)}));var u=c.splice(s,1)[0];return c.splice(l,0,u),c;case E.fb:return t.pages;case E.Q:case E.r:return[];default:return e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.kb:return v()(t.tours);default:return e}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.jb:return R({},t.templates);case E.c:case E.l:return R({},e,{templatesDef:R({},e.templatesDef,r()({},t.templateId,R({},[t.templateId],{pages:t.pages})))});case E.H:return R({},e,{templatesDef:_.omit(e.templatesDef,[t.templateId])});case E.d:return R({},e,{pagesDef:R({},e.pagesDef,r()({},t.pageId,{name:t.name,widgets:t.widgets}))});case E.I:return R({},e,{pagesDef:_.omit(e.pagesDef,[t.pageId])});default:return e}},x=n(113),M=n.n(x);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return e.map((function(e){return e.id===t?U({},e,{},n):e}))}var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.pb:return U({},e,{isLoading:!0,error:null});case E.nb:return U({},e,{isLoading:!1,error:t.error});case E.ob:return{templates:t.templates,pages:t.pages,isLoading:!1,error:null};case E.qb:return U({},e,{templates:_.map(e.templates,(function(e){return U({},e,{selected:!e.selected&&e.id===t.templateId})}))});case E.D:return U({},e,{pages:_.map(e.pages,(function(e){return U({},e,{selected:!e.selected&&e.id===t.pageId})}))});case E.E:return U({},e,{isPageEditMode:t.isPageEditMode,page:{id:t.pageId,name:t.pageName,widgets:[]}});case E.v:return U({},e,{page:U({},e.page,{oldId:e.page.id,id:t.pageId,name:t.pageName})});case E.u:var n={id:b()(),name:t.name,width:t.width||t.widgetDefinition.initialWidth,height:t.height||t.widgetDefinition.initialHeight,x:t.x,y:t.y,definition:t.widgetDefinition.id,configuration:U({},w.a.buildConfig(t.widgetDefinition),{},t.configuration),drillDownPages:{}};return U({},e,{page:U({},e.page,{widgets:[].concat(v()(e.page.widgets),[n])})});case E.C:var a=F(e.page.widgets,t.widgetId,{name:t.name});return U({},e,{page:U({},e.page,{widgets:a})});case E.B:a=_.filter(e.page.widgets,(function(e){return e.id!==t.widgetId}));return U({},e,{page:U({},e.page,{widgets:a})});case E.z:a=F(e.page.widgets,t.widgetId,{configuration:t.configuration});return U({},e,{page:U({},e.page,{widgets:a})});case E.A:a=F(e.page.widgets,t.widgetId,{maximized:t.maximized});return U({},e,{page:U({},e.page,{widgets:a})});case E.w:var r={x:t.gridData.x,y:t.gridData.y,width:t.gridData.width,height:t.gridData.height};a=F(e.page.widgets,t.widgetId,r);return U({},e,{page:U({},e.page,{widgets:a})});case E.mb:e.pages,e.templates;var i=M()(e,["pages","templates"]);return i;case E.x:e.page;var o=M()(e,["page"]);return o;case E.y:return U({},e,{showDrillDownWarn:t.show});default:return e}};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.Z:var n=G({},e);return n[t.key]=t.value,n;case E.j:return{};default:return e}},W=n(91),H=n.n(W);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.P:return Y({},e,{isFetching:!0});case E.R:var n=_.get(t.tenants,"items[0].name",null);return _.isEmpty(e.selected)||null==_.find(t.tenants.items,{name:e.selected})||(n=e.selected),Y({},e,{isFetching:!1,items:t.tenants.items,selected:n,lastUpdated:t.receivedAt});case E.p:return Y({},e,{isFetching:!1,error:t.error,items:[],lastUpdated:t.receivedAt});case E.S:return Y({},e,{selected:t.tenant})}};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.N:return J({},e,{isFetching:!0});case E.X:return{isFetching:!1,error:void 0,status:t.status,services:t.services||e.services};case E.n:return J({},e,{isFetching:!1,error:t.error});default:return e}},Q=n(116);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.Q:return ee({},e,{data:{},status:"",isRequired:t.licenseRequired});case E.db:return ee({},e,{},e,{data:t.license,status:Q.a.getLicenseStatus(t.license)});default:return ee({},e)}};function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.O:return ae({},e,{isLoggingIn:!0});case E.Q:return ae({},e,{isLoggingIn:!1,username:t.username,auth:{role:t.role,groupSystemRoles:{},tenantsRoles:{}},err:null,tenants:[],lastUpdated:t.receivedAt,clusterStatus:{},license:te(e.license,t),version:t.version});case E.r:return ae({},e,{isLoggingIn:!1,auth:{role:null,groupSystemRoles:{},tenantsRoles:{}},err:null,tenants:{},lastUpdated:t.receivedAt,clusterStatus:{},license:{},version:{}});case E.o:return ae({},e,{isLoggingIn:!1,username:t.username,auth:{role:null,groupSystemRoles:{},tenantsRoles:{}},err:null!=t.error&&"object"===H()(t.error)?t.error.message:t.error,tenants:{},lastUpdated:t.receivedAt,clusterStatus:{},license:{},version:{}});case E.bb:return ae({},e,{isLdap:t.isLdap});case E.gb:return ae({},e,{username:t.username,auth:{role:t.role,groupSystemRoles:t.groupSystemRoles,tenantsRoles:t.tenantsRoles}});case E.N:case E.X:case E.n:return ae({},e,{clusterStatus:Z(e.clusterStatus,t)});case E.eb:return ae({},e,{version:t.version});case E.db:return ae({},e,{license:te(e.license,t)});case E.cb:return ae({},e,{maintenance:t.maintenance});case E.P:case E.R:case E.p:case E.S:return ae({},e,{tenants:X(e.tenants,t)});case E.T:return ae({},e,{activeExecutions:t.activeExecutions?t.activeExecutions:{}});case E.g:return ae({},e,{cancelExecution:t.execution,cancelAction:t.action});case E.ib:return ae({},e,{roles:t.roles,permissions:t.permissions});default:return e}};function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.Y:return oe({},e,{isEditMode:t.isEditMode});case E.W:return oe({},e,{clientConfig:t.config});case E.r:return oe({},e,{clientConfig:null,isEditMode:!1});default:return e}};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.V:return ce({},e,{loading:t.isLoading});case E.U:return ce({},e,{error:t.error,loading:!1});case E.hb:return ce({},e,{currentPageId:t.pageId});case E.Q:return ce({},e,{loading:!0});case E.r:return ce({},e,{error:t.error,loading:!1});case E.f:return ce({},e,{sidebarIsOpen:!e.sidebarIsOpen});default:return e}};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.wb:return _.find(e,{id:t.widgetId})?e.map((function(e){return e.id===t.widgetId?de({},e,{},{loading:!0,canceled:!1,error:null}):e})):[].concat(v()(e),[{id:t.widgetId,data:{},loading:!0,canceled:!1,error:null}]);case E.vb:return e.map((function(e){return e.id===t.widgetId?de({},e,{},{loading:!1,error:t.error,canceled:!1}):e}));case E.xb:return e.map((function(e){return e.id===t.widgetId?de({},e,{},{loading:!1,data:t.data,recievedAt:t.recievedAt,error:null,canceled:!1}):e}));case E.ub:return e.map((function(e){return e.id===t.widgetId?de({},e,{},{loading:!1,error:null,canceled:!0}):e}));case E.tb:return[];default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ab:return t.drilldownContext;case E.F:var n=v()(e);return n.splice(-t.count,t.count),n;default:return e}},ge=Object(s.combineReducers)({app:ue,manager:re,pages:D,widgetDefinitions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.lb:return v()(t.widgetDefinitions);case E.q:return _.sortBy([].concat(v()(e),v()(t.widgetDefinitions)),["name"]);case E.sb:var n=_.reject(e,{id:t.widgetId});return _.sortBy([].concat(v()(n),v()(t.widgetDefinitions)),["name"]);case E.rb:return _.reject(e,{id:t.widgetId});default:return e}},tours:A,templates:N,templateManagement:q,context:B,drilldownContext:me,config:se,widgetData:he});function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=function(e,t){var n=g.load(t.mode);void 0!==n||(n={context:{},manager:{}}),(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{config:t})).manager.err=null,n.manager.isLoggingIn=!1;var a=Object(s.createStore)(Object(o.connectRouter)(e)(ge),n,Object(l.composeWithDevTools)(Object(s.applyMiddleware)(i.a,Object(o.routerMiddleware)(e))));return a.subscribe(u()((function(){g.save(a.getState(),t.mode)}),1e3)),a}},851:function(e,t,n){e.exports=n(852)},852:function(e,t,n){"use strict";n.r(t);var a=n(432);a.a.load().then(a.a.start)},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5),r=n.n(a),i=n(6),o=n.n(i),s=n(2),l=n.n(s),c=n(114),u=n(226),p=function(){function e(){r()(this,e)}return o()(e,null,[{key:"CATEGORY",get:function(){return{BLUEPRINTS:"Blueprints",DEPLOYMENTS:"Deployments",BUTTONS_AND_FILTERS:"Buttons and Filters",CHARTS_AND_STATISTICS:"Charts and Statistics",EXECUTIONS_NODES:"Executions/Nodes",SYSTEM_RESOURCES:"System Resources",SPIRE:"Spire",OTHERS:"Others",ALL:"All"}}},{key:"CUSTOM_WIDGET_PERMISSIONS",get:function(){return{CUSTOM_ADMIN_ONLY:"widget_custom_admin",CUSTOM_SYS_ADMIN_ONLY:"widget_custom_sys_admin",CUSTOM_ALL:"widget_custom_all"}}}]),e}();l()(p,"POLLING_TIME_CONFIG",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{id:"pollingTime",name:"Refresh time interval",default:e,placeHolder:"Enter time interval in seconds",description:"Data of the widget will be refreshed per provided interval time in seconds",type:c.a.NUMBER_TYPE}})),l()(p,"PAGE_SIZE_CONFIG",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a.PAGE_SIZE_LIST(5)[0];return{id:"pageSize",default:e,hidden:!0}})),l()(p,"SORT_COLUMN_CONFIG",(function(e){return{id:"sortColumn",default:e,hidden:!0}})),l()(p,"SORT_ASCENDING_CONFIG",(function(e){return{id:"sortAscending",default:e,hidden:!0}})),l()(p,"WIDGET_PERMISSION",(function(e){return"widget_".concat(e)}))}});
\ No newline at end of file
